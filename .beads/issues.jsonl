{"id":"scriptum-10d","title":"CLI: claim + bundle commands","description":"scriptum claim: advisory section lease. scriptum bundle: context bundle with token budget for agents. Both delegate to daemon RPC. Unit test.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-02-06T18:24:29.604339Z","created_by":"garybasin","updated_at":"2026-02-06T22:25:51.357102Z","closed_at":"2026-02-06T22:25:51.357082Z","close_reason":"Implemented claim.rs and bundle.rs with full RPC calls, human/JSON output, and unit tests (6 tests)","dependencies":[{"issue_id":"scriptum-10d","depends_on_id":"scriptum-9k0","type":"blocks","created_at":"2026-02-06T18:26:09.102888Z","created_by":"garybasin","metadata":"{}"}]}
{"id":"scriptum-10k","title":"History: Timeline slider UI","description":"Horizontal timeline slider at bottom of editor. Drag to scrub through history. Document updates in real-time as you scrub. Unit test.","status":"closed","priority":3,"issue_type":"task","assignee":"garybasin","created_at":"2026-02-06T18:24:30.137754Z","created_by":"garybasin","updated_at":"2026-02-07T00:04:38.712084Z","closed_at":"2026-02-07T00:04:38.712021Z","close_reason":"Completed: timeline slider UI is already implemented and wired in document route; verified by passing @scriptum/web tests including TimelineSlider.test.tsx","dependencies":[{"issue_id":"scriptum-10k","depends_on_id":"scriptum-ibr","type":"blocks","created_at":"2026-02-06T18:26:09.836327Z","created_by":"garybasin","metadata":"{}"}]}
{"id":"scriptum-12b","title":"Daemon: Path canonicalization and safety","description":"Implement common/path/normalize.rs. Canonicalize all paths: reject traversal (../), reject symlink escape, normalize separators to /, Unicode NFKC, max 512 chars. Unit test: malicious paths rejected, valid paths normalized.","status":"closed","priority":0,"issue_type":"task","created_at":"2026-02-06T18:24:27.179109Z","created_by":"garybasin","updated_at":"2026-02-06T19:28:19.358545Z","closed_at":"2026-02-06T19:28:19.358504Z","close_reason":"Already completed","dependencies":[{"issue_id":"scriptum-12b","depends_on_id":"scriptum-in6","type":"blocks","created_at":"2026-02-06T19:05:21.495566Z","created_by":"garybasin","metadata":"{}"}]}
{"id":"scriptum-12r","title":"Editor: Live preview - links and images","description":"Render inline links as clickable, images as previews on unfocused lines. Handle autolinks. Raw markdown on active line. Unit test.","status":"closed","priority":1,"issue_type":"task","assignee":"garybasin","created_at":"2026-02-06T18:24:28.436586Z","created_by":"garybasin","updated_at":"2026-02-06T22:59:29.826731Z","closed_at":"2026-02-06T22:59:29.826626Z","close_reason":"Completed","dependencies":[{"issue_id":"scriptum-12r","depends_on_id":"scriptum-1v2","type":"blocks","created_at":"2026-02-06T18:26:07.590757Z","created_by":"garybasin","metadata":"{}"}]}
{"id":"scriptum-12s","title":"MCP: Server scaffold (stdio transport)","description":"packages/mcp-server scaffold. Set up MCP server with stdio transport. Register tool and resource handlers. Agent name from client config (fallback: mcp-agent). Unit test.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-02-06T18:24:29.826436Z","created_by":"garybasin","updated_at":"2026-02-06T19:44:48.648543Z","closed_at":"2026-02-06T19:44:48.647364Z","close_reason":"Completed","dependencies":[{"issue_id":"scriptum-12s","depends_on_id":"scriptum-2bq","type":"blocks","created_at":"2026-02-06T18:26:09.473614Z","created_by":"garybasin","metadata":"{}"}]}
{"id":"scriptum-136","title":"Daemon: File watcher SHA-256 hash tracking","description":"Implement watcher/hash.rs. Compute SHA-256 of file content. Store last-known hash per doc in meta.db. Skip if hash unchanged (no-op save detection). Unit test.","status":"closed","priority":1,"issue_type":"task","created_at":"2026-02-06T18:24:27.097333Z","created_by":"garybasin","updated_at":"2026-02-06T21:09:54.21953Z","closed_at":"2026-02-06T21:09:54.219291Z","close_reason":"Implemented watcher/hash.rs with sha256_hex, hash_file, get/update_stored_hash, check_content_changed, and 15 passing tests","dependencies":[{"issue_id":"scriptum-136","depends_on_id":"scriptum-1rz","type":"blocks","created_at":"2026-02-06T18:26:05.656169Z","created_by":"garybasin","metadata":"{}"}]}
{"id":"scriptum-13e","title":"Relay: WS protocol - awareness_update","description":"Bidirectional awareness messages. Aggregate awareness from all peers (cursors, presence, names). Forward changes to doc subscribers. Unit test.","status":"closed","priority":1,"issue_type":"task","created_at":"2026-02-06T18:24:28.137428Z","created_by":"garybasin","updated_at":"2026-02-06T21:32:52.698792Z","closed_at":"2026-02-06T21:32:52.698736Z","close_reason":"Added AwarenessStore, handle_awareness_update, broadcast_to_subscribers_excluding, disconnect cleanup with re-broadcast. 8 new tests, all 25 WS tests passing.","dependencies":[{"issue_id":"scriptum-13e","depends_on_id":"scriptum-k7k","type":"blocks","created_at":"2026-02-06T18:26:07.217569Z","created_by":"garybasin","metadata":"{}"}]}
{"id":"scriptum-14tz","title":"Test: Property-based diff-to-Yjs","description":"Randomized: generate random file edits, run diff-to-Yjs, verify CRDT state matches expected content. Edge cases: simultaneous edits, rapid saves, large diffs. Run nightly.","status":"closed","priority":2,"issue_type":"task","assignee":"garybasin","created_at":"2026-02-06T18:24:30.774614Z","created_by":"garybasin","updated_at":"2026-02-07T00:04:00.964538Z","closed_at":"2026-02-07T00:04:00.962972Z","close_reason":"Completed","dependencies":[{"issue_id":"scriptum-14tz","depends_on_id":"scriptum-3mu","type":"blocks","created_at":"2026-02-06T18:26:10.624844Z","created_by":"garybasin","metadata":"{}"}]}
{"id":"scriptum-14xd","title":"Permissions: RBAC enforcement middleware","description":"Enforce owner/editor/viewer roles on every REST route + WebSocket subscribe. Check workspace_members table. 403 for insufficient role. Unit test.","status":"closed","priority":1,"issue_type":"task","created_at":"2026-02-06T18:24:30.502708Z","created_by":"garybasin","updated_at":"2026-02-06T20:42:07.192508Z","closed_at":"2026-02-06T20:42:07.192193Z","close_reason":"Completed","dependencies":[{"issue_id":"scriptum-14xd","depends_on_id":"scriptum-37k","type":"blocks","created_at":"2026-02-06T18:26:10.376245Z","created_by":"garybasin","metadata":"{}"}]}
{"id":"scriptum-159l","title":"Ops: Docker containerization for relay","description":"Dockerfile for relay server. Multi-stage build (Rust compile + minimal runtime). Health check endpoint. Environment variable config. Docker compose for local dev (relay + PostgreSQL).","status":"closed","priority":2,"issue_type":"task","assignee":"garybasin","created_at":"2026-02-06T18:24:31.075042Z","created_by":"garybasin","updated_at":"2026-02-06T23:54:32.758199Z","closed_at":"2026-02-06T23:54:32.757953Z","close_reason":"Completed","dependencies":[{"issue_id":"scriptum-159l","depends_on_id":"scriptum-3r3","type":"blocks","created_at":"2026-02-06T19:05:24.538518Z","created_by":"garybasin","metadata":"{}"}]}
{"id":"scriptum-15c","title":"App: Tab bar + breadcrumb navigation","description":"Obsidian-style tab bar for open documents. Close button, switch on click. Breadcrumb below showing path. Unit test.","status":"closed","priority":1,"issue_type":"task","assignee":"garybasin","created_at":"2026-02-06T18:24:28.868286Z","created_by":"garybasin","updated_at":"2026-02-06T23:08:55.645886Z","closed_at":"2026-02-06T23:08:55.645692Z","close_reason":"Completed","dependencies":[{"issue_id":"scriptum-15c","depends_on_id":"scriptum-2l8","type":"blocks","created_at":"2026-02-06T18:26:08.142045Z","created_by":"garybasin","metadata":"{}"}]}
{"id":"scriptum-15k0","title":"Web fixture mode auth redirects break ui-smoke route rendering","description":"Playwright ui smoke fails before fixture assertions. Repro command: pnpm exec playwright test -c tests/e2e/playwright.config.mts tests/e2e/specs/ui-smoke.spec.mts --grep 'auth-callback @smoke'. In fixture mode, page snapshot shows only heading 'Workspace Selector' instead of route content such as 'Auth Callback' or document headings. Document fixtures sync-offline-dirty, sync-reconnecting, sync-error-agent, and presence-overlap-warning fail at initial heading checks for the same reason. This blocks regenerating sync/offline golden baselines; likely auth guard/callback behavior in fixture mode is redirecting routes.","status":"closed","priority":1,"issue_type":"bug","created_at":"2026-02-07T00:11:10.573534Z","created_by":"garybasin","updated_at":"2026-02-07T00:14:20.684374Z","closed_at":"2026-02-07T00:14:20.684347Z","close_reason":"Completed"}
{"id":"scriptum-15v","title":"Editor: Live preview - emphasis rendering","description":"Render bold, italic, strikethrough on unfocused lines. Handle nested emphasis. Raw markdown on active line. Unit test.","status":"closed","priority":1,"issue_type":"task","assignee":"garybasin","created_at":"2026-02-06T18:24:28.411108Z","created_by":"garybasin","updated_at":"2026-02-06T22:57:57.259241Z","closed_at":"2026-02-06T22:57:57.25886Z","close_reason":"Completed","dependencies":[{"issue_id":"scriptum-15v","depends_on_id":"scriptum-1v2","type":"blocks","created_at":"2026-02-06T18:26:07.560538Z","created_by":"garybasin","metadata":"{}"}]}
{"id":"scriptum-162","title":"Daemon: JSON-RPC agent methods","description":"agent.whoami (agent_id + capabilities), agent.status (active sessions), agent.conflicts (overlaps), agent.list (all agents), agent.claim (advisory lease). Unit test each.","status":"closed","priority":1,"issue_type":"task","assignee":"garybasin","created_at":"2026-02-06T18:24:27.60514Z","created_by":"garybasin","updated_at":"2026-02-06T23:27:19.919083Z","closed_at":"2026-02-06T23:27:19.918738Z","close_reason":"Completed","dependencies":[{"issue_id":"scriptum-162","depends_on_id":"scriptum-lp3","type":"blocks","created_at":"2026-02-06T18:26:06.433395Z","created_by":"garybasin","metadata":"{}"},{"issue_id":"scriptum-162","depends_on_id":"scriptum-4u6","type":"blocks","created_at":"2026-02-06T18:26:06.464609Z","created_by":"garybasin","metadata":"{}"},{"issue_id":"scriptum-162","depends_on_id":"scriptum-2la","type":"blocks","created_at":"2026-02-06T19:14:35.118425Z","created_by":"garybasin","metadata":"{}"}]}
{"id":"scriptum-170","title":"Git: Deterministic fallback commit messages","description":"When AI unavailable: structured fallback 'Update N file(s): paths'. Format consistently. Unit test.","status":"open","priority":2,"issue_type":"task","created_at":"2026-02-06T18:24:29.284308Z","created_by":"garybasin","updated_at":"2026-02-06T18:26:08.706097Z","dependencies":[{"issue_id":"scriptum-170","depends_on_id":"scriptum-ybw","type":"blocks","created_at":"2026-02-06T18:26:08.706051Z","created_by":"garybasin","metadata":"{}"}]}
{"id":"scriptum-18g","title":"Relay: CORS configuration","description":"CORS middleware. Allow web app origins. Allow credentials. Set appropriate headers. Unit test preflight.","status":"closed","priority":1,"issue_type":"task","created_at":"2026-02-06T18:24:27.782552Z","created_by":"garybasin","updated_at":"2026-02-06T22:02:31.20226Z","closed_at":"2026-02-06T22:02:31.201793Z","close_reason":"CORS middleware with env-configurable origins (SCRIPTUM_RELAY_CORS_ORIGINS), dev defaults for localhost:3000/5173 + Tauri, credentials support, preflight caching. 9 tests, all 143 relay tests pass.","dependencies":[{"issue_id":"scriptum-18g","depends_on_id":"scriptum-3t7","type":"blocks","created_at":"2026-02-06T18:26:06.684048Z","created_by":"garybasin","metadata":"{}"},{"issue_id":"scriptum-18g","depends_on_id":"scriptum-3r3","type":"blocks","created_at":"2026-02-06T19:05:16.012955Z","created_by":"garybasin","metadata":"{}"}]}
{"id":"scriptum-1a0","title":"CLI: edit command","description":"scriptum edit doc.md --section '## Auth' --content '...' [--file content.md] --agent name --summary '...'. Replace section body (heading preserved). Support --file for complex content. Unit test.","status":"closed","priority":1,"issue_type":"task","created_at":"2026-02-06T18:24:29.486922Z","created_by":"garybasin","updated_at":"2026-02-06T22:22:03.352071Z","closed_at":"2026-02-06T22:22:03.352051Z","close_reason":"Implemented edit command with --content/--file, --agent, --summary flags, human/JSON output, and 3 unit tests","dependencies":[{"issue_id":"scriptum-1a0","depends_on_id":"scriptum-9k0","type":"blocks","created_at":"2026-02-06T18:26:08.983446Z","created_by":"garybasin","metadata":"{}"}]}
{"id":"scriptum-1a5","title":"Relay: Error envelope + structured errors","description":"Error types matching error code registry. Envelope: {error: {code, message, retryable, request_id, details}}. Map to HTTP status codes. Wire into Axum. Unit test.","status":"closed","priority":1,"issue_type":"task","created_at":"2026-02-06T18:24:27.716542Z","created_by":"garybasin","updated_at":"2026-02-06T19:51:08.944839Z","closed_at":"2026-02-06T19:51:08.943173Z","close_reason":"Completed","dependencies":[{"issue_id":"scriptum-1a5","depends_on_id":"scriptum-3t7","type":"blocks","created_at":"2026-02-06T18:26:06.590208Z","created_by":"garybasin","metadata":"{}"},{"issue_id":"scriptum-1a5","depends_on_id":"scriptum-3r3","type":"blocks","created_at":"2026-02-06T19:05:15.969865Z","created_by":"garybasin","metadata":"{}"}]}
{"id":"scriptum-1bg","title":"Daemon: Outbox queue","description":"Implement outbox/queue.rs. Queue updates for relay. Exponential backoff 250ms..30s, max 8 attempts. Bounds: 10k updates or 1GiB -\u003e OUTBOX_BACKPRESSURE. States: pending/sent/acked/dead. Unit test.","status":"closed","priority":1,"issue_type":"task","created_at":"2026-02-06T18:24:27.432149Z","created_by":"garybasin","updated_at":"2026-02-06T21:02:00.172655Z","closed_at":"2026-02-06T21:02:00.172595Z","close_reason":"Implemented OutboxQueue with enqueue, mark_sent/acked/failed state machine, exponential backoff (250ms..30s), max 8 attempts → dead, backpressure check (10k updates/1GiB), ready_to_send query. 17 unit tests pass.","dependencies":[{"issue_id":"scriptum-1bg","depends_on_id":"scriptum-1sx","type":"blocks","created_at":"2026-02-06T18:26:06.170333Z","created_by":"garybasin","metadata":"{}"}]}
{"id":"scriptum-1cg","title":"Relay: Awareness aggregation","description":"awareness/mod.rs. Aggregate awareness from all peers per doc: cursors, selections, names, types, lease states. API for who's-where queries. Unit test.","status":"closed","priority":1,"issue_type":"task","created_at":"2026-02-06T18:24:28.306531Z","created_by":"garybasin","updated_at":"2026-02-06T21:59:41.357633Z","closed_at":"2026-02-06T21:59:41.357265Z","close_reason":"Awareness module with typed PeerState, who_is_where queries, active_session_count, active_docs, peers_for_doc. AwarenessStore moved from ws/mod.rs. 17 new tests, all 134 relay tests pass.","dependencies":[{"issue_id":"scriptum-1cg","depends_on_id":"scriptum-13e","type":"blocks","created_at":"2026-02-06T18:26:07.43213Z","created_by":"garybasin","metadata":"{}"}]}
{"id":"scriptum-1ch","title":"Spike: CodeMirror connects to daemon WS","description":"In packages/editor, set up minimal CM6 editor with y-codemirror.next binding to y-websocket provider pointing at ws://localhost:{port}/yjs. Verify CM produces Yjs ops sent to daemon and remote updates appear. Create test page in packages/web.","status":"closed","priority":0,"issue_type":"task","assignee":"garybasin","created_at":"2026-02-06T18:24:26.914642Z","created_by":"garybasin","updated_at":"2026-02-06T22:23:43.121549Z","closed_at":"2026-02-06T22:23:43.121287Z","close_reason":"Completed","dependencies":[{"issue_id":"scriptum-1ch","depends_on_id":"scriptum-3g2","type":"blocks","created_at":"2026-02-06T18:26:05.337473Z","created_by":"garybasin","metadata":"{}"},{"issue_id":"scriptum-1ch","depends_on_id":"scriptum-25w","type":"blocks","created_at":"2026-02-06T18:26:05.366043Z","created_by":"garybasin","metadata":"{}"}]}
{"id":"scriptum-1cpi","title":"Share: Share link redeem + rate limiting","description":"Redeem endpoint validates token hash, password, max_uses, expiry. Rate limit to prevent brute-force. Grant temporary access. Unit test.","status":"open","priority":2,"issue_type":"task","created_at":"2026-02-06T18:24:30.584668Z","created_by":"garybasin","updated_at":"2026-02-06T18:26:10.468812Z","dependencies":[{"issue_id":"scriptum-1cpi","depends_on_id":"scriptum-1sie","type":"blocks","created_at":"2026-02-06T18:26:10.468768Z","created_by":"garybasin","metadata":"{}"}]}
{"id":"scriptum-1e1","title":"Editor: Live preview - code blocks","description":"Render fenced code blocks with syntax highlighting on unfocused lines. Language detection. Raw markdown on active line. Unit test.","status":"closed","priority":1,"issue_type":"task","assignee":"garybasin","created_at":"2026-02-06T18:24:28.460242Z","created_by":"garybasin","updated_at":"2026-02-06T23:04:07.050659Z","closed_at":"2026-02-06T23:04:07.050556Z","close_reason":"Completed","dependencies":[{"issue_id":"scriptum-1e1","depends_on_id":"scriptum-1v2","type":"blocks","created_at":"2026-02-06T18:26:07.620505Z","created_by":"garybasin","metadata":"{}"}]}
{"id":"scriptum-1e4y","title":"App: Presence avatar stack","description":"AvatarStack.tsx component: top-right corner showing who's online in the current document. Colored circles with initials, overflow '+N' indicator. Color assignment deterministic from user/agent name hash. Per SPEC UI reference lines 308-310.","status":"closed","priority":1,"issue_type":"task","assignee":"garybasin","created_at":"2026-02-06T19:05:47.870317Z","created_by":"garybasin","updated_at":"2026-02-06T22:38:36.533196Z","closed_at":"2026-02-06T22:38:36.53311Z","close_reason":"Already implemented and verified (AvatarStack + tests)","dependencies":[{"issue_id":"scriptum-1e4y","depends_on_id":"scriptum-2l8","type":"blocks","created_at":"2026-02-06T19:07:07.426922Z","created_by":"garybasin","metadata":"{}"},{"issue_id":"scriptum-1e4y","depends_on_id":"scriptum-2cx","type":"blocks","created_at":"2026-02-06T19:07:07.465712Z","created_by":"garybasin","metadata":"{}"}]}
{"id":"scriptum-1etq","title":"Test: Integration - git worker E2E","description":"Integration test: daemon with git repo, make edits, trigger commit, verify git log has AI message + co-author trailers. Test push with mock remote.","status":"closed","priority":2,"issue_type":"task","assignee":"garybasin","created_at":"2026-02-06T18:24:30.858232Z","created_by":"garybasin","updated_at":"2026-02-06T23:52:11.784247Z","closed_at":"2026-02-06T23:52:11.784195Z","close_reason":"Completed","dependencies":[{"issue_id":"scriptum-1etq","depends_on_id":"scriptum-ybw","type":"blocks","created_at":"2026-02-06T18:26:10.722394Z","created_by":"garybasin","metadata":"{}"},{"issue_id":"scriptum-1etq","depends_on_id":"scriptum-1p1","type":"blocks","created_at":"2026-02-06T19:14:36.970639Z","created_by":"garybasin","metadata":"{}"},{"issue_id":"scriptum-1etq","depends_on_id":"scriptum-39c","type":"blocks","created_at":"2026-02-06T19:14:37.023378Z","created_by":"garybasin","metadata":"{}"}]}
{"id":"scriptum-1eun","title":"Config: Local config files (config.toml + workspace.toml)","description":"Global config at ~/.scriptum/config.toml (API keys, defaults). Per-workspace config at .scriptum/workspace.toml (git remote, sync settings, push policy, AI commit toggle, redaction policy). Per SPEC Part 4 local storage layout.","status":"closed","priority":1,"issue_type":"task","created_at":"2026-02-06T19:06:14.72613Z","created_by":"garybasin","updated_at":"2026-02-06T22:10:31.529762Z","closed_at":"2026-02-06T22:10:31.529708Z","close_reason":"GlobalConfig (~/.scriptum/config.toml) + WorkspaceConfig (.scriptum/workspace.toml) with TOML parsing, defaults, load/save, GitConfig (remote, branch, push_policy, ai_commit, redaction_policy), SyncConfig. 16 tests, all 211 daemon lib tests pass.","dependencies":[{"issue_id":"scriptum-1eun","depends_on_id":"scriptum-in6","type":"blocks","created_at":"2026-02-06T19:07:21.496698Z","created_by":"garybasin","metadata":"{}"}]}
{"id":"scriptum-1ew","title":"Relay: PostgreSQL connection pool","description":"Set up sqlx PgPool. Configure pool (min/max connections, timeout). Pool health check. db/pool.rs. Integration test.","status":"closed","priority":0,"issue_type":"task","created_at":"2026-02-06T18:24:27.673066Z","created_by":"garybasin","updated_at":"2026-02-06T19:22:35.12987Z","closed_at":"2026-02-06T19:22:35.129848Z","close_reason":"Completed","dependencies":[{"issue_id":"scriptum-1ew","depends_on_id":"scriptum-3t7","type":"blocks","created_at":"2026-02-06T18:26:06.528217Z","created_by":"garybasin","metadata":"{}"}]}
{"id":"scriptum-1g5","title":"Init crates/cli scaffold","description":"Create crates/cli/Cargo.toml with deps (clap, tokio, serde_json). Create src/main.rs with clap CLI scaffold. Stub all subcommands: read, edit, tree, sections, search, diff, ls, blame, claim, bundle, whoami, status, conflicts, agents, setup, peek.","status":"closed","priority":0,"issue_type":"task","created_at":"2026-02-06T18:24:26.603221Z","created_by":"garybasin","updated_at":"2026-02-06T19:26:49.900479Z","closed_at":"2026-02-06T19:26:49.900245Z","close_reason":"Completed","dependencies":[{"issue_id":"scriptum-1g5","depends_on_id":"scriptum-3sk","type":"blocks","created_at":"2026-02-06T18:26:04.602903Z","created_by":"garybasin","metadata":"{}"},{"issue_id":"scriptum-1g5","depends_on_id":"scriptum-3l9","type":"blocks","created_at":"2026-02-06T18:26:04.706882Z","created_by":"garybasin","metadata":"{}"}]}
{"id":"scriptum-1i2","title":"History: Author-colored highlights","description":"During history scrub, text colored by who wrote it (collaboration cursor colors). Per-character attribution from CRDT origin tags. Unit test.","status":"open","priority":3,"issue_type":"task","created_at":"2026-02-06T18:24:30.163271Z","created_by":"garybasin","updated_at":"2026-02-06T18:26:09.870962Z","dependencies":[{"issue_id":"scriptum-1i2","depends_on_id":"scriptum-ibr","type":"blocks","created_at":"2026-02-06T18:26:09.870916Z","created_by":"garybasin","metadata":"{}"}]}
{"id":"scriptum-1i7i","title":"Test: Integration - daemon + file watcher","description":"Integration test: start daemon, create workspace, write .md file, verify CRDT updated, edit via RPC, verify file updated. Full bidirectional pipeline.","status":"closed","priority":1,"issue_type":"task","created_at":"2026-02-06T18:24:30.802398Z","created_by":"garybasin","updated_at":"2026-02-06T22:33:12.181726Z","closed_at":"2026-02-06T22:33:12.181696Z","close_reason":"Integration test: daemon + file watcher bidirectional pipeline. 5 tests: file write → CRDT update, file modify → CRDT update, doc.read RPC with seeded content, file delete → DocRemoved event, full pipeline + section parsing.","dependencies":[{"issue_id":"scriptum-1i7i","depends_on_id":"scriptum-ako","type":"blocks","created_at":"2026-02-06T18:26:10.659189Z","created_by":"garybasin","metadata":"{}"}]}
{"id":"scriptum-1j4","title":"CLI: Exit codes","description":"Consistent exit codes: 0=success, 1=error, 2=usage, 10=daemon down, 11=auth, 12=conflict/overlap, 13=network. Map RPC errors to exit codes. Unit test.","status":"closed","priority":1,"issue_type":"task","created_at":"2026-02-06T18:24:29.438203Z","created_by":"garybasin","updated_at":"2026-02-06T22:13:09.531347Z","closed_at":"2026-02-06T22:13:09.53112Z","close_reason":"Implemented CLI exit codes module with ExitCode enum (0-13), error chain inspection, RPC error mapping, and 10 unit tests","dependencies":[{"issue_id":"scriptum-1j4","depends_on_id":"scriptum-fmx","type":"blocks","created_at":"2026-02-06T18:26:08.922829Z","created_by":"garybasin","metadata":"{}"}]}
{"id":"scriptum-1jd5","title":"Test: Desktop WebDriver tests (Windows/Linux Tauri)","description":"Desktop-specific WebDriver tests on Windows/Linux for Tauri-only features: file dialogs, daemon IPC wiring, file watcher integration, window/menu shortcuts. Do NOT attempt macOS desktop visual tests (WKWebView has no WebDriver). Visual correctness proved on web build with Playwright. Per SPEC Tauri desktop testing strategy.","status":"open","priority":3,"issue_type":"task","created_at":"2026-02-06T19:06:53.982086Z","created_by":"garybasin","updated_at":"2026-02-06T19:07:34.419914Z","dependencies":[{"issue_id":"scriptum-1jd5","depends_on_id":"scriptum-fon","type":"blocks","created_at":"2026-02-06T19:07:34.419868Z","created_by":"garybasin","metadata":"{}"}]}
{"id":"scriptum-1k2","title":"Daemon: Section parser with pulldown-cmark","description":"Implement common/section/parser.rs. Parse markdown into section tree using pulldown-cmark. Only ATX headings are boundaries. Ignore headings in code blocks/HTML. Build parent-child tree. Unit test.","status":"closed","priority":1,"issue_type":"task","created_at":"2026-02-06T18:24:27.199714Z","created_by":"garybasin","updated_at":"2026-02-06T19:45:02.467789Z","closed_at":"2026-02-06T19:45:02.467727Z","close_reason":"Completed","dependencies":[{"issue_id":"scriptum-1k2","depends_on_id":"scriptum-3l9","type":"blocks","created_at":"2026-02-06T18:26:05.828027Z","created_by":"garybasin","metadata":"{}"}]}
{"id":"scriptum-1k3","title":"App: Sidebar - document tree","description":"Folder tree with expand/collapse. Show files with icons. Indicate active document. Sort by name. Right-click context menu: Rename, Move, Delete, Add Tag. Unit test.","status":"closed","priority":1,"issue_type":"task","created_at":"2026-02-06T18:24:28.793308Z","created_by":"garybasin","updated_at":"2026-02-06T22:30:21.340749Z","closed_at":"2026-02-06T22:30:21.340321Z","close_reason":"Implemented DocumentTree sidebar component: folder tree from doc paths, expand/collapse, file type icons, active document highlight, sorted (folders first), right-click context menu (Rename/Move/Delete/Add Tag), ARIA tree roles. 14 tests.","dependencies":[{"issue_id":"scriptum-1k3","depends_on_id":"scriptum-2l8","type":"blocks","created_at":"2026-02-06T18:26:08.048904Z","created_by":"garybasin","metadata":"{}"}]}
{"id":"scriptum-1k7","title":"App: Sidebar - tags section","description":"Tags section in sidebar showing workspace tags as chips. Click to filter document tree by tag. Unit test.","status":"in_progress","priority":2,"issue_type":"task","assignee":"garybasin","created_at":"2026-02-06T18:24:28.822053Z","created_by":"garybasin","updated_at":"2026-02-07T00:21:33.669477Z","dependencies":[{"issue_id":"scriptum-1k7","depends_on_id":"scriptum-2l8","type":"blocks","created_at":"2026-02-06T18:26:08.080474Z","created_by":"garybasin","metadata":"{}"}]}
{"id":"scriptum-1m1","title":"Editor: Live preview - math (KaTeX) + diagrams","description":"Render LaTeX math via KaTeX and Mermaid diagrams on unfocused lines. Handle inline and block math. Unit test.","status":"closed","priority":2,"issue_type":"task","assignee":"garybasin","created_at":"2026-02-06T18:24:28.529588Z","created_by":"garybasin","updated_at":"2026-02-07T00:21:25.26508Z","closed_at":"2026-02-07T00:21:25.264851Z","close_reason":"Completed","dependencies":[{"issue_id":"scriptum-1m1","depends_on_id":"scriptum-1v2","type":"blocks","created_at":"2026-02-06T18:26:07.718129Z","created_by":"garybasin","metadata":"{}"}]}
{"id":"scriptum-1m5","title":"App: Sidebar - agents section","description":"Active agents section in sidebar. Show agent name, status (active/idle), and which doc they're editing. Unit test.","status":"closed","priority":2,"issue_type":"task","assignee":"garybasin","created_at":"2026-02-06T18:24:28.844603Z","created_by":"garybasin","updated_at":"2026-02-07T00:09:23.47828Z","closed_at":"2026-02-07T00:09:23.478073Z","close_reason":"Completed","dependencies":[{"issue_id":"scriptum-1m5","depends_on_id":"scriptum-2l8","type":"blocks","created_at":"2026-02-06T18:26:08.11271Z","created_by":"garybasin","metadata":"{}"}]}
{"id":"scriptum-1mi","title":"Agent: Claude Code hooks - SessionStart + PreCompact","description":"SessionStart: inject workspace status + CLI reference + agent state. PreCompact: preserve Scriptum context for post-compaction. Generate hook scripts. Unit test.","status":"closed","priority":2,"issue_type":"task","assignee":"garybasin","created_at":"2026-02-06T18:24:30.010589Z","created_by":"garybasin","updated_at":"2026-02-06T23:19:59.893875Z","closed_at":"2026-02-06T23:19:59.893814Z","close_reason":"Completed","dependencies":[{"issue_id":"scriptum-1mi","depends_on_id":"scriptum-k3k","type":"blocks","created_at":"2026-02-06T18:26:09.686902Z","created_by":"garybasin","metadata":"{}"}]}
{"id":"scriptum-1muc","title":"Test: Contract tests","description":"Verify REST responses match OpenAPI spec. WS frame schemas match protocol definition. JSON-RPC method signatures match contract. MCP tools match daemon RPC. Run on every PR.","status":"in_progress","priority":2,"issue_type":"task","assignee":"garybasin","created_at":"2026-02-06T18:24:30.884632Z","created_by":"garybasin","updated_at":"2026-02-07T00:20:52.434362Z","dependencies":[{"issue_id":"scriptum-1muc","depends_on_id":"scriptum-388","type":"blocks","created_at":"2026-02-06T19:05:28.425451Z","created_by":"garybasin","metadata":"{}"},{"issue_id":"scriptum-1muc","depends_on_id":"scriptum-p0f","type":"blocks","created_at":"2026-02-06T19:05:28.458076Z","created_by":"garybasin","metadata":"{}"}]}
{"id":"scriptum-1mw","title":"Daemon: JSON-RPC doc.search","description":"doc.search: params workspace_id, q, limit, cursor. Search across workspace documents using FTS. Return doc_id, path, title, snippet, score. Unit test.","status":"closed","priority":2,"issue_type":"task","assignee":"garybasin","created_at":"2026-02-06T18:24:27.561443Z","created_by":"garybasin","updated_at":"2026-02-07T00:05:54.526216Z","closed_at":"2026-02-07T00:05:54.526049Z","close_reason":"Completed","dependencies":[{"issue_id":"scriptum-1mw","depends_on_id":"scriptum-2y6","type":"blocks","created_at":"2026-02-06T19:05:21.594668Z","created_by":"garybasin","metadata":"{}"},{"issue_id":"scriptum-1mw","depends_on_id":"scriptum-2la","type":"blocks","created_at":"2026-02-06T19:05:21.638285Z","created_by":"garybasin","metadata":"{}"}]}
{"id":"scriptum-1mwt","title":"Test: Golden file test runner","description":"tests/golden/runner.rs. Load golden test cases (input markdown pairs), run diff-to-Yjs conversion, compare output against expected. Fail on mismatch with detailed diff. Runs on every commit.","status":"closed","priority":1,"issue_type":"task","created_at":"2026-02-06T18:24:30.693851Z","created_by":"garybasin","updated_at":"2026-02-06T20:36:03.338189Z","closed_at":"2026-02-06T20:36:03.338168Z","close_reason":"Completed","dependencies":[{"issue_id":"scriptum-1mwt","depends_on_id":"scriptum-3mu","type":"blocks","created_at":"2026-02-06T18:26:10.529723Z","created_by":"garybasin","metadata":"{}"}]}
{"id":"scriptum-1nq","title":"Agent: E2E agent flow testing","description":"End-to-end test: Claude Code + MCP -\u003e daemon -\u003e CRDT -\u003e file -\u003e git. Verify full lifecycle: edit via MCP, see in editor, commit to git with attribution. Integration test.","status":"open","priority":2,"issue_type":"task","created_at":"2026-02-06T18:24:30.088612Z","created_by":"garybasin","updated_at":"2026-02-06T18:26:09.77682Z","dependencies":[{"issue_id":"scriptum-1nq","depends_on_id":"scriptum-2ma","type":"blocks","created_at":"2026-02-06T18:26:09.776775Z","created_by":"garybasin","metadata":"{}"}]}
{"id":"scriptum-1o2","title":"Agent: Attribution UI","description":"Name badges in editor for agent vs human. Per-section 'last edited by' indicator. Contribution breakdown per editor. Wire into presence + section awareness data. Unit test.","status":"open","priority":3,"issue_type":"task","created_at":"2026-02-06T18:24:30.062895Z","created_by":"garybasin","updated_at":"2026-02-06T18:26:09.746703Z","dependencies":[{"issue_id":"scriptum-1o2","depends_on_id":"scriptum-252","type":"blocks","created_at":"2026-02-06T18:26:09.746658Z","created_by":"garybasin","metadata":"{}"}]}
{"id":"scriptum-1og2","title":"Test: Property-based CRDT convergence","description":"Randomized property tests: generate random sequences of concurrent edits from multiple clients, verify all clients converge to same state. 10k-op scenarios. Run nightly.","status":"closed","priority":2,"issue_type":"task","assignee":"garybasin","created_at":"2026-02-06T18:24:30.747774Z","created_by":"garybasin","updated_at":"2026-02-06T23:21:28.627491Z","closed_at":"2026-02-06T23:21:28.62726Z","close_reason":"Completed","dependencies":[{"issue_id":"scriptum-1og2","depends_on_id":"scriptum-1s1","type":"blocks","created_at":"2026-02-06T18:26:10.592175Z","created_by":"garybasin","metadata":"{}"}]}
{"id":"scriptum-1p1","title":"Git: Leader election via relay","description":"git/leader.rs. Daemon acquires git-leader lease from relay (TTL 60s, auto-renew on heartbeat). Disconnection -\u003e lease expires -\u003e another daemon claims. One leader per workspace. Unit test.","status":"closed","priority":1,"issue_type":"task","created_at":"2026-02-06T18:24:29.18753Z","created_by":"garybasin","updated_at":"2026-02-06T21:28:32.839151Z","closed_at":"2026-02-06T21:28:32.838764Z","close_reason":"Implemented daemon-side LeaderClient trait, LeaderConfig, leader_loop with acquire/renew/release, LeaderHandle with graceful shutdown. 14 tests passing.","dependencies":[{"issue_id":"scriptum-1p1","depends_on_id":"scriptum-nwj","type":"blocks","created_at":"2026-02-06T18:26:08.515872Z","created_by":"garybasin","metadata":"{}"},{"issue_id":"scriptum-1p1","depends_on_id":"scriptum-22zt","type":"blocks","created_at":"2026-02-06T19:21:27.183361Z","created_by":"garybasin","metadata":"{}"}]}
{"id":"scriptum-1pot","title":"CI: Security test workflow","description":".github/workflows/security.yml. Tests: AuthZ bypass, path traversal, XSS sanitization, token replay, brute-force rate limiting. cargo deny check. Trigger on PR.","status":"open","priority":2,"issue_type":"task","created_at":"2026-02-06T18:24:30.937729Z","created_by":"garybasin","updated_at":"2026-02-06T18:26:10.786442Z","dependencies":[{"issue_id":"scriptum-1pot","depends_on_id":"scriptum-14xd","type":"blocks","created_at":"2026-02-06T18:26:10.786358Z","created_by":"garybasin","metadata":"{}"}]}
{"id":"scriptum-1pq","title":"Daemon: documents_local table CRUD","description":"CRUD for documents_local in meta.db: insert, update, get by doc_id, list by workspace_id. Track abs_path, line_ending_style, last_fs_mtime_ns, last_content_hash, projection_rev. Unit test.","status":"closed","priority":1,"issue_type":"task","assignee":"garybasin","created_at":"2026-02-06T18:24:27.305452Z","created_by":"garybasin","updated_at":"2026-02-06T23:38:28.567758Z","closed_at":"2026-02-06T23:38:28.56768Z","close_reason":"Completed","dependencies":[{"issue_id":"scriptum-1pq","depends_on_id":"scriptum-1sx","type":"blocks","created_at":"2026-02-06T18:26:05.969899Z","created_by":"garybasin","metadata":"{}"}]}
{"id":"scriptum-1prl","title":"Build: resolve libsqlite3-sys conflict between sqlx and rusqlite","description":"Running cargo test -p scriptum-daemon ydoc fails during workspace dependency resolution because sqlx from scriptum-relay pulls sqlx-sqlite/libsqlite3-sys ^0.30.1 while daemon rusqlite pulls libsqlite3-sys ^0.31.0. Cargo rejects multiple links=\"sqlite3\" versions in one graph. This blocks scoped daemon test execution for CRDT YDoc tasks. Repro: cargo test -p scriptum-daemon ydoc. Likely fix: disable sqlite/default features for relay sqlx dependency or align sqlite bindings across crates.","status":"closed","priority":1,"issue_type":"bug","created_at":"2026-02-06T19:22:04.914596Z","created_by":"garybasin","updated_at":"2026-02-06T21:54:09.36362Z","closed_at":"2026-02-06T21:54:09.363565Z","close_reason":"Already resolved — cargo check --workspace and cargo test -p scriptum-daemon ydoc both succeed without sqlite conflicts."}
{"id":"scriptum-1q3","title":"Editor: Live preview - tables","description":"Render GFM tables with proper alignment on unfocused lines. Handle column alignment markers. Raw markdown on active line. Unit test.","status":"closed","priority":1,"issue_type":"task","assignee":"garybasin","created_at":"2026-02-06T18:24:28.483322Z","created_by":"garybasin","updated_at":"2026-02-06T23:03:06.749794Z","closed_at":"2026-02-06T23:03:06.749345Z","close_reason":"Completed","dependencies":[{"issue_id":"scriptum-1q3","depends_on_id":"scriptum-1v2","type":"blocks","created_at":"2026-02-06T18:26:07.653072Z","created_by":"garybasin","metadata":"{}"}]}
{"id":"scriptum-1rz","title":"Daemon: File watcher fsevents/inotify integration","description":"Implement watcher/mod.rs using notify crate (fsevents macOS, inotify Linux). Watch workspace dir for create/modify/delete on .md files. Emit raw events. Configure recursive watching. Unit test.","status":"closed","priority":1,"issue_type":"task","created_at":"2026-02-06T18:24:27.057725Z","created_by":"garybasin","updated_at":"2026-02-06T20:33:41.692826Z","closed_at":"2026-02-06T20:33:41.692453Z","close_reason":"Completed","dependencies":[{"issue_id":"scriptum-1rz","depends_on_id":"scriptum-in6","type":"blocks","created_at":"2026-02-06T18:26:05.593137Z","created_by":"garybasin","metadata":"{}"}]}
{"id":"scriptum-1s1","title":"Spike: Y.Doc wrapper with y-crdt Rust","description":"In crates/daemon/src/engine/, create Y.Doc wrapper using y-crdt (yrs crate). Support: create new doc, load from binary state, apply update, encode state, getText/getMap. Unit tests for basic doc ops.","status":"closed","priority":0,"issue_type":"task","created_at":"2026-02-06T18:24:26.872645Z","created_by":"garybasin","updated_at":"2026-02-06T19:21:25.676329Z","closed_at":"2026-02-06T19:21:25.67631Z","close_reason":"Completed","dependencies":[{"issue_id":"scriptum-1s1","depends_on_id":"scriptum-in6","type":"blocks","created_at":"2026-02-06T18:26:05.276726Z","created_by":"garybasin","metadata":"{}"}]}
{"id":"scriptum-1sie","title":"Share: Share link creation","description":"POST /share-links. 128-bit random token, stored hashed. Optional Argon2id password. Bounded by max_uses, expiry, disabled flag. Unit test.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-02-06T18:24:30.557464Z","created_by":"garybasin","updated_at":"2026-02-06T20:46:26.454332Z","closed_at":"2026-02-06T20:46:26.453917Z","close_reason":"Completed","dependencies":[{"issue_id":"scriptum-1sie","depends_on_id":"scriptum-351","type":"blocks","created_at":"2026-02-06T18:26:10.437983Z","created_by":"garybasin","metadata":"{}"}]}
{"id":"scriptum-1sj","title":"Spike: CLI edits doc via y-crdt, converges with CM","description":"In crates/cli, implement minimal edit command connecting to daemon via JSON-RPC, apply text edit to Y.Doc, verify it appears in CM editor in real-time. Validates CLI-\u003edaemon-\u003eCM sync path.","status":"closed","priority":0,"issue_type":"task","created_at":"2026-02-06T18:24:26.935093Z","created_by":"garybasin","updated_at":"2026-02-06T22:47:29.606175Z","closed_at":"2026-02-06T22:47:29.606098Z","close_reason":"Implemented doc.edit_section RPC handler with section-targeted CRDT text replacement. Added remove_text/replace_text/text_len to YDoc. 5 integration tests validate CLI→daemon→CRDT→CM sync path including cross-client convergence.","dependencies":[{"issue_id":"scriptum-1sj","depends_on_id":"scriptum-1g5","type":"blocks","created_at":"2026-02-06T18:26:05.395883Z","created_by":"garybasin","metadata":"{}"},{"issue_id":"scriptum-1sj","depends_on_id":"scriptum-25w","type":"blocks","created_at":"2026-02-06T18:26:05.423847Z","created_by":"garybasin","metadata":"{}"}]}
{"id":"scriptum-1sjd","title":"CI: Integration test workflow","description":".github/workflows/integration.yml. Run integration tests: daemon+watcher, relay+WS, git worker. Requires PostgreSQL service container. Trigger on PR.","status":"closed","priority":1,"issue_type":"task","assignee":"garybasin","created_at":"2026-02-06T18:24:30.911614Z","created_by":"garybasin","updated_at":"2026-02-06T23:49:34.445844Z","closed_at":"2026-02-06T23:49:34.44406Z","close_reason":"Completed","dependencies":[{"issue_id":"scriptum-1sjd","depends_on_id":"scriptum-1i7i","type":"blocks","created_at":"2026-02-06T18:26:10.753427Z","created_by":"garybasin","metadata":"{}"}]}
{"id":"scriptum-1sx","title":"Daemon: SQLite meta.db schema + migrations","description":"Implement store/meta_db.rs. Create meta.db with schema_migrations table. Migration runner. Initial migration: documents_local, agent_sessions, agent_recent_edits, git_sync_config, git_sync_jobs, outbox_updates. Unit test.","status":"closed","priority":1,"issue_type":"task","created_at":"2026-02-06T18:24:27.284565Z","created_by":"garybasin","updated_at":"2026-02-06T19:25:41.011974Z","closed_at":"2026-02-06T19:25:41.011903Z","close_reason":"Completed","dependencies":[{"issue_id":"scriptum-1sx","depends_on_id":"scriptum-in6","type":"blocks","created_at":"2026-02-06T18:26:05.939296Z","created_by":"garybasin","metadata":"{}"}]}
{"id":"scriptum-1tre","title":"App: Drag and drop images/files","description":"Drag and drop images/files into editor. Auto-upload and insert markdown link. Handle multiple files. Progress indicator. Unit test.","status":"open","priority":3,"issue_type":"task","created_at":"2026-02-06T18:24:30.668605Z","created_by":"garybasin","updated_at":"2026-02-06T19:05:28.389575Z","dependencies":[{"issue_id":"scriptum-1tre","depends_on_id":"scriptum-1v2","type":"blocks","created_at":"2026-02-06T19:05:28.389527Z","created_by":"garybasin","metadata":"{}"}]}
{"id":"scriptum-1u6","title":"Git: Co-authored-by trailers","description":"git/attribution.rs. Collect all editors since last commit from dual attribution model. Generate Co-authored-by trailers. Format: agent:name@scriptum for agents. Unit test.","status":"open","priority":2,"issue_type":"task","created_at":"2026-02-06T18:24:29.30926Z","created_by":"garybasin","updated_at":"2026-02-06T18:26:08.741134Z","dependencies":[{"issue_id":"scriptum-1u6","depends_on_id":"scriptum-89k","type":"blocks","created_at":"2026-02-06T18:26:08.741093Z","created_by":"garybasin","metadata":"{}"}]}
{"id":"scriptum-1v2","title":"Editor: CM6 extension scaffold + markdown parser","description":"Set up monolithic CM6 extension entry point in live-preview/extension.ts. Integrate markdown parser for tree analysis. Configure StateField for tracking active line. Unit test: extension loads.","status":"closed","priority":1,"issue_type":"task","created_at":"2026-02-06T18:24:28.360454Z","created_by":"garybasin","updated_at":"2026-02-06T19:17:01.978738Z","closed_at":"2026-02-06T19:17:01.978492Z","close_reason":"Completed","dependencies":[{"issue_id":"scriptum-1v2","depends_on_id":"scriptum-3g2","type":"blocks","created_at":"2026-02-06T18:26:07.497508Z","created_by":"garybasin","metadata":"{}"}]}
{"id":"scriptum-1wf","title":"App: Zustand workspace + document stores","description":"Zustand stores for workspace list + active workspace, document list + open docs. Yjs reactive updates -\u003e React. Unit test.","status":"closed","priority":1,"issue_type":"task","assignee":"garybasin","created_at":"2026-02-06T18:24:28.936831Z","created_by":"garybasin","updated_at":"2026-02-06T22:25:17.549906Z","closed_at":"2026-02-06T22:25:17.549855Z","close_reason":"Completed","dependencies":[{"issue_id":"scriptum-1wf","depends_on_id":"scriptum-2l8","type":"blocks","created_at":"2026-02-06T18:26:08.241805Z","created_by":"garybasin","metadata":"{}"}]}
{"id":"scriptum-1wj","title":"Editor: Lease badge rendering","description":"Render [agent-name editing] inline badge next to section heading. Badge color matches editor's cursor color. Hover shows details. Badge disappears on lease expiry. Unit test.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-02-06T18:24:28.652557Z","created_by":"garybasin","updated_at":"2026-02-07T00:21:47.966114Z","closed_at":"2026-02-07T00:21:47.96609Z","close_reason":"Implemented lease badge extension with LeaseBadgeWidget, setLeases StateEffect, leaseBadgeState StateField, leaseBadgeExtension, theme, and 9 unit tests. All 85 editor tests pass.","dependencies":[{"issue_id":"scriptum-1wj","depends_on_id":"scriptum-29t","type":"blocks","created_at":"2026-02-06T18:26:07.863952Z","created_by":"garybasin","metadata":"{}"}]}
{"id":"scriptum-1wm8","title":"CI: Build artifacts workflow","description":".github/workflows/build.yml. Build: Tauri desktop (macOS/Linux/Windows), CLI binaries, Docker relay image. Trigger on release tags.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-02-06T18:24:31.019973Z","created_by":"garybasin","updated_at":"2026-02-06T22:48:57.841422Z","closed_at":"2026-02-06T22:48:57.841396Z","close_reason":"Created build.yml workflow with CLI binaries (linux/macos/windows), Tauri desktop app (3 platforms), and Docker relay image. Docker uses multi-stage build with dependency caching.","dependencies":[{"issue_id":"scriptum-1wm8","depends_on_id":"scriptum-2ra","type":"blocks","created_at":"2026-02-06T19:05:28.493004Z","created_by":"garybasin","metadata":"{}"},{"issue_id":"scriptum-1wm8","depends_on_id":"scriptum-3r3","type":"blocks","created_at":"2026-02-06T19:05:28.528593Z","created_by":"garybasin","metadata":"{}"}]}
{"id":"scriptum-1xfg","title":"Editor: Comment decorations (gutter + highlight)","description":"Implement CM6 decorations for inline comments — gutter markers and text highlight ranges. SPEC file tree shows gutter.ts and highlight.ts under packages/editor/src/comments/. Separate from the React comment sidebar UI (scriptum-1yz8). File: packages/editor/src/comments/gutter.ts, packages/editor/src/comments/highlight.ts","status":"closed","priority":2,"issue_type":"task","assignee":"garybasin","created_at":"2026-02-06T19:14:45.876146Z","created_by":"garybasin","updated_at":"2026-02-06T22:52:40.756126Z","closed_at":"2026-02-06T22:52:40.755732Z","close_reason":"Completed","dependencies":[{"issue_id":"scriptum-1xfg","depends_on_id":"scriptum-1v2","type":"blocks","created_at":"2026-02-06T19:15:05.458105Z","created_by":"garybasin","metadata":"{}"},{"issue_id":"scriptum-1xfg","depends_on_id":"scriptum-2l8","type":"blocks","created_at":"2026-02-06T19:15:05.500031Z","created_by":"garybasin","metadata":"{}"}]}
{"id":"scriptum-1xm","title":"Editor: Active line raw / unfocused rich toggle","description":"Core live preview behavior: active line shows raw markdown, unfocused lines show rich text. Handle cursor movement between lines, multi-line selections. Unit test.","status":"closed","priority":1,"issue_type":"task","assignee":"garybasin","created_at":"2026-02-06T18:24:28.556401Z","created_by":"garybasin","updated_at":"2026-02-06T23:17:01.385138Z","closed_at":"2026-02-06T23:17:01.38504Z","close_reason":"Completed","dependencies":[{"issue_id":"scriptum-1xm","depends_on_id":"scriptum-29t","type":"blocks","created_at":"2026-02-06T18:26:07.747392Z","created_by":"garybasin","metadata":"{}"}]}
{"id":"scriptum-1xt","title":"Relay: Conditional writes middleware (If-Match)","description":"ETag generation. PATCH/DELETE require If-Match; missing -\u003e 428. Mismatched -\u003e 412. Unit test.","status":"closed","priority":1,"issue_type":"task","created_at":"2026-02-06T18:24:27.76055Z","created_by":"garybasin","updated_at":"2026-02-06T22:06:35.012982Z","closed_at":"2026-02-06T22:06:35.012697Z","close_reason":"Shared etag module with IfMatchHeader Axum extractor, generate_etag, etag_from_parts, etag_matches (wildcard + weak), normalize_etag. 428 for missing, 412 for mismatch. 16 tests, all 172 relay tests pass.","dependencies":[{"issue_id":"scriptum-1xt","depends_on_id":"scriptum-1a5","type":"blocks","created_at":"2026-02-06T18:26:06.652314Z","created_by":"garybasin","metadata":"{}"}]}
{"id":"scriptum-1yz8","title":"Comments: Inline comment UI","description":"Select text -\u003e comment icon in right margin. Click -\u003e popover anchored to selection. Comment input. Yellow highlight on commented text. Unit test.","status":"closed","priority":2,"issue_type":"task","assignee":"garybasin","created_at":"2026-02-06T18:24:30.423197Z","created_by":"garybasin","updated_at":"2026-02-06T22:56:04.547974Z","closed_at":"2026-02-06T22:56:04.547956Z","close_reason":"Completed","dependencies":[{"issue_id":"scriptum-1yz8","depends_on_id":"scriptum-2a50","type":"blocks","created_at":"2026-02-06T18:26:10.199465Z","created_by":"garybasin","metadata":"{}"},{"issue_id":"scriptum-1yz8","depends_on_id":"scriptum-2l8","type":"blocks","created_at":"2026-02-06T19:14:37.701953Z","created_by":"garybasin","metadata":"{}"},{"issue_id":"scriptum-1yz8","depends_on_id":"scriptum-1xfg","type":"blocks","created_at":"2026-02-06T19:15:06.711545Z","created_by":"garybasin","metadata":"{}"}]}
{"id":"scriptum-1z6c","title":"Sync: mDNS LAN peer discovery","description":"mDNS-based zero-config discovery of peers on the same LAN for direct TCP connections (lowest latency path). Per SPEC sync topology section.","status":"open","priority":3,"issue_type":"task","created_at":"2026-02-06T19:06:21.492667Z","created_by":"garybasin","updated_at":"2026-02-06T19:07:23.305248Z","dependencies":[{"issue_id":"scriptum-1z6c","depends_on_id":"scriptum-wxxx","type":"blocks","created_at":"2026-02-06T19:07:23.305199Z","created_by":"garybasin","metadata":"{}"}]}
{"id":"scriptum-1z9m","title":"Test: Load/stress testing","description":"Load testing suite: 1000 concurrent sessions, 50 updates/sec/doc, 1hr soak test. Weekly and pre-release. Per SPEC Testing Strategy table.","status":"open","priority":2,"issue_type":"task","created_at":"2026-02-06T19:06:21.391707Z","created_by":"garybasin","updated_at":"2026-02-06T19:07:23.207339Z","dependencies":[{"issue_id":"scriptum-1z9m","depends_on_id":"scriptum-tmro","type":"blocks","created_at":"2026-02-06T19:07:23.207288Z","created_by":"garybasin","metadata":"{}"}]}
{"id":"scriptum-1zk","title":"MCP: Resources","description":"scriptum://docs/{id} (document content), scriptum://docs/{id}/sections (section tree), scriptum://workspace (workspace listing), scriptum://agents (active agents). Unit test.","status":"open","priority":2,"issue_type":"task","created_at":"2026-02-06T18:24:29.956634Z","created_by":"garybasin","updated_at":"2026-02-06T18:26:09.626358Z","dependencies":[{"issue_id":"scriptum-1zk","depends_on_id":"scriptum-12s","type":"blocks","created_at":"2026-02-06T18:26:09.626263Z","created_by":"garybasin","metadata":"{}"}]}
{"id":"scriptum-208","title":"Agent: Claude Code hooks - PreToolUse + PostToolUse + Stop","description":"PreToolUse (on .md Write/Edit): warn about section overlaps, suggest scriptum edit. PostToolUse: confirm file watcher synced. Stop: remind about unsynced changes. Unit test.","status":"open","priority":2,"issue_type":"task","created_at":"2026-02-06T18:24:30.037095Z","created_by":"garybasin","updated_at":"2026-02-06T18:26:09.717481Z","dependencies":[{"issue_id":"scriptum-208","depends_on_id":"scriptum-1mi","type":"blocks","created_at":"2026-02-06T18:26:09.717433Z","created_by":"garybasin","metadata":"{}"}]}
{"id":"scriptum-214","title":"App: Status bar","description":"Status bar: sync indicator (green/yellow/red dot), cursor position (Ln/Col), active editor count. Offline shows red + 'Offline'. Unit test.","status":"closed","priority":1,"issue_type":"task","created_at":"2026-02-06T18:24:28.891008Z","created_by":"garybasin","updated_at":"2026-02-06T20:48:13.416483Z","closed_at":"2026-02-06T20:48:13.41623Z","close_reason":"Completed","dependencies":[{"issue_id":"scriptum-214","depends_on_id":"scriptum-2l8","type":"blocks","created_at":"2026-02-06T18:26:08.173897Z","created_by":"garybasin","metadata":"{}"}]}
{"id":"scriptum-217v","title":"Auth: Email/password authentication","description":"Optional email/password auth alongside OAuth. Argon2id password hashing. Registration, login, password change endpoints. Per SPEC Security section: 'Optional password: Argon2id hashed, for users who prefer email/password.'","status":"closed","priority":2,"issue_type":"task","assignee":"garybasin","created_at":"2026-02-06T19:05:56.574145Z","created_by":"garybasin","updated_at":"2026-02-07T00:10:18.222469Z","closed_at":"2026-02-07T00:10:18.22222Z","close_reason":"Implemented password auth endpoints (/v1/auth/password/register, /login, /change) with Argon2id hashing and added endpoint tests in auth/oauth.rs; full relay test run is currently blocked by scriptum-2qzo (pre-existing compile error in api/documents.rs).","dependencies":[{"issue_id":"scriptum-217v","depends_on_id":"scriptum-351","type":"blocks","created_at":"2026-02-06T19:07:15.164938Z","created_by":"garybasin","metadata":"{}"},{"issue_id":"scriptum-217v","depends_on_id":"scriptum-3r3","type":"blocks","created_at":"2026-02-06T19:07:15.202118Z","created_by":"garybasin","metadata":"{}"}]}
{"id":"scriptum-21gf","title":"Security: Input validation middleware","description":"Strict JSON schema validation on all REST endpoints. REST body max 1 MiB, WebSocket frame max 256 KiB enforcement. Markdown XSS sanitization allowlist for rendered content. Per SPEC lines 2488-2492.","status":"closed","priority":1,"issue_type":"task","created_at":"2026-02-06T19:05:56.646952Z","created_by":"garybasin","updated_at":"2026-02-06T22:17:25.48517Z","closed_at":"2026-02-06T22:17:25.484708Z","close_reason":"Implemented ValidatedJson extractor, WS frame size check, HTML sanitization allowlist with 24 unit tests","dependencies":[{"issue_id":"scriptum-21gf","depends_on_id":"scriptum-3r3","type":"blocks","created_at":"2026-02-06T19:07:15.270961Z","created_by":"garybasin","metadata":"{}"}]}
{"id":"scriptum-21w","title":"Relay: Workspace members management","description":"GET members (paginated), PATCH (role/status with If-Match), DELETE (If-Match). Owner-only for role changes. Unit test.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-02-06T18:24:27.959822Z","created_by":"garybasin","updated_at":"2026-02-07T00:03:06.391795Z","closed_at":"2026-02-07T00:03:06.391769Z","close_reason":"Implemented GET /v1/workspaces/{id}/members (paginated), PATCH /v1/workspaces/{id}/members/{member_id} (role/status with If-Match), DELETE /v1/workspaces/{id}/members/{member_id} (If-Match). Owner-only for role changes. Self-modification blocked. 11 unit tests.","dependencies":[{"issue_id":"scriptum-21w","depends_on_id":"scriptum-388","type":"blocks","created_at":"2026-02-06T18:26:06.956859Z","created_by":"garybasin","metadata":"{}"}]}
{"id":"scriptum-22zb","title":"Daemon relay compile regression in reconnect backoff","description":"cargo test -p scriptum-daemon is currently blocked by a compile error in crates/daemon/src/relay/mod.rs where Duration::saturating_mul expects a u32 factor but receives a u64 value from 1u64.wrapping_shl(exp). This is outside scriptum-fon scope but currently prevents daemon test execution for unrelated tasks.","status":"closed","priority":2,"issue_type":"bug","created_at":"2026-02-06T21:07:39.495829Z","created_by":"garybasin","updated_at":"2026-02-06T21:08:10.795841Z","closed_at":"2026-02-06T21:08:10.795586Z","close_reason":"No longer reproducible after concurrent daemon updates; cargo test -p scriptum-daemon now passes."}
{"id":"scriptum-22zt","title":"Relay: Leader election lease management","description":"Implement crates/relay/src/leader/mod.rs. Server-side git leader election: lease-based, TTL 60s, auto-renew on heartbeat, one leader per workspace. Daemon acquires lease via relay; relay manages lease state (grant, renew, expire, release). Used by daemon's git/leader.rs to coordinate which daemon pushes git.","status":"closed","priority":1,"issue_type":"task","created_at":"2026-02-06T19:21:05.683606Z","created_by":"garybasin","updated_at":"2026-02-06T21:23:24.849627Z","closed_at":"2026-02-06T21:23:24.849138Z","close_reason":"Implemented LeaseManager with acquire/renew/release/current_leader/evict_expired. 21 tests passing.","dependencies":[{"issue_id":"scriptum-22zt","depends_on_id":"scriptum-3r3","type":"blocks","created_at":"2026-02-06T19:21:14.784073Z","created_by":"garybasin","metadata":"{}"},{"issue_id":"scriptum-22zt","depends_on_id":"scriptum-1ew","type":"blocks","created_at":"2026-02-06T19:21:14.821244Z","created_by":"garybasin","metadata":"{}"}]}
{"id":"scriptum-238","title":"Desktop: System tray","description":"System tray icon showing sync status. Menu: open app, sync status, quit. Badge for pending changes.","status":"open","priority":3,"issue_type":"task","created_at":"2026-02-06T18:24:29.776022Z","created_by":"garybasin","updated_at":"2026-02-06T18:26:09.413121Z","dependencies":[{"issue_id":"scriptum-238","depends_on_id":"scriptum-fon","type":"blocks","created_at":"2026-02-06T18:26:09.413081Z","created_by":"garybasin","metadata":"{}"}]}
{"id":"scriptum-23m","title":"Daemon: Remote changes write to disk","description":"When remote CRDT updates arrive, render Y.Text to markdown, compare with file on disk, write if changed. Pause file watcher during write to prevent feedback loops. Unit test: remote update -\u003e file written -\u003e watcher not triggered.","status":"closed","priority":1,"issue_type":"task","assignee":"garybasin","created_at":"2026-02-06T18:24:27.15802Z","created_by":"garybasin","updated_at":"2026-02-06T23:36:43.830396Z","closed_at":"2026-02-06T23:36:43.830193Z","close_reason":"Completed","dependencies":[{"issue_id":"scriptum-23m","depends_on_id":"scriptum-ako","type":"blocks","created_at":"2026-02-06T18:26:05.799975Z","created_by":"garybasin","metadata":"{}"}]}
{"id":"scriptum-23p6","title":"CI: Property test workflow (nightly)","description":".github/workflows/property-tests.yml. CRDT convergence + diff-to-Yjs randomized. Nightly schedule. Long timeout (30min).","status":"open","priority":2,"issue_type":"task","created_at":"2026-02-06T18:24:30.992513Z","created_by":"garybasin","updated_at":"2026-02-06T18:26:10.848091Z","dependencies":[{"issue_id":"scriptum-23p6","depends_on_id":"scriptum-1og2","type":"blocks","created_at":"2026-02-06T18:26:10.848048Z","created_by":"garybasin","metadata":"{}"}]}
{"id":"scriptum-23pl","title":"CI: Release workflow","description":".github/workflows/release.yml. Changesets-based: version bumps, changelogs, publish. Tauri auto-update. Docker push. NPM publish for MCP server.","status":"open","priority":3,"issue_type":"task","created_at":"2026-02-06T18:24:31.047702Z","created_by":"garybasin","updated_at":"2026-02-06T19:05:28.576961Z","dependencies":[{"issue_id":"scriptum-23pl","depends_on_id":"scriptum-1wm8","type":"blocks","created_at":"2026-02-06T19:05:28.576909Z","created_by":"garybasin","metadata":"{}"}]}
{"id":"scriptum-23u","title":"MCP: Tools - claim, bundle, subscribe","description":"scriptum_claim -\u003e agent.claim, scriptum_bundle -\u003e doc.bundle, scriptum_subscribe (polling change token from scriptum_status). Unit test.","status":"open","priority":2,"issue_type":"task","created_at":"2026-02-06T18:24:29.930419Z","created_by":"garybasin","updated_at":"2026-02-06T18:26:09.596489Z","dependencies":[{"issue_id":"scriptum-23u","depends_on_id":"scriptum-302","type":"blocks","created_at":"2026-02-06T18:26:09.596431Z","created_by":"garybasin","metadata":"{}"}]}
{"id":"scriptum-243","title":"CLI: search + diff commands","description":"scriptum search 'query' (FTS across workspace), scriptum diff doc.md (pending changes since last git commit). Unit test.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-02-06T18:24:29.54094Z","created_by":"garybasin","updated_at":"2026-02-06T22:25:51.320958Z","closed_at":"2026-02-06T22:25:51.320938Z","close_reason":"Implemented search.rs and diff.rs with full RPC calls, human/JSON output, and unit tests (6 tests)","dependencies":[{"issue_id":"scriptum-243","depends_on_id":"scriptum-9k0","type":"blocks","created_at":"2026-02-06T18:26:09.042246Z","created_by":"garybasin","metadata":"{}"}]}
{"id":"scriptum-247","title":"Relay: Document CRUD endpoints","description":"GET documents (filters: path_prefix, tag, archived, pagination), POST (path, title, content_md, tags), GET /{doc_id} (include_content/sections), PATCH (If-Match), DELETE (soft/hard). Unit test.","status":"closed","priority":1,"issue_type":"task","created_at":"2026-02-06T18:24:27.981506Z","created_by":"garybasin","updated_at":"2026-02-06T21:19:46.410921Z","closed_at":"2026-02-06T21:19:46.410549Z","close_reason":"Implemented api/documents.rs with GET list (filters+pagination), POST create, GET by id, PATCH (If-Match), DELETE (soft/hard), Postgres+Memory store, and 10 passing tests","dependencies":[{"issue_id":"scriptum-247","depends_on_id":"scriptum-388","type":"blocks","created_at":"2026-02-06T18:26:06.992383Z","created_by":"garybasin","metadata":"{}"}]}
{"id":"scriptum-24x","title":"Init packages/web with Vite + React","description":"Create packages/web with Vite + React 19 + TypeScript scaffold. vite.config.ts, index.html, src/main.tsx, src/App.tsx. Deps: react, react-dom, react-router, zustand, tailwindcss 4, yjs, y-websocket. Stub routes/, components/, store/, hooks/, lib/.","status":"closed","priority":0,"issue_type":"task","created_at":"2026-02-06T18:24:26.66342Z","created_by":"garybasin","updated_at":"2026-02-06T19:17:12.173173Z","closed_at":"2026-02-06T19:17:12.173153Z","close_reason":"Completed","dependencies":[{"issue_id":"scriptum-24x","depends_on_id":"scriptum-3ot","type":"blocks","created_at":"2026-02-06T18:26:04.832965Z","created_by":"garybasin","metadata":"{}"},{"issue_id":"scriptum-24x","depends_on_id":"scriptum-3g2","type":"blocks","created_at":"2026-02-06T18:26:04.959711Z","created_by":"garybasin","metadata":"{}"},{"issue_id":"scriptum-24x","depends_on_id":"scriptum-txg","type":"blocks","created_at":"2026-02-06T18:26:04.990597Z","created_by":"garybasin","metadata":"{}"}]}
{"id":"scriptum-252","title":"Editor: Remote cursor rendering","description":"Render remote cursors with name labels (Google Docs-style). Name label auto-hides after 3s, reappears on movement. Deterministic color from name hash. Unit test.","status":"closed","priority":1,"issue_type":"task","created_at":"2026-02-06T18:24:28.604695Z","created_by":"garybasin","updated_at":"2026-02-06T20:50:32.173537Z","closed_at":"2026-02-06T20:50:32.173139Z","close_reason":"Completed: Remote cursor rendering with name labels, deterministic nameToColor hash, auto-hide after 3s, CM6 ViewPlugin + widget decorations. 17 tests passing.","dependencies":[{"issue_id":"scriptum-252","depends_on_id":"scriptum-38d","type":"blocks","created_at":"2026-02-06T18:26:07.804836Z","created_by":"garybasin","metadata":"{}"}]}
{"id":"scriptum-258s","title":"Test: E2E golden baselines - CM6 live preview","description":"High-risk UI surface golden baselines for CodeMirror hybrid live preview. Fixtures with representative markdown (headings, lists, tables, links, code, task lists). Assert 'active line shows raw markdown' vs 'inactive line renders rich' via visual baseline + DOM assertion. Stabilization: disable caret blink, smooth scroll off, pin monospace font, fix editor width/wrap. Per SPEC high-risk UI surfaces section.","status":"closed","priority":1,"issue_type":"task","assignee":"garybasin","created_at":"2026-02-06T19:06:53.888679Z","created_by":"garybasin","updated_at":"2026-02-06T23:35:42.842082Z","closed_at":"2026-02-06T23:35:42.840606Z","close_reason":"Completed","dependencies":[{"issue_id":"scriptum-258s","depends_on_id":"scriptum-2by9","type":"blocks","created_at":"2026-02-06T19:07:34.131501Z","created_by":"garybasin","metadata":"{}"},{"issue_id":"scriptum-258s","depends_on_id":"scriptum-1v2","type":"blocks","created_at":"2026-02-06T19:07:34.164032Z","created_by":"garybasin","metadata":"{}"},{"issue_id":"scriptum-258s","depends_on_id":"scriptum-29t","type":"blocks","created_at":"2026-02-06T19:07:34.197334Z","created_by":"garybasin","metadata":"{}"}]}
{"id":"scriptum-25w","title":"Spike: Local WS server with Yjs binary sync","description":"In crates/daemon, implement local WebSocket server using axum that speaks Yjs binary sync protocol on /yjs endpoint. Handle sync step 1 (state vector exchange), step 2 (update exchange), and incremental updates. Integration test: two WS clients syncing.","status":"closed","priority":0,"issue_type":"task","created_at":"2026-02-06T18:24:26.89454Z","created_by":"garybasin","updated_at":"2026-02-06T19:31:11.550232Z","closed_at":"2026-02-06T19:31:11.549824Z","close_reason":"Completed","dependencies":[{"issue_id":"scriptum-25w","depends_on_id":"scriptum-1s1","type":"blocks","created_at":"2026-02-06T18:26:05.308156Z","created_by":"garybasin","metadata":"{}"}]}
{"id":"scriptum-26aa","title":"Ops: Deployment/canary strategy","description":"Hosted relay deployment: feature flags, additive DB migration first, 5% canary for 30min, 50% for 60min, 100% rollout. Auto-rollback: crash rate +2x baseline OR error rate \u003e1%. Desktop/CLI: ring deployment (internal → beta → GA), kill-switch on crash regression. Per SPEC Deployment Strategy section.","status":"open","priority":3,"issue_type":"task","created_at":"2026-02-06T19:06:21.560044Z","created_by":"garybasin","updated_at":"2026-02-06T19:07:23.434626Z","dependencies":[{"issue_id":"scriptum-26aa","depends_on_id":"scriptum-159l","type":"blocks","created_at":"2026-02-06T19:07:23.401994Z","created_by":"garybasin","metadata":"{}"},{"issue_id":"scriptum-26aa","depends_on_id":"scriptum-3tix","type":"blocks","created_at":"2026-02-06T19:07:23.434581Z","created_by":"garybasin","metadata":"{}"}]}
{"id":"scriptum-27u","title":"Daemon: Section overlap detection","description":"In daemon/section/overlap.rs. Track which editors are in which sections (awareness cursor positions). Detect 2+ editors in same section. Classify: info (same section) vs warning (same paragraph). Emit SectionOverlap. Unit test.","status":"closed","priority":1,"issue_type":"task","created_at":"2026-02-06T18:24:27.263029Z","created_by":"garybasin","updated_at":"2026-02-06T23:37:44.033065Z","closed_at":"2026-02-06T23:37:44.03299Z","close_reason":"Created section/overlap.rs with detect_overlaps(). Tracks editors by cursor line, groups by section, classifies info vs warning by paragraph proximity. 15 tests pass.","dependencies":[{"issue_id":"scriptum-27u","depends_on_id":"scriptum-33v","type":"blocks","created_at":"2026-02-06T18:26:05.910719Z","created_by":"garybasin","metadata":"{}"}]}
{"id":"scriptum-28sm","title":"Test: Golden file test cases","description":"tests/golden/cases/. Curated edge cases: multi-hunk patches, overlapping edits, Unicode (CJK, emoji, RTL), empty sections, large replacements, whitespace-only changes, line ending variations.","status":"closed","priority":1,"issue_type":"task","assignee":"garybasin","created_at":"2026-02-06T18:24:30.721372Z","created_by":"garybasin","updated_at":"2026-02-06T23:47:43.823877Z","closed_at":"2026-02-06T23:47:43.823632Z","close_reason":"Completed","dependencies":[{"issue_id":"scriptum-28sm","depends_on_id":"scriptum-1mwt","type":"blocks","created_at":"2026-02-06T18:26:10.560217Z","created_by":"garybasin","metadata":"{}"}]}
{"id":"scriptum-28uz","title":"Test: Layout/design token assertion tests","description":"Playwright helper that extracts JSON 'layout contract' for critical elements (bounding boxes, font size/weight, key Tailwind CSS variables) and snapshots with toMatchSnapshot. Catches 'button shifted 4px' issues without pixel diffs. Gives agents interpretable textual diffs. Per SPEC UI Testing section.","status":"closed","priority":2,"issue_type":"task","assignee":"garybasin","created_at":"2026-02-06T19:06:53.857537Z","created_by":"garybasin","updated_at":"2026-02-07T00:12:01.087578Z","closed_at":"2026-02-07T00:12:01.087332Z","close_reason":"Completed","dependencies":[{"issue_id":"scriptum-28uz","depends_on_id":"scriptum-38l","type":"blocks","created_at":"2026-02-06T19:07:34.066569Z","created_by":"garybasin","metadata":"{}"},{"issue_id":"scriptum-28uz","depends_on_id":"scriptum-3ih","type":"blocks","created_at":"2026-02-06T19:07:34.099468Z","created_by":"garybasin","metadata":"{}"}]}
{"id":"scriptum-29c","title":"Desktop: Auto-update","description":"Tauri updater with user consent. Check for updates on startup (configurable). Ring deployment: internal -\u003e beta -\u003e GA. Kill-switch on crash regression.","status":"open","priority":3,"issue_type":"task","created_at":"2026-02-06T18:24:29.800953Z","created_by":"garybasin","updated_at":"2026-02-06T18:26:09.44311Z","dependencies":[{"issue_id":"scriptum-29c","depends_on_id":"scriptum-fon","type":"blocks","created_at":"2026-02-06T18:26:09.443072Z","created_by":"garybasin","metadata":"{}"}]}
{"id":"scriptum-29t","title":"Editor: Live preview - heading rendering","description":"Render H1-H6 headings with appropriate typography on unfocused lines. Raw markdown on active line. Handle heading level changes. Unit test: each heading level renders correctly.","status":"closed","priority":1,"issue_type":"task","created_at":"2026-02-06T18:24:28.385858Z","created_by":"garybasin","updated_at":"2026-02-06T19:55:29.413366Z","closed_at":"2026-02-06T19:55:29.413304Z","close_reason":"Completed","dependencies":[{"issue_id":"scriptum-29t","depends_on_id":"scriptum-1v2","type":"blocks","created_at":"2026-02-06T18:26:07.529343Z","created_by":"garybasin","metadata":"{}"}]}
{"id":"scriptum-2a50","title":"Comments: REST endpoints","description":"GET /comments (list by doc, status filter), POST (create thread with anchor), POST /messages (reply), POST /resolve, POST /reopen. Wire to relay DB. Unit test.","status":"closed","priority":2,"issue_type":"task","assignee":"garybasin","created_at":"2026-02-06T18:24:30.395869Z","created_by":"garybasin","updated_at":"2026-02-06T22:49:28.253715Z","closed_at":"2026-02-06T22:49:28.253634Z","close_reason":"Completed","dependencies":[{"issue_id":"scriptum-2a50","depends_on_id":"scriptum-351","type":"blocks","created_at":"2026-02-06T18:26:10.154861Z","created_by":"garybasin","metadata":"{}"}]}
{"id":"scriptum-2amu","title":"Relay compile regression: Copy derive on ws message with String field","description":"While running contract tests for scriptum-1muc, cargo test -p scriptum-relay fails before tests execute. Error: E0204 in crates/relay/src/ws/mod.rs around line ~866 where a type derives Copy but contains resume_token: String. This appears unrelated pre-existing work and blocks relay-side contract test execution for this task.","status":"open","priority":2,"issue_type":"bug","created_at":"2026-02-07T00:16:27.880681Z","created_by":"garybasin","updated_at":"2026-02-07T00:16:27.880681Z"}
{"id":"scriptum-2at","title":"CI: TypeScript test workflow","description":"Create .github/workflows/test-ts.yml. Run pnpm test (vitest) across all TS packages via Turborepo. Cache pnpm store + turbo cache. Trigger on push/PR.","status":"closed","priority":1,"issue_type":"task","created_at":"2026-02-06T18:24:26.852528Z","created_by":"garybasin","updated_at":"2026-02-06T19:29:39.791888Z","closed_at":"2026-02-06T19:29:39.79165Z","close_reason":"Completed","dependencies":[{"issue_id":"scriptum-2at","depends_on_id":"scriptum-rhu","type":"blocks","created_at":"2026-02-06T18:26:05.240145Z","created_by":"garybasin","metadata":"{}"}]}
{"id":"scriptum-2bq","title":"Init packages/mcp-server scaffold","description":"Create packages/mcp-server/package.json + tsconfig.json. Add deps: @modelcontextprotocol/sdk. Create src/index.ts, src/server.ts. Stub tools/ and resources/ directories. Create daemon-client.ts stub.","status":"closed","priority":0,"issue_type":"task","created_at":"2026-02-06T18:24:26.703666Z","created_by":"garybasin","updated_at":"2026-02-06T19:21:10.488424Z","closed_at":"2026-02-06T19:21:10.488401Z","close_reason":"Completed","dependencies":[{"issue_id":"scriptum-2bq","depends_on_id":"scriptum-3ot","type":"blocks","created_at":"2026-02-06T18:26:04.925193Z","created_by":"garybasin","metadata":"{}"},{"issue_id":"scriptum-2bq","depends_on_id":"scriptum-txg","type":"blocks","created_at":"2026-02-06T18:26:05.020333Z","created_by":"garybasin","metadata":"{}"}]}
{"id":"scriptum-2by9","title":"Test: Visual pixel regression baselines (Playwright screenshots)","description":"Playwright toHaveScreenshot() baselines for every key screen state. Chromium as canonical environment. Strict pixel threshold (zero diff for canonical). Covers: editor with markdown content, sidebar states, status bar states, settings page, auth flow. Agent-runnable via 'pnpm test:ui:smoke'. Per SPEC UI Testing section.","status":"closed","priority":1,"issue_type":"task","created_at":"2026-02-06T19:06:53.793617Z","created_by":"garybasin","updated_at":"2026-02-06T20:48:18.805428Z","closed_at":"2026-02-06T20:48:18.805407Z","close_reason":"Completed","dependencies":[{"issue_id":"scriptum-2by9","depends_on_id":"scriptum-38l","type":"blocks","created_at":"2026-02-06T19:07:33.933643Z","created_by":"garybasin","metadata":"{}"},{"issue_id":"scriptum-2by9","depends_on_id":"scriptum-3ih","type":"blocks","created_at":"2026-02-06T19:07:33.967008Z","created_by":"garybasin","metadata":"{}"}]}
{"id":"scriptum-2c14","title":"Daemon: JSON-RPC git methods (git.status, git.sync, git.configure)","description":"Implement daemon JSON-RPC methods: git.status (branch, dirty, ahead/behind, last_sync_at), git.sync (commit or commit_and_push, returns job_id), git.configure (set GitSyncPolicy). Per SPEC Part 3 daemon JSON-RPC contract.","status":"closed","priority":1,"issue_type":"task","created_at":"2026-02-06T19:05:47.789081Z","created_by":"garybasin","updated_at":"2026-02-06T21:37:51.961854Z","closed_at":"2026-02-06T21:37:51.96141Z","close_reason":"Implemented git.status, git.sync, git.configure RPC methods with GitOps trait, GitSyncPolicy enum, and 15 tests (all passing)","dependencies":[{"issue_id":"scriptum-2c14","depends_on_id":"scriptum-ybw","type":"blocks","created_at":"2026-02-06T19:07:07.302354Z","created_by":"garybasin","metadata":"{}"},{"issue_id":"scriptum-2c14","depends_on_id":"scriptum-2la","type":"blocks","created_at":"2026-02-06T19:07:07.352119Z","created_by":"garybasin","metadata":"{}"}]}
{"id":"scriptum-2cx","title":"App: Zustand presence + sync stores","description":"Zustand stores for presence (who's online, cursor positions) and sync status (online/offline/reconnecting). Unit test.","status":"closed","priority":1,"issue_type":"task","created_at":"2026-02-06T18:24:28.963299Z","created_by":"garybasin","updated_at":"2026-02-06T22:28:13.394735Z","closed_at":"2026-02-06T22:28:13.394343Z","close_reason":"Implemented presence store (Yjs-backed peer tracking, cursor positions, remote peer filtering) and sync store (online/offline/reconnecting status machine, pending changes, error tracking). 18 tests.","dependencies":[{"issue_id":"scriptum-2cx","depends_on_id":"scriptum-1wf","type":"blocks","created_at":"2026-02-06T18:26:08.274732Z","created_by":"garybasin","metadata":"{}"}]}
{"id":"scriptum-2ds","title":"Daemon: Socket-activated startup","description":"Implement startup.rs: PID file at ~/.scriptum/daemon.pid, socket creation, signal ready by accepting connections. CLI/MCP detect connection refused -\u003e fork+exec daemon. 5s timeout, exit code 10. Integration test: cold start.","status":"closed","priority":0,"issue_type":"task","created_at":"2026-02-06T18:24:27.037357Z","created_by":"garybasin","updated_at":"2026-02-06T19:28:27.542841Z","closed_at":"2026-02-06T19:28:27.542821Z","close_reason":"Completed","dependencies":[{"issue_id":"scriptum-2ds","depends_on_id":"scriptum-in6","type":"blocks","created_at":"2026-02-06T18:26:05.564717Z","created_by":"garybasin","metadata":"{}"}]}
{"id":"scriptum-2ea","title":"Relay: OAuth 2.1 + PKCE - start endpoint","description":"POST /v1/auth/oauth/github/start. Accept redirect_uri, state, code_challenge (S256). Store flow with expiry. Return flow_id + authorization_url. Validate redirect_uri. Rate limit. Unit test.","status":"closed","priority":0,"issue_type":"task","created_at":"2026-02-06T18:24:27.803593Z","created_by":"garybasin","updated_at":"2026-02-06T20:12:30.973763Z","closed_at":"2026-02-06T20:12:30.973391Z","close_reason":"Completed","dependencies":[{"issue_id":"scriptum-2ea","depends_on_id":"scriptum-351","type":"blocks","created_at":"2026-02-06T18:26:06.712849Z","created_by":"garybasin","metadata":"{}"}]}
{"id":"scriptum-2ek5","title":"Backlinks: Auto-update references on rename","description":"When document renamed/moved, update all [[old-name]] references across workspace to [[new-name]]. Toast: 'Updated N links across M documents.' Unit test.","status":"open","priority":3,"issue_type":"task","created_at":"2026-02-06T18:24:30.371194Z","created_by":"garybasin","updated_at":"2026-02-06T18:26:10.115769Z","dependencies":[{"issue_id":"scriptum-2ek5","depends_on_id":"scriptum-2qox","type":"blocks","created_at":"2026-02-06T18:26:10.115727Z","created_by":"garybasin","metadata":"{}"}]}
{"id":"scriptum-2f1","title":"Spike: WAL persistence survives daemon restart","description":"Implement minimal WAL: append Yjs updates to disk with fsync. On restart, load WAL and reconstruct Y.Doc. Integration test: create doc, edit, kill daemon, restart, verify content preserved.","status":"closed","priority":0,"issue_type":"task","created_at":"2026-02-06T18:24:26.955083Z","created_by":"garybasin","updated_at":"2026-02-06T19:52:44.469608Z","closed_at":"2026-02-06T19:52:44.469399Z","close_reason":"Completed","dependencies":[{"issue_id":"scriptum-2f1","depends_on_id":"scriptum-1s1","type":"blocks","created_at":"2026-02-06T18:26:05.451681Z","created_by":"garybasin","metadata":"{}"}]}
{"id":"scriptum-2gm","title":"Relay: Search endpoint","description":"GET /v1/workspaces/{id}/search?q=. Full-text search across docs. Return doc_id, path, title, snippet, score. Pagination. Unit test.","status":"closed","priority":2,"issue_type":"task","assignee":"garybasin","created_at":"2026-02-06T18:24:28.026386Z","created_by":"garybasin","updated_at":"2026-02-07T00:09:34.231109Z","closed_at":"2026-02-07T00:09:34.231055Z","close_reason":"Completed","dependencies":[{"issue_id":"scriptum-2gm","depends_on_id":"scriptum-351","type":"blocks","created_at":"2026-02-06T19:05:24.399364Z","created_by":"garybasin","metadata":"{}"},{"issue_id":"scriptum-2gm","depends_on_id":"scriptum-3r3","type":"blocks","created_at":"2026-02-06T19:05:24.437974Z","created_by":"garybasin","metadata":"{}"}]}
{"id":"scriptum-2hv","title":"Daemon: Snapshot persistence","description":"Implement store/snapshot.rs. Compressed snapshots (full Y.Doc state) every 1000 updates or 10 min. Store in crdt_store/snapshots/. Track snapshot seq. Unit test: creation, loading, compression.","status":"closed","priority":1,"issue_type":"task","created_at":"2026-02-06T18:24:27.367005Z","created_by":"garybasin","updated_at":"2026-02-06T19:57:16.280756Z","closed_at":"2026-02-06T19:57:16.278561Z","close_reason":"Completed","dependencies":[{"issue_id":"scriptum-2hv","depends_on_id":"scriptum-vgc","type":"blocks","created_at":"2026-02-06T18:26:06.055791Z","created_by":"garybasin","metadata":"{}"}]}
{"id":"scriptum-2jd","title":"CLI: blame command","description":"scriptum blame doc.md. CRDT-based per-line attribution showing editor, edit summary, timestamp. Richer than git blame. Unit test.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-02-06T18:24:29.569229Z","created_by":"garybasin","updated_at":"2026-02-06T22:25:51.390623Z","closed_at":"2026-02-06T22:25:51.390605Z","close_reason":"Implemented blame.rs with per-line CRDT attribution display, column alignment, and unit tests (5 tests)","dependencies":[{"issue_id":"scriptum-2jd","depends_on_id":"scriptum-9k0","type":"blocks","created_at":"2026-02-06T18:26:09.072774Z","created_by":"garybasin","metadata":"{}"}]}
{"id":"scriptum-2l8","title":"App: React scaffold + routing","description":"React 19 scaffold shared between desktop and web. React Router with routes: index, workspace, document, settings, auth-callback. Layout component with sidebar + editor area. Unit test: routing works.","status":"closed","priority":1,"issue_type":"task","created_at":"2026-02-06T18:24:28.74706Z","created_by":"garybasin","updated_at":"2026-02-06T19:20:43.333843Z","closed_at":"2026-02-06T19:20:43.333823Z","close_reason":"Completed","dependencies":[{"issue_id":"scriptum-2l8","depends_on_id":"scriptum-24x","type":"blocks","created_at":"2026-02-06T18:26:07.987822Z","created_by":"garybasin","metadata":"{}"}]}
{"id":"scriptum-2la","title":"Daemon: Unix socket JSON-RPC server","description":"Implement JSON-RPC 2.0 over Unix socket at ~/.scriptum/daemon.sock (macOS/Linux) and named pipe (Windows). Share method handlers with WS /rpc. Handle concurrent connections. Unit test.","status":"closed","priority":1,"issue_type":"task","created_at":"2026-02-06T18:24:27.014198Z","created_by":"garybasin","updated_at":"2026-02-06T19:42:59.668424Z","closed_at":"2026-02-06T19:42:59.668174Z","close_reason":"Completed","dependencies":[{"issue_id":"scriptum-2la","depends_on_id":"scriptum-in6","type":"blocks","created_at":"2026-02-06T18:26:05.53711Z","created_by":"garybasin","metadata":"{}"}]}
{"id":"scriptum-2ma","title":"MCP: Tools - read, edit, list, tree","description":"scriptum_read -\u003e doc.read, scriptum_edit -\u003e doc.edit, scriptum_list -\u003e doc.tree, scriptum_tree -\u003e doc.sections. Map params, forward to daemon. Unit test.","status":"closed","priority":2,"issue_type":"task","assignee":"garybasin","created_at":"2026-02-06T18:24:29.877977Z","created_by":"garybasin","updated_at":"2026-02-06T23:14:41.410375Z","closed_at":"2026-02-06T23:14:41.410112Z","close_reason":"Completed","dependencies":[{"issue_id":"scriptum-2ma","depends_on_id":"scriptum-302","type":"blocks","created_at":"2026-02-06T18:26:09.536168Z","created_by":"garybasin","metadata":"{}"}]}
{"id":"scriptum-2mli","title":"Desktop: OAuth device flow + Tauri deep links","description":"Desktop-specific OAuth flow: device flow or browser-redirect via Tauri deep links for authentication. Store credentials securely via OS keychain. Per SPEC line 2473.","status":"open","priority":2,"issue_type":"task","created_at":"2026-02-06T19:05:56.613713Z","created_by":"garybasin","updated_at":"2026-02-06T19:07:15.236398Z","dependencies":[{"issue_id":"scriptum-2mli","depends_on_id":"scriptum-2ra","type":"blocks","created_at":"2026-02-06T19:07:15.236349Z","created_by":"garybasin","metadata":"{}"}]}
{"id":"scriptum-2ne","title":"Daemon: JSON-RPC workspace methods","description":"workspace.list (paginated), workspace.open (load by ID), workspace.create (init directory structure). Unit test each method.","status":"closed","priority":1,"issue_type":"task","created_at":"2026-02-06T18:24:27.474896Z","created_by":"garybasin","updated_at":"2026-02-06T23:29:19.384636Z","closed_at":"2026-02-06T23:29:19.384231Z","close_reason":"Added workspace.list (paginated), workspace.open (by ID), workspace.create (inits .scriptum/ dir). WorkspaceInfo in-memory registry on RpcServerState. 10 new tests, all 37 pass.","dependencies":[{"issue_id":"scriptum-2ne","depends_on_id":"scriptum-3rw","type":"blocks","created_at":"2026-02-06T18:26:06.255368Z","created_by":"garybasin","metadata":"{}"},{"issue_id":"scriptum-2ne","depends_on_id":"scriptum-2la","type":"blocks","created_at":"2026-02-06T18:26:06.291267Z","created_by":"garybasin","metadata":"{}"}]}
{"id":"scriptum-2ot","title":"Desktop: File dialogs + menu bar","description":"Native file dialogs for import/export. Menu bar with standard items (File, Edit, View, Help). Keyboard shortcuts (Cmd+N, Cmd+S, Cmd+W). Unit test.","status":"open","priority":2,"issue_type":"task","created_at":"2026-02-06T18:24:29.751543Z","created_by":"garybasin","updated_at":"2026-02-06T18:26:09.381123Z","dependencies":[{"issue_id":"scriptum-2ot","depends_on_id":"scriptum-fon","type":"blocks","created_at":"2026-02-06T18:26:09.381084Z","created_by":"garybasin","metadata":"{}"}]}
{"id":"scriptum-2pi","title":"App: Offline - banner + reconnect progress","description":"Yellow offline banner (web only). Desktop: status bar shows pending count. Reconnect progress: 'Syncing... 847/1203 updates'. Unit test.","status":"closed","priority":2,"issue_type":"task","assignee":"garybasin","created_at":"2026-02-06T18:24:29.035654Z","created_by":"garybasin","updated_at":"2026-02-06T23:23:40.43766Z","closed_at":"2026-02-06T23:23:40.437641Z","close_reason":"Completed","dependencies":[{"issue_id":"scriptum-2pi","depends_on_id":"scriptum-214","type":"blocks","created_at":"2026-02-06T18:26:08.367101Z","created_by":"garybasin","metadata":"{}"}]}
{"id":"scriptum-2qb","title":"Relay: WebSocket upgrade + session management","description":"POST /v1/workspaces/{id}/sync-sessions (validate auth, issue session_token, assign ws_url). WS upgrade handler. Track active sessions. Unit test.","status":"closed","priority":0,"issue_type":"task","created_at":"2026-02-06T18:24:28.048109Z","created_by":"garybasin","updated_at":"2026-02-06T19:34:40.158662Z","closed_at":"2026-02-06T19:34:40.158447Z","close_reason":"Completed","dependencies":[{"issue_id":"scriptum-2qb","depends_on_id":"scriptum-37k","type":"blocks","created_at":"2026-02-06T18:26:07.058684Z","created_by":"garybasin","metadata":"{}"}]}
{"id":"scriptum-2qh","title":"App: Right panel - document outline","description":"Toggleable right panel with document heading outline. Click heading to scroll. Highlight current section. Unit test.","status":"open","priority":2,"issue_type":"task","created_at":"2026-02-06T18:24:29.114362Z","created_by":"garybasin","updated_at":"2026-02-06T19:05:28.230349Z","dependencies":[{"issue_id":"scriptum-2qh","depends_on_id":"scriptum-2l8","type":"blocks","created_at":"2026-02-06T19:05:28.230013Z","created_by":"garybasin","metadata":"{}"}]}
{"id":"scriptum-2qo","title":"Backlinks: Wiki-style link parser","description":"Parse [[target]], [[target|alias]], [[target#heading]] from markdown. Obsidian-compatible syntax. Extract on file save/commit. Unit test.","status":"closed","priority":2,"issue_type":"task","assignee":"garybasin","created_at":"2026-02-06T18:24:30.318324Z","created_by":"garybasin","updated_at":"2026-02-06T22:52:08.914842Z","closed_at":"2026-02-06T22:52:08.914647Z","close_reason":"Completed","dependencies":[{"issue_id":"scriptum-2qo","depends_on_id":"scriptum-1k2","type":"blocks","created_at":"2026-02-06T18:26:10.05174Z","created_by":"garybasin","metadata":"{}"}]}
{"id":"scriptum-2qox","title":"Backlinks: Resolution (path -\u003e filename -\u003e title)","description":"Resolve link targets: exact path -\u003e filename (case-insensitive) -\u003e document title. First match wins. Store in backlinks table. Unit test.","status":"closed","priority":2,"issue_type":"task","assignee":"garybasin","created_at":"2026-02-06T18:24:30.344903Z","created_by":"garybasin","updated_at":"2026-02-06T22:54:41.961665Z","closed_at":"2026-02-06T22:54:41.961608Z","close_reason":"Completed","dependencies":[{"issue_id":"scriptum-2qox","depends_on_id":"scriptum-2qo","type":"blocks","created_at":"2026-02-06T18:26:10.083782Z","created_by":"garybasin","metadata":"{}"}]}
{"id":"scriptum-2qzo","title":"Relay compile blocker: missing normalize_tag_names in api/documents.rs","description":"cargo test -p scriptum-relay is currently blocked because crates/relay/src/api/documents.rs references normalize_tag_names() but no implementation exists in scope. This prevents running focused auth/oauth tests for scriptum-217v despite password-auth changes compiling otherwise. Repro: cargo test -p scriptum-relay password_ -- --nocapture","status":"open","priority":2,"issue_type":"bug","created_at":"2026-02-07T00:09:50.380828Z","created_by":"garybasin","updated_at":"2026-02-07T00:09:50.380828Z"}
{"id":"scriptum-2ra","title":"Desktop: Tauri 2.0 scaffold","description":"packages/desktop with Tauri 2.0 scaffold. tauri.conf.json, src-tauri/Cargo.toml, src-tauri/src/main.rs. Configure permissions, window settings, build targets.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-02-06T18:24:29.678445Z","created_by":"garybasin","updated_at":"2026-02-06T19:45:53.244777Z","closed_at":"2026-02-06T19:45:53.244736Z","close_reason":"Completed — Tauri 2.0 scaffold with package.json, Cargo.toml, tauri.conf.json, main.rs, lib.rs, commands.rs, capabilities, and placeholder frontend","dependencies":[{"issue_id":"scriptum-2ra","depends_on_id":"scriptum-3ot","type":"blocks","created_at":"2026-02-06T18:26:09.191476Z","created_by":"garybasin","metadata":"{}"}]}
{"id":"scriptum-2re","title":"Relay: WS protocol - subscribe + state sync","description":"Client sends doc_id + last_server_seq. Server loads Y.Doc, sends snapshot if needed, streams incremental updates. Track subscriptions per connection. Unit test.","status":"closed","priority":0,"issue_type":"task","created_at":"2026-02-06T18:24:28.092187Z","created_by":"garybasin","updated_at":"2026-02-06T19:46:00.774353Z","closed_at":"2026-02-06T19:46:00.774095Z","close_reason":"Completed","dependencies":[{"issue_id":"scriptum-2re","depends_on_id":"scriptum-k7k","type":"blocks","created_at":"2026-02-06T18:26:07.121339Z","created_by":"garybasin","metadata":"{}"}]}
{"id":"scriptum-2sps","title":"Ops: OpenTelemetry tracing","description":"OpenTelemetry spans: API handler, sequencer, DB queries, object storage. Trace ID propagated across REST, WS, daemon JSON-RPC. Unit test.","status":"open","priority":3,"issue_type":"task","created_at":"2026-02-06T18:24:31.158286Z","created_by":"garybasin","updated_at":"2026-02-06T19:05:24.568943Z","dependencies":[{"issue_id":"scriptum-2sps","depends_on_id":"scriptum-3r3","type":"blocks","created_at":"2026-02-06T19:05:24.568894Z","created_by":"garybasin","metadata":"{}"}]}
{"id":"scriptum-2tw","title":"App: Sidebar - workspace dropdown","description":"Linear-style workspace switcher dropdown at top of sidebar. Show all workspaces with last-accessed timestamp. Create new workspace option. Unit test.","status":"closed","priority":1,"issue_type":"task","assignee":"garybasin","created_at":"2026-02-06T18:24:28.769179Z","created_by":"garybasin","updated_at":"2026-02-06T22:26:58.723619Z","closed_at":"2026-02-06T22:26:58.723378Z","close_reason":"Completed","dependencies":[{"issue_id":"scriptum-2tw","depends_on_id":"scriptum-2l8","type":"blocks","created_at":"2026-02-06T18:26:08.017549Z","created_by":"garybasin","metadata":"{}"}]}
{"id":"scriptum-2vj9","title":"CI: Golden file test workflow","description":".github/workflows/golden-tests.yml. Run golden file diff-to-Yjs tests. Fail on any mismatch. Trigger on every push/PR.","status":"closed","priority":1,"issue_type":"task","assignee":"garybasin","created_at":"2026-02-06T18:24:30.965025Z","created_by":"garybasin","updated_at":"2026-02-06T23:48:57.730762Z","closed_at":"2026-02-06T23:48:57.730743Z","close_reason":"Completed","dependencies":[{"issue_id":"scriptum-2vj9","depends_on_id":"scriptum-1mwt","type":"blocks","created_at":"2026-02-06T18:26:10.816511Z","created_by":"garybasin","metadata":"{}"}]}
{"id":"scriptum-2wn","title":"Daemon: Section slug generation","description":"Implement common/section/slug.rs. Slug: lowercase, strip non-alphanumeric, hyphenate spaces. Fallback: h{level}_{index}. Stable section_id = slug(ancestor_chain)+ordinal. Unit test.","status":"closed","priority":1,"issue_type":"task","created_at":"2026-02-06T18:24:27.220879Z","created_by":"garybasin","updated_at":"2026-02-06T20:54:29.669827Z","closed_at":"2026-02-06T20:54:29.669516Z","close_reason":"Implemented slug.rs with slugify(), make_section_id(), disambiguate() and 18 unit tests. Updated parser.rs to use ancestor-chain IDs. All 47 tests pass.","dependencies":[{"issue_id":"scriptum-2wn","depends_on_id":"scriptum-1k2","type":"blocks","created_at":"2026-02-06T18:26:05.855468Z","created_by":"garybasin","metadata":"{}"}]}
{"id":"scriptum-2y1","title":"CLI: read command","description":"scriptum read doc.md [--section '## Auth'] [--agent name]. Read doc content, optionally scoped to section. Register read intent for agent. Unit test.","status":"closed","priority":1,"issue_type":"task","created_at":"2026-02-06T18:24:29.462698Z","created_by":"garybasin","updated_at":"2026-02-06T22:22:03.283459Z","closed_at":"2026-02-06T22:22:03.283407Z","close_reason":"Implemented read command with --section, --agent flags, human/JSON output, and 4 unit tests","dependencies":[{"issue_id":"scriptum-2y1","depends_on_id":"scriptum-9k0","type":"blocks","created_at":"2026-02-06T18:26:08.952307Z","created_by":"garybasin","metadata":"{}"}]}
{"id":"scriptum-2y5","title":"Git: Idle fallback timer (30s)","description":"30s idle timer as fallback commit trigger. Max 1 auto-commit per 30s per workspace. Reset timer on any edit. Unit test.","status":"open","priority":2,"issue_type":"task","created_at":"2026-02-06T18:24:29.236031Z","created_by":"garybasin","updated_at":"2026-02-06T18:26:08.623997Z","dependencies":[{"issue_id":"scriptum-2y5","depends_on_id":"scriptum-ybw","type":"blocks","created_at":"2026-02-06T18:26:08.623952Z","created_by":"garybasin","metadata":"{}"}]}
{"id":"scriptum-2y6","title":"Search: FTS5 index setup","description":"SQLite FTS5 index in daemon. Behind abstraction layer (swap to Tantivy later). Index document content + titles. Rebuild on workspace open. Unit test.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-02-06T18:24:30.240109Z","created_by":"garybasin","updated_at":"2026-02-06T20:35:52.86533Z","closed_at":"2026-02-06T20:35:52.865273Z","close_reason":"Completed","dependencies":[{"issue_id":"scriptum-2y6","depends_on_id":"scriptum-1sx","type":"blocks","created_at":"2026-02-06T18:26:09.95919Z","created_by":"garybasin","metadata":"{}"}]}
{"id":"scriptum-302","title":"MCP: JSON-RPC client to daemon","description":"daemon-client.ts. Connect to daemon Unix socket from Node.js. JSON-RPC request/response. Handle daemon not running. Unit test.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-02-06T18:24:29.851354Z","created_by":"garybasin","updated_at":"2026-02-06T19:46:30.841209Z","closed_at":"2026-02-06T19:46:30.841149Z","close_reason":"Completed — daemon-client.ts with JSON-RPC over Unix socket, DaemonNotRunningError, timeout handling, and 2 passing tests","dependencies":[{"issue_id":"scriptum-302","depends_on_id":"scriptum-12s","type":"blocks","created_at":"2026-02-06T18:26:09.505127Z","created_by":"garybasin","metadata":"{}"}]}
{"id":"scriptum-32u","title":"Relay: Workspace invites + accept","description":"POST /v1/workspaces/{id}/invites (email, role, expiry). POST /v1/invites/{token}/accept. Owner-only invite. Validate token, expiry. Unit test.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-02-06T18:24:27.937078Z","created_by":"garybasin","updated_at":"2026-02-07T00:10:28.020673Z","closed_at":"2026-02-07T00:10:28.020629Z","close_reason":"Implemented workspace invites: POST /v1/workspaces/{id}/invites (owner-only) and POST /v1/invites/{token}/accept. Token-based with SHA-256 hashing, expiry validation, role restriction (editor/viewer only), email validation, and 7 unit tests.","dependencies":[{"issue_id":"scriptum-32u","depends_on_id":"scriptum-388","type":"blocks","created_at":"2026-02-06T18:26:06.915253Z","created_by":"garybasin","metadata":"{}"}]}
{"id":"scriptum-33u","title":"Agent: Context bundling with tiktoken-rs","description":"Token counting via tiktoken-rs (cl100k_base). Accurate budget in doc.bundle. Truncation priority: comments -\u003e backlinks -\u003e children -\u003e parents. Section content never truncated. Unit test.","status":"open","priority":2,"issue_type":"task","created_at":"2026-02-06T18:24:29.983376Z","created_by":"garybasin","updated_at":"2026-02-06T18:26:09.656796Z","dependencies":[{"issue_id":"scriptum-33u","depends_on_id":"scriptum-j96","type":"blocks","created_at":"2026-02-06T18:26:09.656749Z","created_by":"garybasin","metadata":"{}"}]}
{"id":"scriptum-33v","title":"Daemon: Section tree construction and diffing","description":"In daemon/section/mod.rs, rebuild section tree on CRDT update. Diff new vs previous: new sections, removed, content changes. Update lastEditedBy from Yjs origin. Emit events. Unit test.","status":"closed","priority":1,"issue_type":"task","created_at":"2026-02-06T18:24:27.243244Z","created_by":"garybasin","updated_at":"2026-02-06T20:59:15.731597Z","closed_at":"2026-02-06T20:59:15.731412Z","close_reason":"Implemented SectionTracker with diff_sections(), SectionChange enum, content-aware hashing, and last_edited_by attribution. 18 unit tests pass covering adds/removes/modifications, line-shift detection, tracker state management, and deeply nested sections.","dependencies":[{"issue_id":"scriptum-33v","depends_on_id":"scriptum-2wn","type":"blocks","created_at":"2026-02-06T18:26:05.882537Z","created_by":"garybasin","metadata":"{}"}]}
{"id":"scriptum-34m","title":"Desktop: Embedded daemon (in-process)","description":"Link daemon crate as Rust library. Start daemon in-process on app launch. If standalone daemon running, take over (standalone exits). daemon.rs bridge in Tauri.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-02-06T18:24:29.703705Z","created_by":"garybasin","updated_at":"2026-02-06T20:55:02.157522Z","closed_at":"2026-02-06T20:55:02.157118Z","close_reason":"Completed","dependencies":[{"issue_id":"scriptum-34m","depends_on_id":"scriptum-2ra","type":"blocks","created_at":"2026-02-06T18:26:09.225732Z","created_by":"garybasin","metadata":"{}"},{"issue_id":"scriptum-34m","depends_on_id":"scriptum-in6","type":"blocks","created_at":"2026-02-06T18:26:09.257873Z","created_by":"garybasin","metadata":"{}"}]}
{"id":"scriptum-34r","title":"Daemon: JSON-RPC doc.edit method","description":"doc.edit: params workspace_id, doc_id, ops or content_md, if_etag, agent_id. Apply edit to Y.Doc, return new etag + head_seq. Support Yjs binary ops and full content replacement. Unit test.","status":"closed","priority":1,"issue_type":"task","assignee":"garybasin","created_at":"2026-02-06T18:24:27.51843Z","created_by":"garybasin","updated_at":"2026-02-06T23:46:56.398288Z","closed_at":"2026-02-06T23:46:56.398242Z","close_reason":"Completed","dependencies":[{"issue_id":"scriptum-34r","depends_on_id":"scriptum-3cz","type":"blocks","created_at":"2026-02-06T18:26:06.352846Z","created_by":"garybasin","metadata":"{}"}]}
{"id":"scriptum-351","title":"Relay: Database migrations (all tables)","description":"SQL migrations for all tables: users, refresh_sessions, workspaces, workspace_members, documents, tags, document_tags, backlinks, comment_threads, comment_messages, share_links, acl_overrides, yjs_update_log, yjs_snapshots, idempotency_keys, audit_events. All indexes. Integration test.","status":"closed","priority":0,"issue_type":"task","created_at":"2026-02-06T18:24:27.695664Z","created_by":"garybasin","updated_at":"2026-02-06T19:24:02.431152Z","closed_at":"2026-02-06T19:24:02.430887Z","close_reason":"Completed","dependencies":[{"issue_id":"scriptum-351","depends_on_id":"scriptum-1ew","type":"blocks","created_at":"2026-02-06T18:26:06.56012Z","created_by":"garybasin","metadata":"{}"}]}
{"id":"scriptum-35g","title":"Relay: Snapshot compaction","description":"sync/snapshot.rs. Snapshot every 1000 updates or 10 min. Store in yjs_snapshots (+ object storage for large). Retain latest-2, delete older updates. Unit test.","status":"closed","priority":1,"issue_type":"task","assignee":"garybasin","created_at":"2026-02-06T18:24:28.256334Z","created_by":"garybasin","updated_at":"2026-02-06T23:45:08.700029Z","closed_at":"2026-02-06T23:45:08.700007Z","close_reason":"Completed","dependencies":[{"issue_id":"scriptum-35g","depends_on_id":"scriptum-3sp","type":"blocks","created_at":"2026-02-06T18:26:07.373194Z","created_by":"garybasin","metadata":"{}"}]}
{"id":"scriptum-35u","title":"Add .gitignore for monorepo","description":"Create comprehensive .gitignore: target/, node_modules/, dist/, .turbo/, *.db, *.wal, *.snap, .env, .DS_Store, coverage/, playwright-report/.","status":"closed","priority":0,"issue_type":"task","created_at":"2026-02-06T18:24:26.791861Z","created_by":"garybasin","updated_at":"2026-02-06T19:25:38.080044Z","closed_at":"2026-02-06T19:25:38.079783Z","close_reason":"Completed"}
{"id":"scriptum-369l","title":"App: Workspace management actions","description":"UI actions for workspace management: Cmd+N new document (creates untitled doc, inline rename), New Folder (right-click sidebar), Document actions context menu (Rename, Move, Delete, Copy Link, Add Tag, Archive). Per SPEC lines 381-385.","status":"open","priority":2,"issue_type":"task","created_at":"2026-02-06T19:05:47.900853Z","created_by":"garybasin","updated_at":"2026-02-06T19:07:07.498623Z","dependencies":[{"issue_id":"scriptum-369l","depends_on_id":"scriptum-1k3","type":"blocks","created_at":"2026-02-06T19:07:07.49858Z","created_by":"garybasin","metadata":"{}"}]}
{"id":"scriptum-37k","title":"Relay: Auth middleware (Bearer extraction)","description":"auth/middleware.rs. Extract Bearer token, validate JWT, inject user into request extensions. 401 for missing/invalid. Unit test.","status":"closed","priority":0,"issue_type":"task","created_at":"2026-02-06T18:24:27.892072Z","created_by":"garybasin","updated_at":"2026-02-06T19:28:15.017675Z","closed_at":"2026-02-06T19:28:15.017656Z","close_reason":"Completed","dependencies":[{"issue_id":"scriptum-37k","depends_on_id":"scriptum-7ak","type":"blocks","created_at":"2026-02-06T18:26:06.826866Z","created_by":"garybasin","metadata":"{}"}]}
{"id":"scriptum-37m","title":"Relay: Document tags endpoint","description":"POST /v1/workspaces/{id}/documents/{doc_id}/tags. op: add/remove with tag names. Return updated document. Unit test.","status":"closed","priority":2,"issue_type":"task","assignee":"garybasin","created_at":"2026-02-06T18:24:28.002866Z","created_by":"garybasin","updated_at":"2026-02-07T00:10:31.996297Z","closed_at":"2026-02-07T00:10:31.996274Z","close_reason":"Completed","dependencies":[{"issue_id":"scriptum-37m","depends_on_id":"scriptum-247","type":"blocks","created_at":"2026-02-06T18:26:07.025441Z","created_by":"garybasin","metadata":"{}"}]}
{"id":"scriptum-388","title":"Relay: Workspace CRUD endpoints","description":"POST (create), GET (list paginated), GET /{id}, PATCH /{id} (If-Match). Enforce auth. Return workspace with caller role. Unit test.","status":"closed","priority":1,"issue_type":"task","created_at":"2026-02-06T18:24:27.914782Z","created_by":"garybasin","updated_at":"2026-02-06T19:39:12.464868Z","closed_at":"2026-02-06T19:39:12.464802Z","close_reason":"Completed","dependencies":[{"issue_id":"scriptum-388","depends_on_id":"scriptum-37k","type":"blocks","created_at":"2026-02-06T18:26:06.85473Z","created_by":"garybasin","metadata":"{}"},{"issue_id":"scriptum-388","depends_on_id":"scriptum-351","type":"blocks","created_at":"2026-02-06T18:26:06.883639Z","created_by":"garybasin","metadata":"{}"}]}
{"id":"scriptum-38b","title":"Search: Index updates on file save","description":"Update FTS index incrementally on file save / CRDT update. Handle deletes and renames. Unit test.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-02-06T18:24:30.264841Z","created_by":"garybasin","updated_at":"2026-02-06T23:23:32.02257Z","closed_at":"2026-02-06T23:23:32.022367Z","close_reason":"Created search/indexer.rs with IndexUpdater for incremental FTS5 updates on doc create/modify/delete/rename. extract_title helper. 14 tests pass.","dependencies":[{"issue_id":"scriptum-38b","depends_on_id":"scriptum-2y6","type":"blocks","created_at":"2026-02-06T18:26:09.990838Z","created_by":"garybasin","metadata":"{}"}]}
{"id":"scriptum-38d","title":"Editor: y-codemirror.next integration","description":"Set up y-codemirror.next binding in collaboration/provider.ts. Connect to y-websocket provider. Handle provider lifecycle (connect/disconnect/reconnect). Unit test.","status":"closed","priority":1,"issue_type":"task","created_at":"2026-02-06T18:24:28.579736Z","created_by":"garybasin","updated_at":"2026-02-06T19:40:38.730532Z","closed_at":"2026-02-06T19:40:38.730369Z","close_reason":"Completed","dependencies":[{"issue_id":"scriptum-38d","depends_on_id":"scriptum-1v2","type":"blocks","created_at":"2026-02-06T18:26:07.77645Z","created_by":"garybasin","metadata":"{}"}]}
{"id":"scriptum-38l","title":"App: Fixture mode + test harness API","description":"Fixture mode via env var: disable animations, freeze Date.now(), pin fonts, fixed viewport. __SCRIPTUM_TEST__ API: loadFixture, setDocContent, setCursor, spawnRemotePeer, setSyncState, etc. Unit test.","status":"closed","priority":1,"issue_type":"task","created_at":"2026-02-06T18:24:29.063524Z","created_by":"garybasin","updated_at":"2026-02-06T19:54:49.745973Z","closed_at":"2026-02-06T19:54:49.745878Z","close_reason":"Completed","dependencies":[{"issue_id":"scriptum-38l","depends_on_id":"scriptum-2l8","type":"blocks","created_at":"2026-02-06T18:26:08.397029Z","created_by":"garybasin","metadata":"{}"}]}
{"id":"scriptum-38u","title":"History: Diff toggle","description":"Switch between 'colored authorship' and 'diff from current' views during history browsing. Unit test.","status":"open","priority":3,"issue_type":"task","created_at":"2026-02-06T18:24:30.189525Z","created_by":"garybasin","updated_at":"2026-02-06T18:26:09.901367Z","dependencies":[{"issue_id":"scriptum-38u","depends_on_id":"scriptum-10k","type":"blocks","created_at":"2026-02-06T18:26:09.901325Z","created_by":"garybasin","metadata":"{}"}]}
{"id":"scriptum-397","title":"Relay: OAuth callback + token exchange","description":"POST /v1/auth/oauth/github/callback. Validate flow_id, state, code_verifier (PKCE). Exchange code with GitHub. Create/find user. Generate JWT access (15min) + refresh (30d, rotating). Unit test.","status":"closed","priority":0,"issue_type":"task","created_at":"2026-02-06T18:24:27.825993Z","created_by":"garybasin","updated_at":"2026-02-06T20:43:46.991845Z","closed_at":"2026-02-06T20:43:46.991352Z","close_reason":"Completed: OAuth callback handler with PKCE S256 verification, GitHub code exchange via trait, JWT+refresh token generation. 12 tests passing.","dependencies":[{"issue_id":"scriptum-397","depends_on_id":"scriptum-2ea","type":"blocks","created_at":"2026-02-06T18:26:06.741469Z","created_by":"garybasin","metadata":"{}"}]}
{"id":"scriptum-39c","title":"Git: Semantic commit triggers","description":"Primary triggers: section lease release, comment thread resolved, explicit scriptum checkpoint. Track trigger events, collect changed files since last commit. Unit test.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-02-06T18:24:29.211461Z","created_by":"garybasin","updated_at":"2026-02-06T22:37:57.075458Z","closed_at":"2026-02-06T22:37:57.075265Z","close_reason":"Implemented semantic commit triggers: TriggerEvent enum, CommitContext with generate_message(), TriggerCollector with debounce/batch logic. 16 tests pass.","dependencies":[{"issue_id":"scriptum-39c","depends_on_id":"scriptum-ybw","type":"blocks","created_at":"2026-02-06T18:26:08.552795Z","created_by":"garybasin","metadata":"{}"},{"issue_id":"scriptum-39c","depends_on_id":"scriptum-4u6","type":"blocks","created_at":"2026-02-06T18:26:08.585604Z","created_by":"garybasin","metadata":"{}"}]}
{"id":"scriptum-3aig","title":"Protocol: Version negotiation + N-1 support","description":"Client sends protocol version on connect (scriptum-sync.v1). Server rejects unsupported versions with UPGRADE_REQUIRED error. N-1 support maintained for at least one release cycle. Per SPEC Protocol Versioning section.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-02-06T19:06:14.795736Z","created_by":"garybasin","updated_at":"2026-02-06T20:47:04.865085Z","closed_at":"2026-02-06T20:47:04.864845Z","close_reason":"Completed: Protocol version registry with N-1 slot, UPGRADE_REQUIRED error with supported_versions in details, wired into create_sync_session. 9 new tests (8 protocol + 1 ws integration), all 67 relay tests passing.","dependencies":[{"issue_id":"scriptum-3aig","depends_on_id":"scriptum-k7k","type":"blocks","created_at":"2026-02-06T19:07:21.59742Z","created_by":"garybasin","metadata":"{}"}]}
{"id":"scriptum-3bk","title":"Relay: Update sequencer","description":"sync/sequencer.rs. In-memory atomic counter per (workspace_id, doc_id). Assign monotonic server_seq. Batch-flush to PG. Recover from MAX(server_seq) on startup. Unit test.","status":"closed","priority":0,"issue_type":"task","created_at":"2026-02-06T18:24:28.205243Z","created_by":"garybasin","updated_at":"2026-02-06T19:28:25.960505Z","closed_at":"2026-02-06T19:28:25.960259Z","close_reason":"Completed","dependencies":[{"issue_id":"scriptum-3bk","depends_on_id":"scriptum-351","type":"blocks","created_at":"2026-02-06T18:26:07.311328Z","created_by":"garybasin","metadata":"{}"}]}
{"id":"scriptum-3bn","title":"App: Cmd+K command palette","description":"Command palette triggered by Cmd+K. Search files, commands, recent docs. Keyboard navigation. Unit test.","status":"in_progress","priority":2,"issue_type":"task","assignee":"garybasin","created_at":"2026-02-06T18:24:28.913742Z","created_by":"garybasin","updated_at":"2026-02-07T00:21:44.213624Z","dependencies":[{"issue_id":"scriptum-3bn","depends_on_id":"scriptum-2l8","type":"blocks","created_at":"2026-02-06T18:26:08.20813Z","created_by":"garybasin","metadata":"{}"}]}
{"id":"scriptum-3c8","title":"Editor: Live preview - task lists + blockquotes + HR","description":"Render task lists (checkboxes), blockquotes (styled indent), horizontal rules on unfocused lines. Unit test.","status":"closed","priority":1,"issue_type":"task","assignee":"garybasin","created_at":"2026-02-06T18:24:28.505883Z","created_by":"garybasin","updated_at":"2026-02-06T23:01:44.795154Z","closed_at":"2026-02-06T23:01:44.794907Z","close_reason":"Completed","dependencies":[{"issue_id":"scriptum-3c8","depends_on_id":"scriptum-1v2","type":"blocks","created_at":"2026-02-06T18:26:07.689087Z","created_by":"garybasin","metadata":"{}"}]}
{"id":"scriptum-3cq","title":"CLI: tree + sections + ls commands","description":"scriptum tree doc.md (section structure with IDs), scriptum sections doc.md (list with metadata), scriptum ls (workspace documents). Unit test each.","status":"closed","priority":1,"issue_type":"task","created_at":"2026-02-06T18:24:29.511049Z","created_by":"garybasin","updated_at":"2026-02-06T22:20:49.210394Z","closed_at":"2026-02-06T22:20:49.210046Z","close_reason":"Implemented tree, sections, ls CLI commands with --json flag, human formatters (tree rendering, tabular sections, document listing), and 10 unit tests","dependencies":[{"issue_id":"scriptum-3cq","depends_on_id":"scriptum-9k0","type":"blocks","created_at":"2026-02-06T18:26:09.013023Z","created_by":"garybasin","metadata":"{}"}]}
{"id":"scriptum-3cz","title":"Daemon: JSON-RPC doc.read method","description":"doc.read: params workspace_id, doc_id, include_content. Returns metadata, optionally content_md (Y.Text toString()), parsed sections. Load doc if not loaded. Unit test.","status":"closed","priority":1,"issue_type":"task","created_at":"2026-02-06T18:24:27.496301Z","created_by":"garybasin","updated_at":"2026-02-06T20:13:34.212143Z","closed_at":"2026-02-06T20:13:34.212103Z","close_reason":"Completed","dependencies":[{"issue_id":"scriptum-3cz","depends_on_id":"scriptum-3rw","type":"blocks","created_at":"2026-02-06T18:26:06.324272Z","created_by":"garybasin","metadata":"{}"},{"issue_id":"scriptum-3cz","depends_on_id":"scriptum-2la","type":"blocks","created_at":"2026-02-06T19:14:33.774653Z","created_by":"garybasin","metadata":"{}"}]}
{"id":"scriptum-3e9","title":"MCP: Tools - status, conflicts, history, agents","description":"scriptum_status -\u003e agent.status, scriptum_conflicts -\u003e agent.conflicts, scriptum_history -\u003e doc.diff, scriptum_agents -\u003e agent.list. Unit test.","status":"open","priority":2,"issue_type":"task","created_at":"2026-02-06T18:24:29.90364Z","created_by":"garybasin","updated_at":"2026-02-06T18:26:09.566579Z","dependencies":[{"issue_id":"scriptum-3e9","depends_on_id":"scriptum-302","type":"blocks","created_at":"2026-02-06T18:26:09.566533Z","created_by":"garybasin","metadata":"{}"}]}
{"id":"scriptum-3er","title":"Relay: Audit event logging","description":"audit/mod.rs. Immutable audit events: auth, permission changes, share links, deletes, admin actions. PII minimized: IP + user-agent as hashes. Unit test.","status":"closed","priority":2,"issue_type":"task","assignee":"garybasin","created_at":"2026-02-06T18:24:28.337625Z","created_by":"garybasin","updated_at":"2026-02-07T00:17:58.310869Z","closed_at":"2026-02-07T00:17:58.310657Z","close_reason":"Completed","dependencies":[{"issue_id":"scriptum-3er","depends_on_id":"scriptum-351","type":"blocks","created_at":"2026-02-06T18:26:07.465083Z","created_by":"garybasin","metadata":"{}"}]}
{"id":"scriptum-3g2","title":"Init packages/editor scaffold","description":"Create packages/editor/package.json + tsconfig.json. Add deps: @codemirror/state, @codemirror/view, @codemirror/lang-markdown, y-codemirror.next, yjs. Create src/index.ts. Stub: live-preview/, collaboration/, section/, reconciliation/, slash-commands/, comments/.","status":"closed","priority":0,"issue_type":"task","created_at":"2026-02-06T18:24:26.64415Z","created_by":"garybasin","updated_at":"2026-02-06T19:14:14.971745Z","closed_at":"2026-02-06T19:14:14.971517Z","close_reason":"Completed","dependencies":[{"issue_id":"scriptum-3g2","depends_on_id":"scriptum-3ot","type":"blocks","created_at":"2026-02-06T18:26:04.767779Z","created_by":"garybasin","metadata":"{}"}]}
{"id":"scriptum-3g88","title":"Share: Share link management","description":"PATCH /share-links/{id} (update permission, expiry, max_uses, disabled with If-Match). List and revoke. Unit test.","status":"open","priority":2,"issue_type":"task","created_at":"2026-02-06T18:24:30.611834Z","created_by":"garybasin","updated_at":"2026-02-06T18:26:10.498851Z","dependencies":[{"issue_id":"scriptum-3g88","depends_on_id":"scriptum-1sie","type":"blocks","created_at":"2026-02-06T18:26:10.498807Z","created_by":"garybasin","metadata":"{}"}]}
{"id":"scriptum-3ih","title":"App: Playwright smoke suite","description":"5-10 golden screen fixtures + ARIA snapshots with Playwright. Test: editor, sidebar, presence, sync states. Chromium canonical. \u003c 2 min. Unit test.","status":"closed","priority":1,"issue_type":"task","created_at":"2026-02-06T18:24:29.090628Z","created_by":"garybasin","updated_at":"2026-02-06T20:07:39.044832Z","closed_at":"2026-02-06T20:07:39.044614Z","close_reason":"Completed","dependencies":[{"issue_id":"scriptum-3ih","depends_on_id":"scriptum-38l","type":"blocks","created_at":"2026-02-06T18:26:08.442831Z","created_by":"garybasin","metadata":"{}"}]}
{"id":"scriptum-3jhq","title":"Relay: Fix pre-existing compile blockers in oauth/workspace API","description":" is currently blocked by pre-existing compile errors unrelated to scriptum-2gm:\\n1)  references  but no function is defined in scope.\\n2)  references , but  has no  variant.\\nThese errors prevent validating new relay API changes in this task.","status":"closed","priority":1,"issue_type":"bug","assignee":"garybasin","created_at":"2026-02-07T00:08:33.331926Z","created_by":"garybasin","updated_at":"2026-02-07T00:11:18.993289Z","closed_at":"2026-02-07T00:11:18.992916Z","close_reason":"Compile blockers already fixed - relay builds and all 261 tests pass."}
{"id":"scriptum-3jj","title":"App: Right panel - backlinks","description":"Backlinks panel showing incoming [[wiki-style]] links to current doc. Click to navigate. Unit test.","status":"open","priority":3,"issue_type":"task","created_at":"2026-02-06T18:24:29.138305Z","created_by":"garybasin","updated_at":"2026-02-06T19:05:28.312974Z","dependencies":[{"issue_id":"scriptum-3jj","depends_on_id":"scriptum-2qox","type":"blocks","created_at":"2026-02-06T19:05:28.277301Z","created_by":"garybasin","metadata":"{}"},{"issue_id":"scriptum-3jj","depends_on_id":"scriptum-2l8","type":"blocks","created_at":"2026-02-06T19:05:28.312922Z","created_by":"garybasin","metadata":"{}"}]}
{"id":"scriptum-3jk","title":"Relay: Idempotency key middleware","description":"Extract Idempotency-Key header on mutating POST. Check idempotency_keys table: matching -\u003e return cached; different hash -\u003e REPLAY_MISMATCH; missing -\u003e process and store. TTL expiry. Unit test.","status":"closed","priority":1,"issue_type":"task","created_at":"2026-02-06T18:24:27.73828Z","created_by":"garybasin","updated_at":"2026-02-06T22:08:03.790253Z","closed_at":"2026-02-06T22:08:03.78991Z","close_reason":"Idempotency key middleware with in-memory store, SHA-256 body hashing, TTL expiry. Returns cached response on replay, 409 on body mismatch. Includes IdempotencyKey extractor. 10 tests, all 182 relay tests pass.","dependencies":[{"issue_id":"scriptum-3jk","depends_on_id":"scriptum-1a5","type":"blocks","created_at":"2026-02-06T18:26:06.621058Z","created_by":"garybasin","metadata":"{}"}]}
{"id":"scriptum-3l9","title":"Init crates/common with shared Rust types","description":"Create crates/common/Cargo.toml and src/lib.rs. Define common types module (Workspace, Document, Section, SectionOverlap, AgentSession). Define protocol module stubs (jsonrpc.rs, ws.rs). Add serde derives.","status":"closed","priority":0,"issue_type":"task","created_at":"2026-02-06T18:24:26.559143Z","created_by":"garybasin","updated_at":"2026-02-06T19:12:58.385538Z","closed_at":"2026-02-06T19:12:58.385486Z","close_reason":"Completed","dependencies":[{"issue_id":"scriptum-3l9","depends_on_id":"scriptum-3sk","type":"blocks","created_at":"2026-02-06T18:26:04.513951Z","created_by":"garybasin","metadata":"{}"}]}
{"id":"scriptum-3ln","title":"App: Offline - IndexedDB CRDT store","description":"IndexedDB store for web offline: persist Y.Doc state, queue updates, sync on reconnect. lib/idb-store.ts. Unit test.","status":"in_progress","priority":2,"issue_type":"task","created_at":"2026-02-06T18:24:29.011615Z","created_by":"garybasin","updated_at":"2026-02-07T00:22:28.669529Z","dependencies":[{"issue_id":"scriptum-3ln","depends_on_id":"scriptum-2l8","type":"blocks","created_at":"2026-02-06T18:26:08.336293Z","created_by":"garybasin","metadata":"{}"}]}
{"id":"scriptum-3mm","title":"Editor: Reconciliation detection trigger","description":"Detect when \u003e50% of section characters changed by 2+ editors within 30s. Track per-section edit history with author + timestamp. Unit test trigger conditions.","status":"closed","priority":2,"issue_type":"task","assignee":"garybasin","created_at":"2026-02-06T18:24:28.700955Z","created_by":"garybasin","updated_at":"2026-02-06T22:51:04.141825Z","closed_at":"2026-02-06T22:51:04.14158Z","close_reason":"Completed","dependencies":[{"issue_id":"scriptum-3mm","depends_on_id":"scriptum-33v","type":"blocks","created_at":"2026-02-06T18:26:07.923943Z","created_by":"garybasin","metadata":"{}"},{"issue_id":"scriptum-3mm","depends_on_id":"scriptum-1v2","type":"blocks","created_at":"2026-02-06T19:14:35.666424Z","created_by":"garybasin","metadata":"{}"}]}
{"id":"scriptum-3mu","title":"Daemon: Diff-to-Yjs conversion (patch-based)","description":"Implement common/diff/patch.rs. Use similar or diff-match-patch to compute minimal text diffs. Convert to Yjs text operations (insert/delete). Origin-tag transactions as file-watcher. Unit test: various diff scenarios.","status":"closed","priority":0,"issue_type":"task","created_at":"2026-02-06T18:24:27.117649Z","created_by":"garybasin","updated_at":"2026-02-06T19:48:03.711096Z","closed_at":"2026-02-06T19:48:03.710853Z","close_reason":"Completed","dependencies":[{"issue_id":"scriptum-3mu","depends_on_id":"scriptum-3l9","type":"blocks","created_at":"2026-02-06T18:26:05.683357Z","created_by":"garybasin","metadata":"{}"}]}
{"id":"scriptum-3ot","title":"Scaffold pnpm + Turborepo monorepo","description":"Init root package.json with pnpm-workspace.yaml listing packages/*. Add turbo.json with build/test/lint pipeline config. Configure pnpm strict mode. Add .npmrc.","status":"closed","priority":0,"issue_type":"task","created_at":"2026-02-06T18:24:26.53135Z","created_by":"garybasin","updated_at":"2026-02-06T19:12:21.31968Z","closed_at":"2026-02-06T19:12:21.319572Z","close_reason":"Completed"}
{"id":"scriptum-3ox9","title":"Settings: Settings page","description":"Settings page with tabs: General, Git Sync, Agents, Permissions, Appearance. Each tab renders appropriate config form. Persist to workspace config. Unit test.","status":"open","priority":3,"issue_type":"task","created_at":"2026-02-06T18:24:30.641533Z","created_by":"garybasin","updated_at":"2026-02-06T19:05:28.354065Z","dependencies":[{"issue_id":"scriptum-3ox9","depends_on_id":"scriptum-2l8","type":"blocks","created_at":"2026-02-06T19:05:28.354017Z","created_by":"garybasin","metadata":"{}"}]}
{"id":"scriptum-3pf9","title":"Test: E2E golden baselines - sync/offline state indicators","description":"High-risk UI surface golden baselines for sync/offline states. Deterministic sync states via test harness: offline banner, reconnecting progress, synced indicator, conflict/overlap warnings, git commit pending/last commit display. Per SPEC high-risk UI surfaces section.","notes":"Added deterministic smoke fixture coverage for pending sync updates, reconnect progress, and git lastCommit in tests/e2e fixture loader + smoke spec assertions. Could not regenerate/playwright-verify golden baselines because fixture-mode routes are being redirected away from target screens (tracked in scriptum-15k0).","status":"closed","priority":2,"issue_type":"task","assignee":"garybasin","created_at":"2026-02-06T19:06:53.950803Z","created_by":"garybasin","updated_at":"2026-02-07T00:14:29.05677Z","closed_at":"2026-02-07T00:14:29.056468Z","close_reason":"Completed","dependencies":[{"issue_id":"scriptum-3pf9","depends_on_id":"scriptum-2by9","type":"blocks","created_at":"2026-02-06T19:07:34.324587Z","created_by":"garybasin","metadata":"{}"},{"issue_id":"scriptum-3pf9","depends_on_id":"scriptum-214","type":"blocks","created_at":"2026-02-06T19:07:34.355456Z","created_by":"garybasin","metadata":"{}"},{"issue_id":"scriptum-3pf9","depends_on_id":"scriptum-2pi","type":"blocks","created_at":"2026-02-06T19:07:34.386526Z","created_by":"garybasin","metadata":"{}"}]}
{"id":"scriptum-3q5","title":"Daemon: Crash recovery","description":"Recovery in daemon startup: load latest snapshot, replay WAL entries after snapshot seq. Validate checksums. Checksum fail -\u003e mark doc degraded. Integration test: edit, corrupt WAL, recover.","status":"closed","priority":1,"issue_type":"task","assignee":"garybasin","created_at":"2026-02-06T18:24:27.388078Z","created_by":"garybasin","updated_at":"2026-02-06T23:44:58.337026Z","closed_at":"2026-02-06T23:44:58.336973Z","close_reason":"Completed","dependencies":[{"issue_id":"scriptum-3q5","depends_on_id":"scriptum-2hv","type":"blocks","created_at":"2026-02-06T18:26:06.085105Z","created_by":"garybasin","metadata":"{}"}]}
{"id":"scriptum-3r3","title":"Relay: Axum scaffold + middleware stack","description":"Axum router with middleware: request ID, structured logging, panic handler, body size limit (1 MiB). Health check endpoint. Graceful shutdown. Unit test.","status":"closed","priority":0,"issue_type":"task","created_at":"2026-02-06T18:24:27.649739Z","created_by":"garybasin","updated_at":"2026-02-06T19:20:40.236588Z","closed_at":"2026-02-06T19:20:40.236371Z","close_reason":"Completed","dependencies":[{"issue_id":"scriptum-3r3","depends_on_id":"scriptum-3t7","type":"blocks","created_at":"2026-02-06T19:05:15.89816Z","created_by":"garybasin","metadata":"{}"}]}
{"id":"scriptum-3rqq","title":"Test: E2E golden baselines - presence + overlap overlays","description":"High-risk UI surface golden baselines for presence and section overlap overlays. Spawn remote peers with deterministic colors/positions via test harness. Assert: cursor labels render correctly, presence avatar stack shows correct names/types, section overlap severity changes (info vs warning), attribution badges render correctly (agent vs human). Per SPEC high-risk UI surfaces section.","status":"closed","priority":1,"issue_type":"task","assignee":"garybasin","created_at":"2026-02-06T19:06:53.91948Z","created_by":"garybasin","updated_at":"2026-02-06T23:37:18.74579Z","closed_at":"2026-02-06T23:37:18.745773Z","close_reason":"Completed","dependencies":[{"issue_id":"scriptum-3rqq","depends_on_id":"scriptum-2by9","type":"blocks","created_at":"2026-02-06T19:07:34.230351Z","created_by":"garybasin","metadata":"{}"},{"issue_id":"scriptum-3rqq","depends_on_id":"scriptum-1e4y","type":"blocks","created_at":"2026-02-06T19:07:34.261715Z","created_by":"garybasin","metadata":"{}"},{"issue_id":"scriptum-3rqq","depends_on_id":"scriptum-252","type":"blocks","created_at":"2026-02-06T19:07:34.292923Z","created_by":"garybasin","metadata":"{}"}]}
{"id":"scriptum-3rw","title":"Daemon: Document memory manager with subscribe/LRU","description":"Implement doc_manager.rs. Active WS subscriptions keep Y.Docs in memory. Last subscriber disconnects -\u003e doc enters LRU cache. Evict under memory pressure (512MB threshold). Unit test: subscribe/unsubscribe lifecycle, LRU eviction.","status":"closed","priority":1,"issue_type":"task","created_at":"2026-02-06T18:24:26.974985Z","created_by":"garybasin","updated_at":"2026-02-06T20:10:37.749095Z","closed_at":"2026-02-06T20:10:37.747751Z","close_reason":"Completed","dependencies":[{"issue_id":"scriptum-3rw","depends_on_id":"scriptum-1s1","type":"blocks","created_at":"2026-02-06T18:26:05.480279Z","created_by":"garybasin","metadata":"{}"}]}
{"id":"scriptum-3s7k","title":"Permissions: Document ACL overrides","description":"POST /acl-overrides (subject_type, subject_id, role, expires_at). DELETE. Per-document role grants for specific users/agents. Unit test.","status":"open","priority":2,"issue_type":"task","created_at":"2026-02-06T18:24:30.52737Z","created_by":"garybasin","updated_at":"2026-02-06T18:26:10.407569Z","dependencies":[{"issue_id":"scriptum-3s7k","depends_on_id":"scriptum-14xd","type":"blocks","created_at":"2026-02-06T18:26:10.407524Z","created_by":"garybasin","metadata":"{}"}]}
{"id":"scriptum-3sa2","title":"Security: Transport + storage security","description":"TLS 1.2+ required (1.3 preferred) for all relay connections. Encryption at rest for CRDT data and DB. OS keychain for local secrets (API keys, git credentials, tokens) — never in config files. Local CRDT files 0600 permissions. Per SPEC lines 2495-2498.","status":"open","priority":2,"issue_type":"task","created_at":"2026-02-06T19:05:56.677949Z","created_by":"garybasin","updated_at":"2026-02-06T19:07:15.303519Z","dependencies":[{"issue_id":"scriptum-3sa2","depends_on_id":"scriptum-3r3","type":"blocks","created_at":"2026-02-06T19:07:15.303465Z","created_by":"garybasin","metadata":"{}"}]}
{"id":"scriptum-3sk","title":"Scaffold Cargo workspace root","description":"Create root Cargo.toml with workspace members: crates/common, crates/daemon, crates/cli, crates/relay. Set edition=2021, resolver=2. Add shared workspace dependencies.","status":"closed","priority":0,"issue_type":"task","created_at":"2026-02-06T18:19:26.198625Z","created_by":"garybasin","updated_at":"2026-02-06T19:11:10.735961Z","closed_at":"2026-02-06T19:11:10.735942Z","close_reason":"Completed"}
{"id":"scriptum-3sp","title":"Relay: Y.Doc management (load/validate/unload)","description":"sync/doc_manager.rs. Load Y.Doc from snapshot + update log on subscribe. Keep in memory while subscribers exist. Validate updates. Unload inactive. Unit test.","status":"closed","priority":0,"issue_type":"task","created_at":"2026-02-06T18:24:28.229535Z","created_by":"garybasin","updated_at":"2026-02-06T20:42:21.053999Z","closed_at":"2026-02-06T20:42:21.05397Z","close_reason":"Completed","dependencies":[{"issue_id":"scriptum-3sp","depends_on_id":"scriptum-3bk","type":"blocks","created_at":"2026-02-06T18:26:07.3434Z","created_by":"garybasin","metadata":"{}"}]}
{"id":"scriptum-3t7","title":"Init crates/relay scaffold","description":"Create crates/relay/Cargo.toml with deps (axum, sqlx, y-crdt, tokio, tower, jsonwebtoken). Create src/main.rs with Axum bootstrap. Stub api/, ws/, sync/, auth/, db/, leader/, awareness/, audit/.","status":"closed","priority":0,"issue_type":"task","created_at":"2026-02-06T18:24:26.624967Z","created_by":"garybasin","updated_at":"2026-02-06T19:15:55.626415Z","closed_at":"2026-02-06T19:15:55.626311Z","close_reason":"Completed","dependencies":[{"issue_id":"scriptum-3t7","depends_on_id":"scriptum-3sk","type":"blocks","created_at":"2026-02-06T18:26:04.637981Z","created_by":"garybasin","metadata":"{}"},{"issue_id":"scriptum-3t7","depends_on_id":"scriptum-3l9","type":"blocks","created_at":"2026-02-06T18:26:04.73756Z","created_by":"garybasin","metadata":"{}"}]}
{"id":"scriptum-3ti","title":"Daemon: JSON-RPC doc.diff","description":"doc.diff: params workspace_id, doc_id, from_seq, to_seq. Compute markdown diff between two sequence points. Return patch_md. Unit test.","status":"closed","priority":2,"issue_type":"task","assignee":"garybasin","created_at":"2026-02-06T18:24:27.583081Z","created_by":"garybasin","updated_at":"2026-02-07T00:01:56.796756Z","closed_at":"2026-02-07T00:01:56.796698Z","close_reason":"Completed","dependencies":[{"issue_id":"scriptum-3ti","depends_on_id":"scriptum-vgc","type":"blocks","created_at":"2026-02-06T19:05:21.68394Z","created_by":"garybasin","metadata":"{}"},{"issue_id":"scriptum-3ti","depends_on_id":"scriptum-2la","type":"blocks","created_at":"2026-02-06T19:05:21.72598Z","created_by":"garybasin","metadata":"{}"}]}
{"id":"scriptum-3tix","title":"Ops: Health check + readiness probes","description":"GET /health (liveness), GET /ready (readiness: DB connected, sequencer recovered). K8s-compatible. Unit test.","status":"closed","priority":2,"issue_type":"task","assignee":"garybasin","created_at":"2026-02-06T18:24:31.103103Z","created_by":"garybasin","updated_at":"2026-02-06T23:58:16.024459Z","closed_at":"2026-02-06T23:58:16.024106Z","close_reason":"Completed","dependencies":[{"issue_id":"scriptum-3tix","depends_on_id":"scriptum-3r3","type":"blocks","created_at":"2026-02-06T19:05:24.50577Z","created_by":"garybasin","metadata":"{}"}]}
{"id":"scriptum-3tz","title":"CLI: whoami + status + conflicts + agents","description":"Agent state commands. whoami (suggest name, workspace state), status (active sections/overlaps), conflicts (section overlap warnings), agents (list active). Unit test.","status":"closed","priority":1,"issue_type":"task","created_at":"2026-02-06T18:24:29.628247Z","created_by":"garybasin","updated_at":"2026-02-06T22:19:27.153441Z","closed_at":"2026-02-06T22:19:27.153099Z","close_reason":"Implemented whoami, status, conflicts, agents CLI commands with --json flag, human/JSON formatters, and 12 unit tests","dependencies":[{"issue_id":"scriptum-3tz","depends_on_id":"scriptum-9k0","type":"blocks","created_at":"2026-02-06T18:26:09.132376Z","created_by":"garybasin","metadata":"{}"}]}
{"id":"scriptum-3u7v","title":"Daemon: Awareness protocol wrapper","description":"Implement awareness protocol wrapper for the Yjs daemon. SPEC file tree shows crates/daemon/src/engine/awareness.rs. Manages ephemeral user presence state (cursor positions, selections, user info) on top of the Yjs awareness protocol. Broadcasts presence updates to connected clients.","status":"closed","priority":2,"issue_type":"task","assignee":"garybasin","created_at":"2026-02-06T19:14:48.156709Z","created_by":"garybasin","updated_at":"2026-02-07T00:02:58.173953Z","closed_at":"2026-02-07T00:02:58.173609Z","close_reason":"Completed","dependencies":[{"issue_id":"scriptum-3u7v","depends_on_id":"scriptum-3r3","type":"blocks","created_at":"2026-02-06T19:15:08.441469Z","created_by":"garybasin","metadata":"{}"},{"issue_id":"scriptum-3u7v","depends_on_id":"scriptum-25w","type":"blocks","created_at":"2026-02-06T19:15:17.044891Z","created_by":"garybasin","metadata":"{}"}]}
{"id":"scriptum-3ub9","title":"Editor: Footnotes rendering (GFM extension)","description":"Implement footnote rendering in the CodeMirror 6 editor. SPEC Part 1 lists footnotes as a supported GFM extension. Needs CM6 decoration for footnote markers and a footnote section renderer at document bottom. File: packages/editor/src/extensions/footnotes.ts","status":"open","priority":3,"issue_type":"task","created_at":"2026-02-06T19:14:43.704916Z","created_by":"garybasin","updated_at":"2026-02-06T19:15:02.000867Z","dependencies":[{"issue_id":"scriptum-3ub9","depends_on_id":"scriptum-1v2","type":"blocks","created_at":"2026-02-06T19:15:01.99941Z","created_by":"garybasin","metadata":"{}"}]}
{"id":"scriptum-3ur","title":"Editor: Selection highlights per collaborator","description":"Show each collaborator's text selection in their assigned color (translucent highlight). Deterministic color assignment from name hash. Unit test.","status":"closed","priority":1,"issue_type":"task","assignee":"garybasin","created_at":"2026-02-06T18:24:28.628641Z","created_by":"garybasin","updated_at":"2026-02-06T23:19:42.575324Z","closed_at":"2026-02-06T23:19:42.575273Z","close_reason":"Completed","dependencies":[{"issue_id":"scriptum-3ur","depends_on_id":"scriptum-38d","type":"blocks","created_at":"2026-02-06T18:26:07.834721Z","created_by":"garybasin","metadata":"{}"}]}
{"id":"scriptum-3uu","title":"History: Restore to version","description":"'Restore to this version' creates a new edit reverting to the scrubbed state. Not destructive - creates new CRDT ops. Unit test.","status":"open","priority":3,"issue_type":"task","created_at":"2026-02-06T18:24:30.214874Z","created_by":"garybasin","updated_at":"2026-02-06T18:26:09.930258Z","dependencies":[{"issue_id":"scriptum-3uu","depends_on_id":"scriptum-ibr","type":"blocks","created_at":"2026-02-06T18:26:09.930215Z","created_by":"garybasin","metadata":"{}"}]}
{"id":"scriptum-3vqt","title":"Ops: Metrics collection","description":"RED metrics for all endpoints. Custom: sync_ack_latency_ms, outbox_depth, daemon_recovery_time_ms, git_sync_jobs_total, sequence_gap_count. Prometheus endpoint. Unit test.","status":"open","priority":3,"issue_type":"task","created_at":"2026-02-06T18:24:31.189661Z","created_by":"garybasin","updated_at":"2026-02-06T19:05:24.602051Z","dependencies":[{"issue_id":"scriptum-3vqt","depends_on_id":"scriptum-3r3","type":"blocks","created_at":"2026-02-06T19:05:24.602003Z","created_by":"garybasin","metadata":"{}"}]}
{"id":"scriptum-4u6","title":"Daemon: Intent/lease storage","description":"Implement agent/lease.rs. Leases in-memory + SQLite. Fields: workspace_id, doc_id, section_id, agent_id, ttl_sec, mode (exclusive/shared), note, expires_at. TTL-only lifecycle. Activity auto-extends. Unit test.","status":"closed","priority":2,"issue_type":"task","assignee":"garybasin","created_at":"2026-02-06T18:24:27.410073Z","created_by":"garybasin","updated_at":"2026-02-06T22:32:59.512475Z","closed_at":"2026-02-06T22:32:59.512293Z","close_reason":"Completed","dependencies":[{"issue_id":"scriptum-4u6","depends_on_id":"scriptum-1sx","type":"blocks","created_at":"2026-02-06T18:26:06.113707Z","created_by":"garybasin","metadata":"{}"},{"issue_id":"scriptum-4u6","depends_on_id":"scriptum-33v","type":"blocks","created_at":"2026-02-06T18:26:06.142016Z","created_by":"garybasin","metadata":"{}"}]}
{"id":"scriptum-6co","title":"Daemon: JSON-RPC doc.sections + doc.tree","description":"doc.sections (section list for doc) and doc.tree (document tree for workspace with path_prefix filter). Unit test.","status":"closed","priority":1,"issue_type":"task","created_at":"2026-02-06T18:24:27.539574Z","created_by":"garybasin","updated_at":"2026-02-06T23:31:12.743333Z","closed_at":"2026-02-06T23:31:12.742964Z","close_reason":"Added doc.sections (section list for a doc) and doc.tree (workspace doc tree with path_prefix filter). 8 new tests, all 45 pass.","dependencies":[{"issue_id":"scriptum-6co","depends_on_id":"scriptum-33v","type":"blocks","created_at":"2026-02-06T18:26:06.388612Z","created_by":"garybasin","metadata":"{}"},{"issue_id":"scriptum-6co","depends_on_id":"scriptum-2la","type":"blocks","created_at":"2026-02-06T19:14:34.348283Z","created_by":"garybasin","metadata":"{}"}]}
{"id":"scriptum-7ak","title":"Relay: JWT access token generation + validation","description":"auth/jwt.rs. Generate workspace-scoped JWT access tokens (15min). Validate: signature, expiry, claims. Extract user_id + workspace access. Unit test.","status":"closed","priority":0,"issue_type":"task","created_at":"2026-02-06T18:24:27.847359Z","created_by":"garybasin","updated_at":"2026-02-06T19:26:33.261335Z","closed_at":"2026-02-06T19:26:33.261253Z","close_reason":"Completed","dependencies":[{"issue_id":"scriptum-7ak","depends_on_id":"scriptum-3t7","type":"blocks","created_at":"2026-02-06T18:26:06.770029Z","created_by":"garybasin","metadata":"{}"}]}
{"id":"scriptum-89k","title":"Relay: Dual attribution logging","description":"Annotate each yjs_update with authenticated user_id or agent_id from session. Store in yjs_update_log. Enables per-section attribution queries. Unit test.","status":"closed","priority":1,"issue_type":"task","created_at":"2026-02-06T18:24:28.280047Z","created_by":"garybasin","updated_at":"2026-02-06T19:53:19.111692Z","closed_at":"2026-02-06T19:53:19.11165Z","close_reason":"Completed","dependencies":[{"issue_id":"scriptum-89k","depends_on_id":"scriptum-p0f","type":"blocks","created_at":"2026-02-06T18:26:07.402937Z","created_by":"garybasin","metadata":"{}"}]}
{"id":"scriptum-8uib","title":"Ops: Import/migration flow","description":"Import existing files into a new workspace: scan .md files recursively, normalize UTF-8 (handle BOM), preserve line endings, initialize CRDT at seq=0 per doc, build indexes (backlinks, tags, FTS), detect path collisions via path_norm. Per SPEC Migration Plan section.","status":"open","priority":2,"issue_type":"task","created_at":"2026-02-06T19:06:14.764163Z","created_by":"garybasin","updated_at":"2026-02-06T19:07:21.564088Z","dependencies":[{"issue_id":"scriptum-8uib","depends_on_id":"scriptum-ako","type":"blocks","created_at":"2026-02-06T19:07:21.528775Z","created_by":"garybasin","metadata":"{}"},{"issue_id":"scriptum-8uib","depends_on_id":"scriptum-2y6","type":"blocks","created_at":"2026-02-06T19:07:21.564041Z","created_by":"garybasin","metadata":"{}"}]}
{"id":"scriptum-9k0","title":"CLI: JSON-RPC client to daemon","description":"client.rs. Connect to Unix socket, send JSON-RPC requests, receive responses. Handle timeout, reconnection, daemon not running (exit code 10). Unit test.","status":"closed","priority":1,"issue_type":"task","created_at":"2026-02-06T18:24:29.385569Z","created_by":"garybasin","updated_at":"2026-02-06T19:31:38.366701Z","closed_at":"2026-02-06T19:31:38.36658Z","close_reason":"Completed","dependencies":[{"issue_id":"scriptum-9k0","depends_on_id":"scriptum-fmx","type":"blocks","created_at":"2026-02-06T18:26:08.864342Z","created_by":"garybasin","metadata":"{}"}]}
{"id":"scriptum-ako","title":"Daemon: File watcher pipeline (full)","description":"Implement watcher/pipeline.rs. Full pipeline: FS event -\u003e debounce -\u003e read file -\u003e hash check -\u003e diff against CRDT -\u003e apply as Yjs ops -\u003e propagate. Wire all components. Integration test: external edit -\u003e CRDT updated.","status":"closed","priority":1,"issue_type":"task","assignee":"garybasin","created_at":"2026-02-06T18:24:27.137473Z","created_by":"garybasin","updated_at":"2026-02-06T21:14:14.206863Z","closed_at":"2026-02-06T21:14:14.206809Z","close_reason":"Implemented watcher/pipeline.rs with full FS→debounce→read→hash→diff→Yjs pipeline, PathResolver/HashStore traits, PipelineEvent enum, and 7 tests including end-to-end integration","dependencies":[{"issue_id":"scriptum-ako","depends_on_id":"scriptum-qie","type":"blocks","created_at":"2026-02-06T18:26:05.712365Z","created_by":"garybasin","metadata":"{}"},{"issue_id":"scriptum-ako","depends_on_id":"scriptum-136","type":"blocks","created_at":"2026-02-06T18:26:05.740254Z","created_by":"garybasin","metadata":"{}"},{"issue_id":"scriptum-ako","depends_on_id":"scriptum-3mu","type":"blocks","created_at":"2026-02-06T18:26:05.771479Z","created_by":"garybasin","metadata":"{}"},{"issue_id":"scriptum-ako","depends_on_id":"scriptum-12b","type":"blocks","created_at":"2026-02-06T19:05:21.546317Z","created_by":"garybasin","metadata":"{}"}]}
{"id":"scriptum-beu9","title":"Editor: Section overlap indicator (CM6 decoration)","description":"Implement overlap-indicator.ts under packages/editor/src/section/. CM6 decoration that renders visual warning when multiple editors are in the same section. Consumes SectionOverlap data from daemon (via awareness). Shows info/warning severity styling. Companion to lease-badge.ts in the same directory.","status":"closed","priority":2,"issue_type":"task","assignee":"garybasin","created_at":"2026-02-06T19:21:03.357844Z","created_by":"garybasin","updated_at":"2026-02-06T23:53:01.970394Z","closed_at":"2026-02-06T23:53:01.970374Z","close_reason":"Completed","dependencies":[{"issue_id":"scriptum-beu9","depends_on_id":"scriptum-1v2","type":"blocks","created_at":"2026-02-06T19:21:13.025992Z","created_by":"garybasin","metadata":"{}"},{"issue_id":"scriptum-beu9","depends_on_id":"scriptum-38d","type":"blocks","created_at":"2026-02-06T19:21:13.062716Z","created_by":"garybasin","metadata":"{}"}]}
{"id":"scriptum-bnr","title":"CI: Lint and format workflow","description":"Create .github/workflows/lint.yml. Jobs: biome check (TS), cargo clippy (Rust), cargo fmt --check (Rust), tsc --noEmit (TS). Trigger on push/PR. Cache cargo + pnpm.","status":"closed","priority":1,"issue_type":"task","created_at":"2026-02-06T18:24:26.813494Z","created_by":"garybasin","updated_at":"2026-02-06T19:28:53.418875Z","closed_at":"2026-02-06T19:28:53.418598Z","close_reason":"Completed","dependencies":[{"issue_id":"scriptum-bnr","depends_on_id":"scriptum-kzs","type":"blocks","created_at":"2026-02-06T18:26:05.140328Z","created_by":"garybasin","metadata":"{}"},{"issue_id":"scriptum-bnr","depends_on_id":"scriptum-rr3","type":"blocks","created_at":"2026-02-06T18:26:05.173959Z","created_by":"garybasin","metadata":"{}"}]}
{"id":"scriptum-exgy","title":"Relay: Server configuration (config.rs)","description":"Relay server configuration management: environment variables, config file parsing, defaults. Database URL, OAuth credentials, JWT signing keys, CORS origins, port, log level. Per SPEC file tree (relay/src/config.rs).","status":"closed","priority":1,"issue_type":"task","created_at":"2026-02-06T19:06:14.685552Z","created_by":"garybasin","updated_at":"2026-02-06T22:04:35.637713Z","closed_at":"2026-02-06T22:04:35.637435Z","close_reason":"Centralized RelayConfig with from_env() parsing for host, port, JWT secret, WS base URL, database URL, CORS origins, log filter, share link base URL. Dev JWT warning on startup. 10 tests, all 153 relay tests pass.","dependencies":[{"issue_id":"scriptum-exgy","depends_on_id":"scriptum-3t7","type":"blocks","created_at":"2026-02-06T19:07:21.459815Z","created_by":"garybasin","metadata":"{}"}]}
{"id":"scriptum-fmx","title":"CLI: clap scaffold + daemon auto-start","description":"clap CLI with all subcommands defined. Socket-activated daemon auto-start: try connect to daemon.sock, connection refused -\u003e fork+exec scriptumd, retry. daemon_launcher.rs. Unit test.","status":"closed","priority":1,"issue_type":"task","created_at":"2026-02-06T18:24:29.357752Z","created_by":"garybasin","updated_at":"2026-02-06T19:29:49.8363Z","closed_at":"2026-02-06T19:29:49.836257Z","close_reason":"Completed","dependencies":[{"issue_id":"scriptum-fmx","depends_on_id":"scriptum-1g5","type":"blocks","created_at":"2026-02-06T18:26:08.802386Z","created_by":"garybasin","metadata":"{}"},{"issue_id":"scriptum-fmx","depends_on_id":"scriptum-2ds","type":"blocks","created_at":"2026-02-06T18:26:08.833477Z","created_by":"garybasin","metadata":"{}"}]}
{"id":"scriptum-fon","title":"Desktop: Wire editor + app shell","description":"Mount web app (packages/web) inside Tauri webview. Connect editor to embedded daemon's local WS. Verify full editing flow works.","status":"closed","priority":2,"issue_type":"task","assignee":"garybasin","created_at":"2026-02-06T18:24:29.72793Z","created_by":"garybasin","updated_at":"2026-02-06T21:09:17.421147Z","closed_at":"2026-02-06T21:09:17.420921Z","close_reason":"Completed","dependencies":[{"issue_id":"scriptum-fon","depends_on_id":"scriptum-34m","type":"blocks","created_at":"2026-02-06T18:26:09.288834Z","created_by":"garybasin","metadata":"{}"},{"issue_id":"scriptum-fon","depends_on_id":"scriptum-2l8","type":"blocks","created_at":"2026-02-06T18:26:09.321398Z","created_by":"garybasin","metadata":"{}"},{"issue_id":"scriptum-fon","depends_on_id":"scriptum-1v2","type":"blocks","created_at":"2026-02-06T18:26:09.350917Z","created_by":"garybasin","metadata":"{}"}]}
{"id":"scriptum-ght2","title":"Fix runtime.rs test compilation errors","description":"crates/daemon/src/runtime.rs has two compilation errors in test code: (1) Duration not imported in test module, (2) cannot move out of EmbeddedDaemonHandle which implements Drop. These block 'cargo test -p scriptum-daemon' from compiling when test targets include runtime.rs.","status":"closed","priority":2,"issue_type":"bug","created_at":"2026-02-06T20:59:09.982174Z","created_by":"garybasin","updated_at":"2026-02-06T21:53:54.774818Z","closed_at":"2026-02-06T21:53:54.77447Z","close_reason":"Already fixed — all 195 daemon tests compile and pass."}
{"id":"scriptum-gq6","title":"CLI: Output format auto-detect","description":"output.rs. TTY -\u003e human-readable text. Piped/redirected -\u003e structured JSON. Auto-detect via isatty(). --json flag to force JSON. Unit test.","status":"closed","priority":1,"issue_type":"task","created_at":"2026-02-06T18:24:29.41226Z","created_by":"garybasin","updated_at":"2026-02-06T22:14:43.277364Z","closed_at":"2026-02-06T22:14:43.277003Z","close_reason":"Implemented output format auto-detect with TTY detection, --json flag override, human/JSON writers, and 11 unit tests","dependencies":[{"issue_id":"scriptum-gq6","depends_on_id":"scriptum-fmx","type":"blocks","created_at":"2026-02-06T18:26:08.894009Z","created_by":"garybasin","metadata":"{}"}]}
{"id":"scriptum-ibr","title":"History: Replay engine","description":"Snapshot + sequential WAL replay. Scrub to time T = load nearest snapshot before T, replay entries until T. Max 1000 ops per scrub (~50ms). Unit test.","status":"closed","priority":3,"issue_type":"task","created_at":"2026-02-06T18:24:30.113142Z","created_by":"garybasin","updated_at":"2026-02-06T19:59:05.16931Z","closed_at":"2026-02-06T19:59:05.169214Z","close_reason":"Completed","dependencies":[{"issue_id":"scriptum-ibr","depends_on_id":"scriptum-2hv","type":"blocks","created_at":"2026-02-06T18:26:09.806762Z","created_by":"garybasin","metadata":"{}"}]}
{"id":"scriptum-iflc","title":"Comments: Resolve/collapse UI","description":"Resolve button on threads. Resolved comments collapse to subtle dot in margin. Reopen from collapsed state. Unit test.","status":"open","priority":2,"issue_type":"task","created_at":"2026-02-06T18:24:30.477463Z","created_by":"garybasin","updated_at":"2026-02-06T18:26:10.34612Z","dependencies":[{"issue_id":"scriptum-iflc","depends_on_id":"scriptum-qjb7","type":"blocks","created_at":"2026-02-06T18:26:10.346076Z","created_by":"garybasin","metadata":"{}"}]}
{"id":"scriptum-iik","title":"Relay: Refresh token rotation","description":"Single-use, family-based rotation, 30d expiry. POST /v1/auth/token/refresh. Reuse detection: revoke entire family. POST /v1/auth/logout. Unit test: rotation, reuse, expiry.","status":"closed","priority":0,"issue_type":"task","created_at":"2026-02-06T18:24:27.869636Z","created_by":"garybasin","updated_at":"2026-02-06T22:56:22.946008Z","closed_at":"2026-02-06T22:56:22.945989Z","close_reason":"Implemented refresh token rotation with single-use tokens, family-based reuse detection, and logout endpoint. 6 tests pass.","dependencies":[{"issue_id":"scriptum-iik","depends_on_id":"scriptum-397","type":"blocks","created_at":"2026-02-06T18:26:06.798458Z","created_by":"garybasin","metadata":"{}"}]}
{"id":"scriptum-in6","title":"Init crates/daemon scaffold","description":"Create crates/daemon/Cargo.toml with deps (y-crdt, tokio, notify, rusqlite, axum). Create src/main.rs (standalone), src/lib.rs (Tauri embed). Stub module declarations for engine/, watcher/, section/, agent/, git/, rpc/, store/, outbox/.","status":"closed","priority":0,"issue_type":"task","created_at":"2026-02-06T18:24:26.583644Z","created_by":"garybasin","updated_at":"2026-02-06T19:14:44.065849Z","closed_at":"2026-02-06T19:14:44.065781Z","close_reason":"Completed","dependencies":[{"issue_id":"scriptum-in6","depends_on_id":"scriptum-3sk","type":"blocks","created_at":"2026-02-06T18:26:04.564746Z","created_by":"garybasin","metadata":"{}"},{"issue_id":"scriptum-in6","depends_on_id":"scriptum-3l9","type":"blocks","created_at":"2026-02-06T18:26:04.671356Z","created_by":"garybasin","metadata":"{}"}]}
{"id":"scriptum-j96","title":"Daemon: JSON-RPC doc.bundle","description":"doc.bundle: workspace_id, doc_id, section_id, include (parents/children/backlinks/comments), token_budget. Assemble context bundle. Truncation: comments -\u003e backlinks -\u003e children -\u003e parents. tiktoken-rs cl100k_base. Unit test.","status":"closed","priority":2,"issue_type":"task","assignee":"garybasin","created_at":"2026-02-06T18:24:27.627857Z","created_by":"garybasin","updated_at":"2026-02-06T22:55:26.581102Z","closed_at":"2026-02-06T22:55:26.58077Z","close_reason":"Completed","dependencies":[{"issue_id":"scriptum-j96","depends_on_id":"scriptum-3cz","type":"blocks","created_at":"2026-02-06T18:26:06.494677Z","created_by":"garybasin","metadata":"{}"}]}
{"id":"scriptum-k3k","title":"CLI: setup claude command","description":"scriptum setup claude [--remove]. Install hooks into .claude/settings.json: SessionStart, PreCompact, PreToolUse, PostToolUse, Stop. Generate hook scripts. Unit test.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-02-06T18:24:29.653677Z","created_by":"garybasin","updated_at":"2026-02-06T21:48:55.589079Z","closed_at":"2026-02-06T21:48:55.589025Z","close_reason":"Implemented setup claude command with install/remove, hook script generation, settings.json merge, 11 tests. Also installed hooks at project level.","dependencies":[{"issue_id":"scriptum-k3k","depends_on_id":"scriptum-fmx","type":"blocks","created_at":"2026-02-06T18:26:09.161824Z","created_by":"garybasin","metadata":"{}"}]}
{"id":"scriptum-k7k","title":"Relay: WS protocol - hello/hello_ack","description":"Client sends session_token + optional resume_token. Server validates, sends hello_ack with server_time + resume_accepted. Handle invalid/expired tokens. Unit test.","status":"closed","priority":0,"issue_type":"task","created_at":"2026-02-06T18:24:28.069632Z","created_by":"garybasin","updated_at":"2026-02-06T19:38:21.895906Z","closed_at":"2026-02-06T19:38:21.895882Z","close_reason":"Completed","dependencies":[{"issue_id":"scriptum-k7k","depends_on_id":"scriptum-2qb","type":"blocks","created_at":"2026-02-06T18:26:07.089565Z","created_by":"garybasin","metadata":"{}"}]}
{"id":"scriptum-kzs","title":"Configure Biome for TS lint + format","description":"Add biome.json to root. Configure formatting (indent, quotes, semicolons), linting rules (recommended). Add scripts to root package.json: lint, format, check.","status":"closed","priority":0,"issue_type":"task","created_at":"2026-02-06T18:24:26.724686Z","created_by":"garybasin","updated_at":"2026-02-06T19:23:18.873987Z","closed_at":"2026-02-06T19:23:18.873813Z","close_reason":"Completed","dependencies":[{"issue_id":"scriptum-kzs","depends_on_id":"scriptum-3ot","type":"blocks","created_at":"2026-02-06T18:26:05.051177Z","created_by":"garybasin","metadata":"{}"}]}
{"id":"scriptum-l4t","title":"Git: AI commit message generation","description":"git/commit.rs. Call Claude Haiku with diff summary. System prompt: concise, imperative mood, max 72 chars first line. Respect redaction policy (disabled/redacted/full). Unit test.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-02-06T18:24:29.260225Z","created_by":"garybasin","updated_at":"2026-02-06T23:19:04.738517Z","closed_at":"2026-02-06T23:19:04.7383Z","close_reason":"Created git/commit.rs with AiCommitClient trait, RedactionPolicy (disabled/redacted/full), prompt builder, 72-char enforcement. 14 tests pass.","dependencies":[{"issue_id":"scriptum-l4t","depends_on_id":"scriptum-ybw","type":"blocks","created_at":"2026-02-06T18:26:08.653533Z","created_by":"garybasin","metadata":"{}"}]}
{"id":"scriptum-lp3","title":"Daemon: Agent session + recent edits persistence","description":"Agent state persistence in meta.db. CRUD for agent_sessions (session_id, agent_id, status). CRUD for agent_recent_edits (doc_id, agent_id, offsets, ts). Prune old entries. Unit test.","status":"closed","priority":1,"issue_type":"task","created_at":"2026-02-06T18:24:27.325673Z","created_by":"garybasin","updated_at":"2026-02-06T22:44:04.434706Z","closed_at":"2026-02-06T22:44:04.434332Z","close_reason":"Implemented SessionStore (create/get/list/update_status/touch/delete/prune) and EditStore (record/list_by_doc/list_by_agent/count_by_doc/delete_by_doc/prune). 16 tests pass.","dependencies":[{"issue_id":"scriptum-lp3","depends_on_id":"scriptum-1sx","type":"blocks","created_at":"2026-02-06T18:26:06.000231Z","created_by":"garybasin","metadata":"{}"}]}
{"id":"scriptum-mr0","title":"CI: Rust test workflow","description":"Create .github/workflows/test-rust.yml. Run cargo nextest across all crates. Cache cargo build artifacts. Trigger on push/PR.","status":"closed","priority":1,"issue_type":"task","created_at":"2026-02-06T18:24:26.833144Z","created_by":"garybasin","updated_at":"2026-02-06T19:29:19.498314Z","closed_at":"2026-02-06T19:29:19.498054Z","close_reason":"Completed","dependencies":[{"issue_id":"scriptum-mr0","depends_on_id":"scriptum-rr3","type":"blocks","created_at":"2026-02-06T18:26:05.207083Z","created_by":"garybasin","metadata":"{}"}]}
{"id":"scriptum-mv6","title":"Daemon: /rpc JSON-RPC endpoint over WebSocket","description":"Add /rpc endpoint to daemon local WS server. Implement JSON-RPC 2.0: parse requests, dispatch to handlers, return results. Support batch requests. Unit test: valid request/response, error handling.","status":"closed","priority":1,"issue_type":"task","assignee":"garybasin","created_at":"2026-02-06T18:24:26.995151Z","created_by":"garybasin","updated_at":"2026-02-06T23:05:51.651646Z","closed_at":"2026-02-06T23:05:51.651589Z","close_reason":"Completed","dependencies":[{"issue_id":"scriptum-mv6","depends_on_id":"scriptum-25w","type":"blocks","created_at":"2026-02-06T18:26:05.50908Z","created_by":"garybasin","metadata":"{}"}]}
{"id":"scriptum-nwj","title":"Daemon: Relay connection manager","description":"WebSocket client to relay. Connect, authenticate, subscribe to docs. Reconnection with exponential backoff. Send outbox updates. Receive remote updates, apply to local Y.Docs. Integration test.","status":"closed","priority":1,"issue_type":"task","created_at":"2026-02-06T18:24:27.453192Z","created_by":"garybasin","updated_at":"2026-02-06T21:07:38.479975Z","closed_at":"2026-02-06T21:07:38.47992Z","close_reason":"Implemented RelayConnectionManager with transport abstraction, session/auth handshake, subscribe/send/recv, reconnection backoff, and 22 passing tests","dependencies":[{"issue_id":"scriptum-nwj","depends_on_id":"scriptum-1bg","type":"blocks","created_at":"2026-02-06T18:26:06.198584Z","created_by":"garybasin","metadata":"{}"},{"issue_id":"scriptum-nwj","depends_on_id":"scriptum-25w","type":"blocks","created_at":"2026-02-06T18:26:06.226659Z","created_by":"garybasin","metadata":"{}"}]}
{"id":"scriptum-ojuc","title":"Ops: Alerting rules + runbooks","description":"Define alerting rules: availability drop (\u003c99.5% over 15m → page), sync error spike (\u003e1% over 10m → page), outbox growth (10x over 15m → page), latency breach (p95 exceeds target for 3h → ticket). Every paging alert must have an associated runbook before production. Per SPEC Alerting section.","status":"open","priority":3,"issue_type":"task","created_at":"2026-02-06T19:06:21.52745Z","created_by":"garybasin","updated_at":"2026-02-06T19:07:23.369784Z","dependencies":[{"issue_id":"scriptum-ojuc","depends_on_id":"scriptum-3vqt","type":"blocks","created_at":"2026-02-06T19:07:23.336815Z","created_by":"garybasin","metadata":"{}"},{"issue_id":"scriptum-ojuc","depends_on_id":"scriptum-x5lk","type":"blocks","created_at":"2026-02-06T19:07:23.369736Z","created_by":"garybasin","metadata":"{}"}]}
{"id":"scriptum-orm","title":"App: Auth flow - GitHub OAuth","description":"Web auth flow: redirect to GitHub, handle callback, store tokens, auto-refresh. Session persistence in localStorage. Protected routes. Unit test.","status":"closed","priority":1,"issue_type":"task","created_at":"2026-02-06T18:24:28.988193Z","created_by":"garybasin","updated_at":"2026-02-06T23:52:52.087069Z","closed_at":"2026-02-06T23:52:52.086701Z","close_reason":"Implemented GitHub OAuth auth flow: PKCE utilities, auth client, localStorage session persistence, Zustand auth store with login/callback/refresh/logout, RequireAuth guard component, auth-callback route handler, protected route wrapping. 33 new unit tests.","dependencies":[{"issue_id":"scriptum-orm","depends_on_id":"scriptum-2l8","type":"blocks","created_at":"2026-02-06T18:26:08.305372Z","created_by":"garybasin","metadata":"{}"}]}
{"id":"scriptum-p0f","title":"Relay: WS protocol - yjs_update + ack","description":"Bidirectional yjs_update. Client-\u003eserver: validate, apply to Y.Doc, assign server_seq, store in log, broadcast, send ack. Dedupe by (client_id, client_update_id). Unit test.","status":"closed","priority":0,"issue_type":"task","created_at":"2026-02-06T18:24:28.11465Z","created_by":"garybasin","updated_at":"2026-02-06T19:49:51.27341Z","closed_at":"2026-02-06T19:49:51.271575Z","close_reason":"Completed","dependencies":[{"issue_id":"scriptum-p0f","depends_on_id":"scriptum-2re","type":"blocks","created_at":"2026-02-06T18:26:07.152187Z","created_by":"garybasin","metadata":"{}"},{"issue_id":"scriptum-p0f","depends_on_id":"scriptum-3bk","type":"blocks","created_at":"2026-02-06T18:26:07.185587Z","created_by":"garybasin","metadata":"{}"}]}
{"id":"scriptum-pu5","title":"Search: Search panel UI","description":"Cmd+Shift+F opens search panel (replaces file tree temporarily). Full-text results: file name, matching line highlighted, context snippet. Click to open at match. Filters by tag, author, date. Unit test.","status":"open","priority":2,"issue_type":"task","created_at":"2026-02-06T18:24:30.291658Z","created_by":"garybasin","updated_at":"2026-02-06T18:26:10.021445Z","dependencies":[{"issue_id":"scriptum-pu5","depends_on_id":"scriptum-38b","type":"blocks","created_at":"2026-02-06T18:26:10.021401Z","created_by":"garybasin","metadata":"{}"}]}
{"id":"scriptum-qie","title":"Daemon: File watcher debounce logic","description":"Implement watcher/debounce.rs. 100ms debounce (configurable 50-500ms via workspace.toml). Coalesce multiple events on same path within window. Unit test: rapid events coalesce, timeout triggers.","status":"closed","priority":1,"issue_type":"task","created_at":"2026-02-06T18:24:27.0778Z","created_by":"garybasin","updated_at":"2026-02-06T21:11:02.240348Z","closed_at":"2026-02-06T21:11:02.239788Z","close_reason":"Implemented watcher/debounce.rs with DebounceConfig (50-500ms clamped), Debouncer with push/drain_ready/next_deadline, and 15 passing tests","dependencies":[{"issue_id":"scriptum-qie","depends_on_id":"scriptum-1rz","type":"blocks","created_at":"2026-02-06T18:26:05.628029Z","created_by":"garybasin","metadata":"{}"}]}
{"id":"scriptum-qjb7","title":"Comments: Threaded replies","description":"Threaded replies within comment popover. Show author, timestamp, body. Edit own comments. Unit test.","status":"closed","priority":2,"issue_type":"task","assignee":"garybasin","created_at":"2026-02-06T18:24:30.451472Z","created_by":"garybasin","updated_at":"2026-02-06T23:14:46.936956Z","closed_at":"2026-02-06T23:14:46.936933Z","close_reason":"Completed","dependencies":[{"issue_id":"scriptum-qjb7","depends_on_id":"scriptum-1yz8","type":"blocks","created_at":"2026-02-06T18:26:10.312907Z","created_by":"garybasin","metadata":"{}"}]}
{"id":"scriptum-qnd4","title":"Test: Compatibility testing (N and N-1 matrix)","description":"Client/server version compatibility matrix: test N and N-1 versions work together for REST, WS, and JSON-RPC protocols. Run per release. Per SPEC Testing Strategy table.","status":"open","priority":2,"issue_type":"task","created_at":"2026-02-06T19:06:21.42216Z","created_by":"garybasin","updated_at":"2026-02-06T19:07:23.240435Z","dependencies":[{"issue_id":"scriptum-qnd4","depends_on_id":"scriptum-3aig","type":"blocks","created_at":"2026-02-06T19:07:23.240392Z","created_by":"garybasin","metadata":"{}"}]}
{"id":"scriptum-rhu","title":"Configure Vitest for TS testing","description":"Add vitest as devDep. Create vitest workspace config or per-package configs for packages/editor, packages/web, packages/shared, packages/mcp-server. Add test scripts to turbo.json pipeline.","status":"closed","priority":0,"issue_type":"task","created_at":"2026-02-06T18:24:26.747476Z","created_by":"garybasin","updated_at":"2026-02-06T19:24:33.748154Z","closed_at":"2026-02-06T19:24:33.748111Z","close_reason":"Completed","dependencies":[{"issue_id":"scriptum-rhu","depends_on_id":"scriptum-3ot","type":"blocks","created_at":"2026-02-06T18:26:05.081084Z","created_by":"garybasin","metadata":"{}"}]}
{"id":"scriptum-rr3","title":"Configure Rust tooling (clippy, rustfmt, nextest)","description":"Add rustfmt.toml, clippy.toml. Configure cargo-nextest. Add cargo-deny.toml for license/vuln auditing. Verify clippy and fmt pass on scaffold code.","status":"closed","priority":0,"issue_type":"task","created_at":"2026-02-06T18:24:26.770679Z","created_by":"garybasin","updated_at":"2026-02-06T19:27:52.061956Z","closed_at":"2026-02-06T19:27:52.061683Z","close_reason":"Completed","dependencies":[{"issue_id":"scriptum-rr3","depends_on_id":"scriptum-3sk","type":"blocks","created_at":"2026-02-06T18:26:05.109953Z","created_by":"garybasin","metadata":"{}"}]}
{"id":"scriptum-srq","title":"Relay: WS protocol - resume token","description":"Issue resume_token on hello_ack (TTL 10min, single-use, bound to session+workspace+client+device). Reconnect: validate, skip auth, replay from last_server_seq. Unit test.","status":"in_progress","priority":2,"issue_type":"task","assignee":"garybasin","created_at":"2026-02-06T18:24:28.182956Z","created_by":"garybasin","updated_at":"2026-02-07T00:12:50.340575Z","dependencies":[{"issue_id":"scriptum-srq","depends_on_id":"scriptum-k7k","type":"blocks","created_at":"2026-02-06T18:26:07.281078Z","created_by":"garybasin","metadata":"{}"}]}
{"id":"scriptum-tmro","title":"Test: Integration - relay + WebSocket","description":"Integration test: start relay with test DB, create session, connect WS, subscribe to doc, send update, verify ack + broadcast to other subscriber.","status":"closed","priority":1,"issue_type":"task","assignee":"garybasin","created_at":"2026-02-06T18:24:30.830322Z","created_by":"garybasin","updated_at":"2026-02-06T22:43:01.022811Z","closed_at":"2026-02-06T22:43:01.022594Z","close_reason":"Completed","dependencies":[{"issue_id":"scriptum-tmro","depends_on_id":"scriptum-p0f","type":"blocks","created_at":"2026-02-06T18:26:10.690284Z","created_by":"garybasin","metadata":"{}"}]}
{"id":"scriptum-toe","title":"Editor: Slash command system","description":"CM6 autocomplete-based slash commands: /table, /code, /image, /callout. Type / to trigger. Insert appropriate markdown template. Unit test.","status":"closed","priority":2,"issue_type":"task","assignee":"garybasin","created_at":"2026-02-06T18:24:28.677231Z","created_by":"garybasin","updated_at":"2026-02-07T00:20:41.555208Z","closed_at":"2026-02-07T00:20:41.554741Z","close_reason":"Completed","dependencies":[{"issue_id":"scriptum-toe","depends_on_id":"scriptum-1v2","type":"blocks","created_at":"2026-02-06T18:26:07.892925Z","created_by":"garybasin","metadata":"{}"}]}
{"id":"scriptum-txg","title":"Init packages/shared with TS types","description":"Create packages/shared/package.json + tsconfig.json. Define shared TypeScript types: Workspace, Document, Section, CommentThread, CommentMessage, ShareLink, SyncSession, Agent. Stub api/ and protocol/.","status":"closed","priority":0,"issue_type":"task","created_at":"2026-02-06T18:24:26.683945Z","created_by":"garybasin","updated_at":"2026-02-06T19:15:50.482222Z","closed_at":"2026-02-06T19:15:50.482135Z","close_reason":"Completed","dependencies":[{"issue_id":"scriptum-txg","depends_on_id":"scriptum-3ot","type":"blocks","created_at":"2026-02-06T18:26:04.893105Z","created_by":"garybasin","metadata":"{}"}]}
{"id":"scriptum-ub0","title":"Relay: WS protocol - heartbeat + disconnect","description":"Ping/pong every 15s. Disconnect if no pong in 10s. Clean up subscriptions + awareness on disconnect. Unit test.","status":"closed","priority":1,"issue_type":"task","created_at":"2026-02-06T18:24:28.160069Z","created_by":"garybasin","updated_at":"2026-02-06T21:53:03.223883Z","closed_at":"2026-02-06T21:53:03.223821Z","close_reason":"Implemented server-side heartbeat (15s ping, 10s timeout) and disconnect cleanup in ws/mod.rs. All 31 WS tests pass.","dependencies":[{"issue_id":"scriptum-ub0","depends_on_id":"scriptum-k7k","type":"blocks","created_at":"2026-02-06T18:26:07.248788Z","created_by":"garybasin","metadata":"{}"}]}
{"id":"scriptum-vgc","title":"Daemon: WAL persistence (production)","description":"Production WAL in store/wal.rs. Format: [length:u32][checksum:u32][yjs_update:bytes]*. Append atomically, fsync before ack. Handle corrupted entries. Per-doc WAL files. Unit test: write, read, corruption recovery.","status":"closed","priority":0,"issue_type":"task","created_at":"2026-02-06T18:24:27.345946Z","created_by":"garybasin","updated_at":"2026-02-06T19:54:57.600953Z","closed_at":"2026-02-06T19:54:57.600611Z","close_reason":"Completed","dependencies":[{"issue_id":"scriptum-vgc","depends_on_id":"scriptum-2f1","type":"blocks","created_at":"2026-02-06T18:26:06.027917Z","created_by":"garybasin","metadata":"{}"}]}
{"id":"scriptum-vqd","title":"Editor: Reconciliation inline UI","description":"When trigger fires, show both versions inline separated by divider with author attribution. Keep A / Keep B / Keep Both buttons. Resolution replaces inline UI with chosen version. Unit test.","status":"in_progress","priority":2,"issue_type":"task","assignee":"garybasin","created_at":"2026-02-06T18:24:28.723518Z","created_by":"garybasin","updated_at":"2026-02-07T00:20:10.017873Z","dependencies":[{"issue_id":"scriptum-vqd","depends_on_id":"scriptum-3mm","type":"blocks","created_at":"2026-02-06T18:26:07.956276Z","created_by":"garybasin","metadata":"{}"}]}
{"id":"scriptum-wxxx","title":"Sync: WebRTC P2P optimization (y-webrtc)","description":"y-webrtc provider for direct peer-to-peer sync as latency optimization. WebRTC data channels for lower latency than relay. Signaling server for initial handshake. Relay ALWAYS receives updates regardless. Per SPEC sync topology section.","notes":"Blocked in this session: implementing y-webrtc requires JS dependency/lockfile changes while pnpm-lock is being concurrently modified. Deferring until lockfile churn settles or dependency approach is finalized.","status":"closed","priority":3,"issue_type":"task","assignee":"garybasin","created_at":"2026-02-06T19:06:21.454967Z","created_by":"garybasin","updated_at":"2026-02-06T23:55:02.942206Z","closed_at":"2026-02-06T23:55:02.942185Z","close_reason":"Completed","dependencies":[{"issue_id":"scriptum-wxxx","depends_on_id":"scriptum-nwj","type":"blocks","created_at":"2026-02-06T19:07:23.272357Z","created_by":"garybasin","metadata":"{}"}]}
{"id":"scriptum-x5lk","title":"Ops: Structured JSON logging","description":"Structured JSON logs for relay. Fields: request_id, workspace_id, actor hash, endpoint, error code, latency. No raw PII. Configure tracing-subscriber. Unit test.","status":"in_progress","priority":2,"issue_type":"task","assignee":"garybasin","created_at":"2026-02-06T18:24:31.130458Z","created_by":"garybasin","updated_at":"2026-02-06T23:53:31.745672Z","dependencies":[{"issue_id":"scriptum-x5lk","depends_on_id":"scriptum-3r3","type":"blocks","created_at":"2026-02-06T19:05:24.471063Z","created_by":"garybasin","metadata":"{}"}]}
{"id":"scriptum-x9ns","title":"CLI: peek command","description":"scriptum peek doc.md --section '## Auth': Quick read of section content without registering edit intent in the daemon. Unlike 'read', does not update agent active_sections state. Per SPEC CLI file tree (peek.rs) and command reference.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-02-06T19:05:47.840254Z","created_by":"garybasin","updated_at":"2026-02-06T22:25:51.424439Z","closed_at":"2026-02-06T22:25:51.424418Z","close_reason":"Implemented peek.rs with passive read (no intent registration), section/full-doc modes, and unit tests (4 tests)","dependencies":[{"issue_id":"scriptum-x9ns","depends_on_id":"scriptum-9k0","type":"blocks","created_at":"2026-02-06T19:07:07.387268Z","created_by":"garybasin","metadata":"{}"}]}
{"id":"scriptum-ybw","title":"Git: Shell out to git CLI wrapper","description":"git/worker.rs. Wrapper around git CLI: status, add, commit, push, pull --rebase. Use existing user auth (SSH keys, credential helpers, gh auth). Error handling. Unit test.","status":"closed","priority":1,"issue_type":"task","created_at":"2026-02-06T18:24:29.163161Z","created_by":"garybasin","updated_at":"2026-02-06T19:22:42.708199Z","closed_at":"2026-02-06T19:22:42.708177Z","close_reason":"Completed","dependencies":[{"issue_id":"scriptum-ybw","depends_on_id":"scriptum-in6","type":"blocks","created_at":"2026-02-06T18:26:08.482597Z","created_by":"garybasin","metadata":"{}"}]}
{"id":"scriptum-zi69","title":"Test: ARIA structural snapshot tests","description":"Playwright toMatchAriaSnapshot() for every view. Produces stable YAML artifact that agents can reason about textually (no image inspection needed). Enforces accessibility correctness. Covers all major views: editor, sidebar, tab bar, status bar, command palette, comments, search panel. Per SPEC UI Testing section.","status":"closed","priority":1,"issue_type":"task","created_at":"2026-02-06T19:06:53.826213Z","created_by":"garybasin","updated_at":"2026-02-06T23:34:15.160468Z","closed_at":"2026-02-06T23:34:15.15993Z","close_reason":"Created aria-snapshots.spec.mts with 15 component-level toMatchAriaSnapshot() tests covering editor area, sidebar, tab bar, status bar (4 sync states), presence/avatars, comments, offline banner, settings, auth callback. Tests list cleanly.","dependencies":[{"issue_id":"scriptum-zi69","depends_on_id":"scriptum-38l","type":"blocks","created_at":"2026-02-06T19:07:34.000097Z","created_by":"garybasin","metadata":"{}"},{"issue_id":"scriptum-zi69","depends_on_id":"scriptum-3ih","type":"blocks","created_at":"2026-02-06T19:07:34.033215Z","created_by":"garybasin","metadata":"{}"}]}
{"id":"scriptum-zkf","title":"Git: Redaction policy enforcement","description":"Before sending diff to Claude API, apply redaction policy. Strip API keys, secrets, credentials patterns. Modes: disabled (no AI), redacted (sanitized), full. Unit test.","status":"open","priority":2,"issue_type":"task","created_at":"2026-02-06T18:24:29.333244Z","created_by":"garybasin","updated_at":"2026-02-06T18:26:08.772547Z","dependencies":[{"issue_id":"scriptum-zkf","depends_on_id":"scriptum-l4t","type":"blocks","created_at":"2026-02-06T18:26:08.77251Z","created_by":"garybasin","metadata":"{}"}]}
