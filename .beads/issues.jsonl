{"id":"scriptum-10d","title":"CLI: claim + bundle commands","description":"scriptum claim: advisory section lease. scriptum bundle: context bundle with token budget for agents. Both delegate to daemon RPC. Unit test.","status":"open","priority":2,"issue_type":"task","created_at":"2026-02-06T18:24:29.604339Z","created_by":"garybasin","updated_at":"2026-02-06T18:26:09.102926Z","dependencies":[{"issue_id":"scriptum-10d","depends_on_id":"scriptum-9k0","type":"blocks","created_at":"2026-02-06T18:26:09.102888Z","created_by":"garybasin","metadata":"{}"}]}
{"id":"scriptum-10k","title":"History: Timeline slider UI","description":"Horizontal timeline slider at bottom of editor. Drag to scrub through history. Document updates in real-time as you scrub. Unit test.","status":"open","priority":3,"issue_type":"task","created_at":"2026-02-06T18:24:30.137754Z","created_by":"garybasin","updated_at":"2026-02-06T18:26:09.836372Z","dependencies":[{"issue_id":"scriptum-10k","depends_on_id":"scriptum-ibr","type":"blocks","created_at":"2026-02-06T18:26:09.836327Z","created_by":"garybasin","metadata":"{}"}]}
{"id":"scriptum-12b","title":"Daemon: Path canonicalization and safety","description":"Implement common/path/normalize.rs. Canonicalize all paths: reject traversal (../), reject symlink escape, normalize separators to /, Unicode NFKC, max 512 chars. Unit test: malicious paths rejected, valid paths normalized.","status":"open","priority":0,"issue_type":"task","created_at":"2026-02-06T18:24:27.179109Z","created_by":"garybasin","updated_at":"2026-02-06T18:24:27.179109Z"}
{"id":"scriptum-12r","title":"Editor: Live preview - links and images","description":"Render inline links as clickable, images as previews on unfocused lines. Handle autolinks. Raw markdown on active line. Unit test.","status":"open","priority":1,"issue_type":"task","created_at":"2026-02-06T18:24:28.436586Z","created_by":"garybasin","updated_at":"2026-02-06T18:26:07.590792Z","dependencies":[{"issue_id":"scriptum-12r","depends_on_id":"scriptum-1v2","type":"blocks","created_at":"2026-02-06T18:26:07.590757Z","created_by":"garybasin","metadata":"{}"}]}
{"id":"scriptum-12s","title":"MCP: Server scaffold (stdio transport)","description":"packages/mcp-server scaffold. Set up MCP server with stdio transport. Register tool and resource handlers. Agent name from client config (fallback: mcp-agent). Unit test.","status":"open","priority":2,"issue_type":"task","created_at":"2026-02-06T18:24:29.826436Z","created_by":"garybasin","updated_at":"2026-02-06T18:26:09.473666Z","dependencies":[{"issue_id":"scriptum-12s","depends_on_id":"scriptum-2bq","type":"blocks","created_at":"2026-02-06T18:26:09.473614Z","created_by":"garybasin","metadata":"{}"}]}
{"id":"scriptum-136","title":"Daemon: File watcher SHA-256 hash tracking","description":"Implement watcher/hash.rs. Compute SHA-256 of file content. Store last-known hash per doc in meta.db. Skip if hash unchanged (no-op save detection). Unit test.","status":"open","priority":1,"issue_type":"task","created_at":"2026-02-06T18:24:27.097333Z","created_by":"garybasin","updated_at":"2026-02-06T18:26:05.656199Z","dependencies":[{"issue_id":"scriptum-136","depends_on_id":"scriptum-1rz","type":"blocks","created_at":"2026-02-06T18:26:05.656169Z","created_by":"garybasin","metadata":"{}"}]}
{"id":"scriptum-13e","title":"Relay: WS protocol - awareness_update","description":"Bidirectional awareness messages. Aggregate awareness from all peers (cursors, presence, names). Forward changes to doc subscribers. Unit test.","status":"open","priority":1,"issue_type":"task","created_at":"2026-02-06T18:24:28.137428Z","created_by":"garybasin","updated_at":"2026-02-06T18:26:07.217604Z","dependencies":[{"issue_id":"scriptum-13e","depends_on_id":"scriptum-k7k","type":"blocks","created_at":"2026-02-06T18:26:07.217569Z","created_by":"garybasin","metadata":"{}"}]}
{"id":"scriptum-14tz","title":"Test: Property-based diff-to-Yjs","description":"Randomized: generate random file edits, run diff-to-Yjs, verify CRDT state matches expected content. Edge cases: simultaneous edits, rapid saves, large diffs. Run nightly.","status":"open","priority":2,"issue_type":"task","created_at":"2026-02-06T18:24:30.774614Z","created_by":"garybasin","updated_at":"2026-02-06T18:26:10.624887Z","dependencies":[{"issue_id":"scriptum-14tz","depends_on_id":"scriptum-3mu","type":"blocks","created_at":"2026-02-06T18:26:10.624844Z","created_by":"garybasin","metadata":"{}"}]}
{"id":"scriptum-14xd","title":"Permissions: RBAC enforcement middleware","description":"Enforce owner/editor/viewer roles on every REST route + WebSocket subscribe. Check workspace_members table. 403 for insufficient role. Unit test.","status":"open","priority":1,"issue_type":"task","created_at":"2026-02-06T18:24:30.502708Z","created_by":"garybasin","updated_at":"2026-02-06T18:26:10.376288Z","dependencies":[{"issue_id":"scriptum-14xd","depends_on_id":"scriptum-37k","type":"blocks","created_at":"2026-02-06T18:26:10.376245Z","created_by":"garybasin","metadata":"{}"}]}
{"id":"scriptum-159l","title":"Ops: Docker containerization for relay","description":"Dockerfile for relay server. Multi-stage build (Rust compile + minimal runtime). Health check endpoint. Environment variable config. Docker compose for local dev (relay + PostgreSQL).","status":"open","priority":2,"issue_type":"task","created_at":"2026-02-06T18:24:31.075042Z","created_by":"garybasin","updated_at":"2026-02-06T18:24:31.075042Z"}
{"id":"scriptum-15c","title":"App: Tab bar + breadcrumb navigation","description":"Obsidian-style tab bar for open documents. Close button, switch on click. Breadcrumb below showing path. Unit test.","status":"open","priority":1,"issue_type":"task","created_at":"2026-02-06T18:24:28.868286Z","created_by":"garybasin","updated_at":"2026-02-06T18:26:08.142086Z","dependencies":[{"issue_id":"scriptum-15c","depends_on_id":"scriptum-2l8","type":"blocks","created_at":"2026-02-06T18:26:08.142045Z","created_by":"garybasin","metadata":"{}"}]}
{"id":"scriptum-15v","title":"Editor: Live preview - emphasis rendering","description":"Render bold, italic, strikethrough on unfocused lines. Handle nested emphasis. Raw markdown on active line. Unit test.","status":"open","priority":1,"issue_type":"task","created_at":"2026-02-06T18:24:28.411108Z","created_by":"garybasin","updated_at":"2026-02-06T18:26:07.560576Z","dependencies":[{"issue_id":"scriptum-15v","depends_on_id":"scriptum-1v2","type":"blocks","created_at":"2026-02-06T18:26:07.560538Z","created_by":"garybasin","metadata":"{}"}]}
{"id":"scriptum-162","title":"Daemon: JSON-RPC agent methods","description":"agent.whoami (agent_id + capabilities), agent.status (active sessions), agent.conflicts (overlaps), agent.list (all agents), agent.claim (advisory lease). Unit test each.","status":"open","priority":1,"issue_type":"task","created_at":"2026-02-06T18:24:27.60514Z","created_by":"garybasin","updated_at":"2026-02-06T18:26:06.464643Z","dependencies":[{"issue_id":"scriptum-162","depends_on_id":"scriptum-lp3","type":"blocks","created_at":"2026-02-06T18:26:06.433395Z","created_by":"garybasin","metadata":"{}"},{"issue_id":"scriptum-162","depends_on_id":"scriptum-4u6","type":"blocks","created_at":"2026-02-06T18:26:06.464609Z","created_by":"garybasin","metadata":"{}"}]}
{"id":"scriptum-170","title":"Git: Deterministic fallback commit messages","description":"When AI unavailable: structured fallback 'Update N file(s): paths'. Format consistently. Unit test.","status":"open","priority":2,"issue_type":"task","created_at":"2026-02-06T18:24:29.284308Z","created_by":"garybasin","updated_at":"2026-02-06T18:26:08.706097Z","dependencies":[{"issue_id":"scriptum-170","depends_on_id":"scriptum-ybw","type":"blocks","created_at":"2026-02-06T18:26:08.706051Z","created_by":"garybasin","metadata":"{}"}]}
{"id":"scriptum-18g","title":"Relay: CORS configuration","description":"CORS middleware. Allow web app origins. Allow credentials. Set appropriate headers. Unit test preflight.","status":"open","priority":1,"issue_type":"task","created_at":"2026-02-06T18:24:27.782552Z","created_by":"garybasin","updated_at":"2026-02-06T18:26:06.684083Z","dependencies":[{"issue_id":"scriptum-18g","depends_on_id":"scriptum-3t7","type":"blocks","created_at":"2026-02-06T18:26:06.684048Z","created_by":"garybasin","metadata":"{}"}]}
{"id":"scriptum-1a0","title":"CLI: edit command","description":"scriptum edit doc.md --section '## Auth' --content '...' [--file content.md] --agent name --summary '...'. Replace section body (heading preserved). Support --file for complex content. Unit test.","status":"open","priority":1,"issue_type":"task","created_at":"2026-02-06T18:24:29.486922Z","created_by":"garybasin","updated_at":"2026-02-06T18:26:08.983484Z","dependencies":[{"issue_id":"scriptum-1a0","depends_on_id":"scriptum-9k0","type":"blocks","created_at":"2026-02-06T18:26:08.983446Z","created_by":"garybasin","metadata":"{}"}]}
{"id":"scriptum-1a5","title":"Relay: Error envelope + structured errors","description":"Error types matching error code registry. Envelope: {error: {code, message, retryable, request_id, details}}. Map to HTTP status codes. Wire into Axum. Unit test.","status":"open","priority":1,"issue_type":"task","created_at":"2026-02-06T18:24:27.716542Z","created_by":"garybasin","updated_at":"2026-02-06T18:26:06.590256Z","dependencies":[{"issue_id":"scriptum-1a5","depends_on_id":"scriptum-3t7","type":"blocks","created_at":"2026-02-06T18:26:06.590208Z","created_by":"garybasin","metadata":"{}"}]}
{"id":"scriptum-1bg","title":"Daemon: Outbox queue","description":"Implement outbox/queue.rs. Queue updates for relay. Exponential backoff 250ms..30s, max 8 attempts. Bounds: 10k updates or 1GiB -\u003e OUTBOX_BACKPRESSURE. States: pending/sent/acked/dead. Unit test.","status":"open","priority":1,"issue_type":"task","created_at":"2026-02-06T18:24:27.432149Z","created_by":"garybasin","updated_at":"2026-02-06T18:26:06.170366Z","dependencies":[{"issue_id":"scriptum-1bg","depends_on_id":"scriptum-1sx","type":"blocks","created_at":"2026-02-06T18:26:06.170333Z","created_by":"garybasin","metadata":"{}"}]}
{"id":"scriptum-1cg","title":"Relay: Awareness aggregation","description":"awareness/mod.rs. Aggregate awareness from all peers per doc: cursors, selections, names, types, lease states. API for who's-where queries. Unit test.","status":"open","priority":1,"issue_type":"task","created_at":"2026-02-06T18:24:28.306531Z","created_by":"garybasin","updated_at":"2026-02-06T18:26:07.432164Z","dependencies":[{"issue_id":"scriptum-1cg","depends_on_id":"scriptum-13e","type":"blocks","created_at":"2026-02-06T18:26:07.43213Z","created_by":"garybasin","metadata":"{}"}]}
{"id":"scriptum-1ch","title":"Spike: CodeMirror connects to daemon WS","description":"In packages/editor, set up minimal CM6 editor with y-codemirror.next binding to y-websocket provider pointing at ws://localhost:{port}/yjs. Verify CM produces Yjs ops sent to daemon and remote updates appear. Create test page in packages/web.","status":"open","priority":0,"issue_type":"task","created_at":"2026-02-06T18:24:26.914642Z","created_by":"garybasin","updated_at":"2026-02-06T18:26:05.36616Z","dependencies":[{"issue_id":"scriptum-1ch","depends_on_id":"scriptum-3g2","type":"blocks","created_at":"2026-02-06T18:26:05.337473Z","created_by":"garybasin","metadata":"{}"},{"issue_id":"scriptum-1ch","depends_on_id":"scriptum-25w","type":"blocks","created_at":"2026-02-06T18:26:05.366043Z","created_by":"garybasin","metadata":"{}"}]}
{"id":"scriptum-1cpi","title":"Share: Share link redeem + rate limiting","description":"Redeem endpoint validates token hash, password, max_uses, expiry. Rate limit to prevent brute-force. Grant temporary access. Unit test.","status":"open","priority":2,"issue_type":"task","created_at":"2026-02-06T18:24:30.584668Z","created_by":"garybasin","updated_at":"2026-02-06T18:26:10.468812Z","dependencies":[{"issue_id":"scriptum-1cpi","depends_on_id":"scriptum-1sie","type":"blocks","created_at":"2026-02-06T18:26:10.468768Z","created_by":"garybasin","metadata":"{}"}]}
{"id":"scriptum-1e1","title":"Editor: Live preview - code blocks","description":"Render fenced code blocks with syntax highlighting on unfocused lines. Language detection. Raw markdown on active line. Unit test.","status":"open","priority":1,"issue_type":"task","created_at":"2026-02-06T18:24:28.460242Z","created_by":"garybasin","updated_at":"2026-02-06T18:26:07.620941Z","dependencies":[{"issue_id":"scriptum-1e1","depends_on_id":"scriptum-1v2","type":"blocks","created_at":"2026-02-06T18:26:07.620505Z","created_by":"garybasin","metadata":"{}"}]}
{"id":"scriptum-1etq","title":"Test: Integration - git worker E2E","description":"Integration test: daemon with git repo, make edits, trigger commit, verify git log has AI message + co-author trailers. Test push with mock remote.","status":"open","priority":2,"issue_type":"task","created_at":"2026-02-06T18:24:30.858232Z","created_by":"garybasin","updated_at":"2026-02-06T18:26:10.722442Z","dependencies":[{"issue_id":"scriptum-1etq","depends_on_id":"scriptum-ybw","type":"blocks","created_at":"2026-02-06T18:26:10.722394Z","created_by":"garybasin","metadata":"{}"}]}
{"id":"scriptum-1ew","title":"Relay: PostgreSQL connection pool","description":"Set up sqlx PgPool. Configure pool (min/max connections, timeout). Pool health check. db/pool.rs. Integration test.","status":"open","priority":0,"issue_type":"task","created_at":"2026-02-06T18:24:27.673066Z","created_by":"garybasin","updated_at":"2026-02-06T18:26:06.52825Z","dependencies":[{"issue_id":"scriptum-1ew","depends_on_id":"scriptum-3t7","type":"blocks","created_at":"2026-02-06T18:26:06.528217Z","created_by":"garybasin","metadata":"{}"}]}
{"id":"scriptum-1g5","title":"Init crates/cli scaffold","description":"Create crates/cli/Cargo.toml with deps (clap, tokio, serde_json). Create src/main.rs with clap CLI scaffold. Stub all subcommands: read, edit, tree, sections, search, diff, ls, blame, claim, bundle, whoami, status, conflicts, agents, setup, peek.","status":"open","priority":0,"issue_type":"task","created_at":"2026-02-06T18:24:26.603221Z","created_by":"garybasin","updated_at":"2026-02-06T18:26:04.706919Z","dependencies":[{"issue_id":"scriptum-1g5","depends_on_id":"scriptum-3sk","type":"blocks","created_at":"2026-02-06T18:26:04.602903Z","created_by":"garybasin","metadata":"{}"},{"issue_id":"scriptum-1g5","depends_on_id":"scriptum-3l9","type":"blocks","created_at":"2026-02-06T18:26:04.706882Z","created_by":"garybasin","metadata":"{}"}]}
{"id":"scriptum-1i2","title":"History: Author-colored highlights","description":"During history scrub, text colored by who wrote it (collaboration cursor colors). Per-character attribution from CRDT origin tags. Unit test.","status":"open","priority":3,"issue_type":"task","created_at":"2026-02-06T18:24:30.163271Z","created_by":"garybasin","updated_at":"2026-02-06T18:26:09.870962Z","dependencies":[{"issue_id":"scriptum-1i2","depends_on_id":"scriptum-ibr","type":"blocks","created_at":"2026-02-06T18:26:09.870916Z","created_by":"garybasin","metadata":"{}"}]}
{"id":"scriptum-1i7i","title":"Test: Integration - daemon + file watcher","description":"Integration test: start daemon, create workspace, write .md file, verify CRDT updated, edit via RPC, verify file updated. Full bidirectional pipeline.","status":"open","priority":1,"issue_type":"task","created_at":"2026-02-06T18:24:30.802398Z","created_by":"garybasin","updated_at":"2026-02-06T18:26:10.659248Z","dependencies":[{"issue_id":"scriptum-1i7i","depends_on_id":"scriptum-ako","type":"blocks","created_at":"2026-02-06T18:26:10.659189Z","created_by":"garybasin","metadata":"{}"}]}
{"id":"scriptum-1j4","title":"CLI: Exit codes","description":"Consistent exit codes: 0=success, 1=error, 2=usage, 10=daemon down, 11=auth, 12=conflict/overlap, 13=network. Map RPC errors to exit codes. Unit test.","status":"open","priority":1,"issue_type":"task","created_at":"2026-02-06T18:24:29.438203Z","created_by":"garybasin","updated_at":"2026-02-06T18:26:08.922865Z","dependencies":[{"issue_id":"scriptum-1j4","depends_on_id":"scriptum-fmx","type":"blocks","created_at":"2026-02-06T18:26:08.922829Z","created_by":"garybasin","metadata":"{}"}]}
{"id":"scriptum-1k2","title":"Daemon: Section parser with pulldown-cmark","description":"Implement common/section/parser.rs. Parse markdown into section tree using pulldown-cmark. Only ATX headings are boundaries. Ignore headings in code blocks/HTML. Build parent-child tree. Unit test.","status":"open","priority":1,"issue_type":"task","created_at":"2026-02-06T18:24:27.199714Z","created_by":"garybasin","updated_at":"2026-02-06T18:26:05.828058Z","dependencies":[{"issue_id":"scriptum-1k2","depends_on_id":"scriptum-3l9","type":"blocks","created_at":"2026-02-06T18:26:05.828027Z","created_by":"garybasin","metadata":"{}"}]}
{"id":"scriptum-1k3","title":"App: Sidebar - document tree","description":"Folder tree with expand/collapse. Show files with icons. Indicate active document. Sort by name. Right-click context menu: Rename, Move, Delete, Add Tag. Unit test.","status":"open","priority":1,"issue_type":"task","created_at":"2026-02-06T18:24:28.793308Z","created_by":"garybasin","updated_at":"2026-02-06T18:26:08.048942Z","dependencies":[{"issue_id":"scriptum-1k3","depends_on_id":"scriptum-2l8","type":"blocks","created_at":"2026-02-06T18:26:08.048904Z","created_by":"garybasin","metadata":"{}"}]}
{"id":"scriptum-1k7","title":"App: Sidebar - tags section","description":"Tags section in sidebar showing workspace tags as chips. Click to filter document tree by tag. Unit test.","status":"open","priority":2,"issue_type":"task","created_at":"2026-02-06T18:24:28.822053Z","created_by":"garybasin","updated_at":"2026-02-06T18:26:08.080512Z","dependencies":[{"issue_id":"scriptum-1k7","depends_on_id":"scriptum-2l8","type":"blocks","created_at":"2026-02-06T18:26:08.080474Z","created_by":"garybasin","metadata":"{}"}]}
{"id":"scriptum-1m1","title":"Editor: Live preview - math (KaTeX) + diagrams","description":"Render LaTeX math via KaTeX and Mermaid diagrams on unfocused lines. Handle inline and block math. Unit test.","status":"open","priority":2,"issue_type":"task","created_at":"2026-02-06T18:24:28.529588Z","created_by":"garybasin","updated_at":"2026-02-06T18:26:07.718165Z","dependencies":[{"issue_id":"scriptum-1m1","depends_on_id":"scriptum-1v2","type":"blocks","created_at":"2026-02-06T18:26:07.718129Z","created_by":"garybasin","metadata":"{}"}]}
{"id":"scriptum-1m5","title":"App: Sidebar - agents section","description":"Active agents section in sidebar. Show agent name, status (active/idle), and which doc they're editing. Unit test.","status":"open","priority":2,"issue_type":"task","created_at":"2026-02-06T18:24:28.844603Z","created_by":"garybasin","updated_at":"2026-02-06T18:26:08.112745Z","dependencies":[{"issue_id":"scriptum-1m5","depends_on_id":"scriptum-2l8","type":"blocks","created_at":"2026-02-06T18:26:08.11271Z","created_by":"garybasin","metadata":"{}"}]}
{"id":"scriptum-1mi","title":"Agent: Claude Code hooks - SessionStart + PreCompact","description":"SessionStart: inject workspace status + CLI reference + agent state. PreCompact: preserve Scriptum context for post-compaction. Generate hook scripts. Unit test.","status":"open","priority":2,"issue_type":"task","created_at":"2026-02-06T18:24:30.010589Z","created_by":"garybasin","updated_at":"2026-02-06T18:26:09.686949Z","dependencies":[{"issue_id":"scriptum-1mi","depends_on_id":"scriptum-k3k","type":"blocks","created_at":"2026-02-06T18:26:09.686902Z","created_by":"garybasin","metadata":"{}"}]}
{"id":"scriptum-1muc","title":"Test: Contract tests","description":"Verify REST responses match OpenAPI spec. WS frame schemas match protocol definition. JSON-RPC method signatures match contract. MCP tools match daemon RPC. Run on every PR.","status":"open","priority":2,"issue_type":"task","created_at":"2026-02-06T18:24:30.884632Z","created_by":"garybasin","updated_at":"2026-02-06T18:24:30.884632Z"}
{"id":"scriptum-1mw","title":"Daemon: JSON-RPC doc.search","description":"doc.search: params workspace_id, q, limit, cursor. Search across workspace documents using FTS. Return doc_id, path, title, snippet, score. Unit test.","status":"open","priority":2,"issue_type":"task","created_at":"2026-02-06T18:24:27.561443Z","created_by":"garybasin","updated_at":"2026-02-06T18:24:27.561443Z"}
{"id":"scriptum-1mwt","title":"Test: Golden file test runner","description":"tests/golden/runner.rs. Load golden test cases (input markdown pairs), run diff-to-Yjs conversion, compare output against expected. Fail on mismatch with detailed diff. Runs on every commit.","status":"open","priority":1,"issue_type":"task","created_at":"2026-02-06T18:24:30.693851Z","created_by":"garybasin","updated_at":"2026-02-06T18:26:10.529765Z","dependencies":[{"issue_id":"scriptum-1mwt","depends_on_id":"scriptum-3mu","type":"blocks","created_at":"2026-02-06T18:26:10.529723Z","created_by":"garybasin","metadata":"{}"}]}
{"id":"scriptum-1nq","title":"Agent: E2E agent flow testing","description":"End-to-end test: Claude Code + MCP -\u003e daemon -\u003e CRDT -\u003e file -\u003e git. Verify full lifecycle: edit via MCP, see in editor, commit to git with attribution. Integration test.","status":"open","priority":2,"issue_type":"task","created_at":"2026-02-06T18:24:30.088612Z","created_by":"garybasin","updated_at":"2026-02-06T18:26:09.77682Z","dependencies":[{"issue_id":"scriptum-1nq","depends_on_id":"scriptum-2ma","type":"blocks","created_at":"2026-02-06T18:26:09.776775Z","created_by":"garybasin","metadata":"{}"}]}
{"id":"scriptum-1o2","title":"Agent: Attribution UI","description":"Name badges in editor for agent vs human. Per-section 'last edited by' indicator. Contribution breakdown per editor. Wire into presence + section awareness data. Unit test.","status":"open","priority":3,"issue_type":"task","created_at":"2026-02-06T18:24:30.062895Z","created_by":"garybasin","updated_at":"2026-02-06T18:26:09.746703Z","dependencies":[{"issue_id":"scriptum-1o2","depends_on_id":"scriptum-252","type":"blocks","created_at":"2026-02-06T18:26:09.746658Z","created_by":"garybasin","metadata":"{}"}]}
{"id":"scriptum-1og2","title":"Test: Property-based CRDT convergence","description":"Randomized property tests: generate random sequences of concurrent edits from multiple clients, verify all clients converge to same state. 10k-op scenarios. Run nightly.","status":"open","priority":2,"issue_type":"task","created_at":"2026-02-06T18:24:30.747774Z","created_by":"garybasin","updated_at":"2026-02-06T18:26:10.592258Z","dependencies":[{"issue_id":"scriptum-1og2","depends_on_id":"scriptum-1s1","type":"blocks","created_at":"2026-02-06T18:26:10.592175Z","created_by":"garybasin","metadata":"{}"}]}
{"id":"scriptum-1p1","title":"Git: Leader election via relay","description":"git/leader.rs. Daemon acquires git-leader lease from relay (TTL 60s, auto-renew on heartbeat). Disconnection -\u003e lease expires -\u003e another daemon claims. One leader per workspace. Unit test.","status":"open","priority":1,"issue_type":"task","created_at":"2026-02-06T18:24:29.18753Z","created_by":"garybasin","updated_at":"2026-02-06T18:26:08.515911Z","dependencies":[{"issue_id":"scriptum-1p1","depends_on_id":"scriptum-nwj","type":"blocks","created_at":"2026-02-06T18:26:08.515872Z","created_by":"garybasin","metadata":"{}"}]}
{"id":"scriptum-1pot","title":"CI: Security test workflow","description":".github/workflows/security.yml. Tests: AuthZ bypass, path traversal, XSS sanitization, token replay, brute-force rate limiting. cargo deny check. Trigger on PR.","status":"open","priority":2,"issue_type":"task","created_at":"2026-02-06T18:24:30.937729Z","created_by":"garybasin","updated_at":"2026-02-06T18:26:10.786442Z","dependencies":[{"issue_id":"scriptum-1pot","depends_on_id":"scriptum-14xd","type":"blocks","created_at":"2026-02-06T18:26:10.786358Z","created_by":"garybasin","metadata":"{}"}]}
{"id":"scriptum-1pq","title":"Daemon: documents_local table CRUD","description":"CRUD for documents_local in meta.db: insert, update, get by doc_id, list by workspace_id. Track abs_path, line_ending_style, last_fs_mtime_ns, last_content_hash, projection_rev. Unit test.","status":"open","priority":1,"issue_type":"task","created_at":"2026-02-06T18:24:27.305452Z","created_by":"garybasin","updated_at":"2026-02-06T18:26:05.969971Z","dependencies":[{"issue_id":"scriptum-1pq","depends_on_id":"scriptum-1sx","type":"blocks","created_at":"2026-02-06T18:26:05.969899Z","created_by":"garybasin","metadata":"{}"}]}
{"id":"scriptum-1q3","title":"Editor: Live preview - tables","description":"Render GFM tables with proper alignment on unfocused lines. Handle column alignment markers. Raw markdown on active line. Unit test.","status":"open","priority":1,"issue_type":"task","created_at":"2026-02-06T18:24:28.483322Z","created_by":"garybasin","updated_at":"2026-02-06T18:26:07.653108Z","dependencies":[{"issue_id":"scriptum-1q3","depends_on_id":"scriptum-1v2","type":"blocks","created_at":"2026-02-06T18:26:07.653072Z","created_by":"garybasin","metadata":"{}"}]}
{"id":"scriptum-1rz","title":"Daemon: File watcher fsevents/inotify integration","description":"Implement watcher/mod.rs using notify crate (fsevents macOS, inotify Linux). Watch workspace dir for create/modify/delete on .md files. Emit raw events. Configure recursive watching. Unit test.","status":"open","priority":1,"issue_type":"task","created_at":"2026-02-06T18:24:27.057725Z","created_by":"garybasin","updated_at":"2026-02-06T18:26:05.593166Z","dependencies":[{"issue_id":"scriptum-1rz","depends_on_id":"scriptum-in6","type":"blocks","created_at":"2026-02-06T18:26:05.593137Z","created_by":"garybasin","metadata":"{}"}]}
{"id":"scriptum-1s1","title":"Spike: Y.Doc wrapper with y-crdt Rust","description":"In crates/daemon/src/engine/, create Y.Doc wrapper using y-crdt (yrs crate). Support: create new doc, load from binary state, apply update, encode state, getText/getMap. Unit tests for basic doc ops.","status":"open","priority":0,"issue_type":"task","created_at":"2026-02-06T18:24:26.872645Z","created_by":"garybasin","updated_at":"2026-02-06T18:26:05.27676Z","dependencies":[{"issue_id":"scriptum-1s1","depends_on_id":"scriptum-in6","type":"blocks","created_at":"2026-02-06T18:26:05.276726Z","created_by":"garybasin","metadata":"{}"}]}
{"id":"scriptum-1sie","title":"Share: Share link creation","description":"POST /share-links. 128-bit random token, stored hashed. Optional Argon2id password. Bounded by max_uses, expiry, disabled flag. Unit test.","status":"open","priority":2,"issue_type":"task","created_at":"2026-02-06T18:24:30.557464Z","created_by":"garybasin","updated_at":"2026-02-06T18:26:10.43804Z","dependencies":[{"issue_id":"scriptum-1sie","depends_on_id":"scriptum-351","type":"blocks","created_at":"2026-02-06T18:26:10.437983Z","created_by":"garybasin","metadata":"{}"}]}
{"id":"scriptum-1sj","title":"Spike: CLI edits doc via y-crdt, converges with CM","description":"In crates/cli, implement minimal edit command connecting to daemon via JSON-RPC, apply text edit to Y.Doc, verify it appears in CM editor in real-time. Validates CLI-\u003edaemon-\u003eCM sync path.","status":"open","priority":0,"issue_type":"task","created_at":"2026-02-06T18:24:26.935093Z","created_by":"garybasin","updated_at":"2026-02-06T18:26:05.423877Z","dependencies":[{"issue_id":"scriptum-1sj","depends_on_id":"scriptum-1g5","type":"blocks","created_at":"2026-02-06T18:26:05.395883Z","created_by":"garybasin","metadata":"{}"},{"issue_id":"scriptum-1sj","depends_on_id":"scriptum-25w","type":"blocks","created_at":"2026-02-06T18:26:05.423847Z","created_by":"garybasin","metadata":"{}"}]}
{"id":"scriptum-1sjd","title":"CI: Integration test workflow","description":".github/workflows/integration.yml. Run integration tests: daemon+watcher, relay+WS, git worker. Requires PostgreSQL service container. Trigger on PR.","status":"open","priority":1,"issue_type":"task","created_at":"2026-02-06T18:24:30.911614Z","created_by":"garybasin","updated_at":"2026-02-06T18:26:10.753472Z","dependencies":[{"issue_id":"scriptum-1sjd","depends_on_id":"scriptum-1i7i","type":"blocks","created_at":"2026-02-06T18:26:10.753427Z","created_by":"garybasin","metadata":"{}"}]}
{"id":"scriptum-1sx","title":"Daemon: SQLite meta.db schema + migrations","description":"Implement store/meta_db.rs. Create meta.db with schema_migrations table. Migration runner. Initial migration: documents_local, agent_sessions, agent_recent_edits, git_sync_config, git_sync_jobs, outbox_updates. Unit test.","status":"open","priority":1,"issue_type":"task","created_at":"2026-02-06T18:24:27.284565Z","created_by":"garybasin","updated_at":"2026-02-06T18:26:05.939327Z","dependencies":[{"issue_id":"scriptum-1sx","depends_on_id":"scriptum-in6","type":"blocks","created_at":"2026-02-06T18:26:05.939296Z","created_by":"garybasin","metadata":"{}"}]}
{"id":"scriptum-1tre","title":"App: Drag and drop images/files","description":"Drag and drop images/files into editor. Auto-upload and insert markdown link. Handle multiple files. Progress indicator. Unit test.","status":"open","priority":3,"issue_type":"task","created_at":"2026-02-06T18:24:30.668605Z","created_by":"garybasin","updated_at":"2026-02-06T18:24:30.668605Z"}
{"id":"scriptum-1u6","title":"Git: Co-authored-by trailers","description":"git/attribution.rs. Collect all editors since last commit from dual attribution model. Generate Co-authored-by trailers. Format: agent:name@scriptum for agents. Unit test.","status":"open","priority":2,"issue_type":"task","created_at":"2026-02-06T18:24:29.30926Z","created_by":"garybasin","updated_at":"2026-02-06T18:26:08.741134Z","dependencies":[{"issue_id":"scriptum-1u6","depends_on_id":"scriptum-89k","type":"blocks","created_at":"2026-02-06T18:26:08.741093Z","created_by":"garybasin","metadata":"{}"}]}
{"id":"scriptum-1v2","title":"Editor: CM6 extension scaffold + markdown parser","description":"Set up monolithic CM6 extension entry point in live-preview/extension.ts. Integrate markdown parser for tree analysis. Configure StateField for tracking active line. Unit test: extension loads.","status":"open","priority":1,"issue_type":"task","created_at":"2026-02-06T18:24:28.360454Z","created_by":"garybasin","updated_at":"2026-02-06T18:26:07.497567Z","dependencies":[{"issue_id":"scriptum-1v2","depends_on_id":"scriptum-3g2","type":"blocks","created_at":"2026-02-06T18:26:07.497508Z","created_by":"garybasin","metadata":"{}"}]}
{"id":"scriptum-1wf","title":"App: Zustand workspace + document stores","description":"Zustand stores for workspace list + active workspace, document list + open docs. Yjs reactive updates -\u003e React. Unit test.","status":"open","priority":1,"issue_type":"task","created_at":"2026-02-06T18:24:28.936831Z","created_by":"garybasin","updated_at":"2026-02-06T18:26:08.241884Z","dependencies":[{"issue_id":"scriptum-1wf","depends_on_id":"scriptum-2l8","type":"blocks","created_at":"2026-02-06T18:26:08.241805Z","created_by":"garybasin","metadata":"{}"}]}
{"id":"scriptum-1wj","title":"Editor: Lease badge rendering","description":"Render [agent-name editing] inline badge next to section heading. Badge color matches editor's cursor color. Hover shows details. Badge disappears on lease expiry. Unit test.","status":"open","priority":2,"issue_type":"task","created_at":"2026-02-06T18:24:28.652557Z","created_by":"garybasin","updated_at":"2026-02-06T18:26:07.86399Z","dependencies":[{"issue_id":"scriptum-1wj","depends_on_id":"scriptum-29t","type":"blocks","created_at":"2026-02-06T18:26:07.863952Z","created_by":"garybasin","metadata":"{}"}]}
{"id":"scriptum-1wm8","title":"CI: Build artifacts workflow","description":".github/workflows/build.yml. Build: Tauri desktop (macOS/Linux/Windows), CLI binaries, Docker relay image. Trigger on release tags.","status":"open","priority":2,"issue_type":"task","created_at":"2026-02-06T18:24:31.019973Z","created_by":"garybasin","updated_at":"2026-02-06T18:24:31.019973Z"}
{"id":"scriptum-1xm","title":"Editor: Active line raw / unfocused rich toggle","description":"Core live preview behavior: active line shows raw markdown, unfocused lines show rich text. Handle cursor movement between lines, multi-line selections. Unit test.","status":"open","priority":1,"issue_type":"task","created_at":"2026-02-06T18:24:28.556401Z","created_by":"garybasin","updated_at":"2026-02-06T18:26:07.747442Z","dependencies":[{"issue_id":"scriptum-1xm","depends_on_id":"scriptum-29t","type":"blocks","created_at":"2026-02-06T18:26:07.747392Z","created_by":"garybasin","metadata":"{}"}]}
{"id":"scriptum-1xt","title":"Relay: Conditional writes middleware (If-Match)","description":"ETag generation. PATCH/DELETE require If-Match; missing -\u003e 428. Mismatched -\u003e 412. Unit test.","status":"open","priority":1,"issue_type":"task","created_at":"2026-02-06T18:24:27.76055Z","created_by":"garybasin","updated_at":"2026-02-06T18:26:06.652349Z","dependencies":[{"issue_id":"scriptum-1xt","depends_on_id":"scriptum-1a5","type":"blocks","created_at":"2026-02-06T18:26:06.652314Z","created_by":"garybasin","metadata":"{}"}]}
{"id":"scriptum-1yz8","title":"Comments: Inline comment UI","description":"Select text -\u003e comment icon in right margin. Click -\u003e popover anchored to selection. Comment input. Yellow highlight on commented text. Unit test.","status":"open","priority":2,"issue_type":"task","created_at":"2026-02-06T18:24:30.423197Z","created_by":"garybasin","updated_at":"2026-02-06T18:26:10.199515Z","dependencies":[{"issue_id":"scriptum-1yz8","depends_on_id":"scriptum-2a50","type":"blocks","created_at":"2026-02-06T18:26:10.199465Z","created_by":"garybasin","metadata":"{}"}]}
{"id":"scriptum-1zk","title":"MCP: Resources","description":"scriptum://docs/{id} (document content), scriptum://docs/{id}/sections (section tree), scriptum://workspace (workspace listing), scriptum://agents (active agents). Unit test.","status":"open","priority":2,"issue_type":"task","created_at":"2026-02-06T18:24:29.956634Z","created_by":"garybasin","updated_at":"2026-02-06T18:26:09.626358Z","dependencies":[{"issue_id":"scriptum-1zk","depends_on_id":"scriptum-12s","type":"blocks","created_at":"2026-02-06T18:26:09.626263Z","created_by":"garybasin","metadata":"{}"}]}
{"id":"scriptum-208","title":"Agent: Claude Code hooks - PreToolUse + PostToolUse + Stop","description":"PreToolUse (on .md Write/Edit): warn about section overlaps, suggest scriptum edit. PostToolUse: confirm file watcher synced. Stop: remind about unsynced changes. Unit test.","status":"open","priority":2,"issue_type":"task","created_at":"2026-02-06T18:24:30.037095Z","created_by":"garybasin","updated_at":"2026-02-06T18:26:09.717481Z","dependencies":[{"issue_id":"scriptum-208","depends_on_id":"scriptum-1mi","type":"blocks","created_at":"2026-02-06T18:26:09.717433Z","created_by":"garybasin","metadata":"{}"}]}
{"id":"scriptum-214","title":"App: Status bar","description":"Status bar: sync indicator (green/yellow/red dot), cursor position (Ln/Col), active editor count. Offline shows red + 'Offline'. Unit test.","status":"open","priority":1,"issue_type":"task","created_at":"2026-02-06T18:24:28.891008Z","created_by":"garybasin","updated_at":"2026-02-06T18:26:08.173944Z","dependencies":[{"issue_id":"scriptum-214","depends_on_id":"scriptum-2l8","type":"blocks","created_at":"2026-02-06T18:26:08.173897Z","created_by":"garybasin","metadata":"{}"}]}
{"id":"scriptum-21w","title":"Relay: Workspace members management","description":"GET members (paginated), PATCH (role/status with If-Match), DELETE (If-Match). Owner-only for role changes. Unit test.","status":"open","priority":2,"issue_type":"task","created_at":"2026-02-06T18:24:27.959822Z","created_by":"garybasin","updated_at":"2026-02-06T18:26:06.956892Z","dependencies":[{"issue_id":"scriptum-21w","depends_on_id":"scriptum-388","type":"blocks","created_at":"2026-02-06T18:26:06.956859Z","created_by":"garybasin","metadata":"{}"}]}
{"id":"scriptum-238","title":"Desktop: System tray","description":"System tray icon showing sync status. Menu: open app, sync status, quit. Badge for pending changes.","status":"open","priority":3,"issue_type":"task","created_at":"2026-02-06T18:24:29.776022Z","created_by":"garybasin","updated_at":"2026-02-06T18:26:09.413121Z","dependencies":[{"issue_id":"scriptum-238","depends_on_id":"scriptum-fon","type":"blocks","created_at":"2026-02-06T18:26:09.413081Z","created_by":"garybasin","metadata":"{}"}]}
{"id":"scriptum-23m","title":"Daemon: Remote changes write to disk","description":"When remote CRDT updates arrive, render Y.Text to markdown, compare with file on disk, write if changed. Pause file watcher during write to prevent feedback loops. Unit test: remote update -\u003e file written -\u003e watcher not triggered.","status":"open","priority":1,"issue_type":"task","created_at":"2026-02-06T18:24:27.15802Z","created_by":"garybasin","updated_at":"2026-02-06T18:26:05.800012Z","dependencies":[{"issue_id":"scriptum-23m","depends_on_id":"scriptum-ako","type":"blocks","created_at":"2026-02-06T18:26:05.799975Z","created_by":"garybasin","metadata":"{}"}]}
{"id":"scriptum-23p6","title":"CI: Property test workflow (nightly)","description":".github/workflows/property-tests.yml. CRDT convergence + diff-to-Yjs randomized. Nightly schedule. Long timeout (30min).","status":"open","priority":2,"issue_type":"task","created_at":"2026-02-06T18:24:30.992513Z","created_by":"garybasin","updated_at":"2026-02-06T18:26:10.848091Z","dependencies":[{"issue_id":"scriptum-23p6","depends_on_id":"scriptum-1og2","type":"blocks","created_at":"2026-02-06T18:26:10.848048Z","created_by":"garybasin","metadata":"{}"}]}
{"id":"scriptum-23pl","title":"CI: Release workflow","description":".github/workflows/release.yml. Changesets-based: version bumps, changelogs, publish. Tauri auto-update. Docker push. NPM publish for MCP server.","status":"open","priority":3,"issue_type":"task","created_at":"2026-02-06T18:24:31.047702Z","created_by":"garybasin","updated_at":"2026-02-06T18:24:31.047702Z"}
{"id":"scriptum-23u","title":"MCP: Tools - claim, bundle, subscribe","description":"scriptum_claim -\u003e agent.claim, scriptum_bundle -\u003e doc.bundle, scriptum_subscribe (polling change token from scriptum_status). Unit test.","status":"open","priority":2,"issue_type":"task","created_at":"2026-02-06T18:24:29.930419Z","created_by":"garybasin","updated_at":"2026-02-06T18:26:09.596489Z","dependencies":[{"issue_id":"scriptum-23u","depends_on_id":"scriptum-302","type":"blocks","created_at":"2026-02-06T18:26:09.596431Z","created_by":"garybasin","metadata":"{}"}]}
{"id":"scriptum-243","title":"CLI: search + diff commands","description":"scriptum search 'query' (FTS across workspace), scriptum diff doc.md (pending changes since last git commit). Unit test.","status":"open","priority":2,"issue_type":"task","created_at":"2026-02-06T18:24:29.54094Z","created_by":"garybasin","updated_at":"2026-02-06T18:26:09.042282Z","dependencies":[{"issue_id":"scriptum-243","depends_on_id":"scriptum-9k0","type":"blocks","created_at":"2026-02-06T18:26:09.042246Z","created_by":"garybasin","metadata":"{}"}]}
{"id":"scriptum-247","title":"Relay: Document CRUD endpoints","description":"GET documents (filters: path_prefix, tag, archived, pagination), POST (path, title, content_md, tags), GET /{doc_id} (include_content/sections), PATCH (If-Match), DELETE (soft/hard). Unit test.","status":"open","priority":1,"issue_type":"task","created_at":"2026-02-06T18:24:27.981506Z","created_by":"garybasin","updated_at":"2026-02-06T18:26:06.992545Z","dependencies":[{"issue_id":"scriptum-247","depends_on_id":"scriptum-388","type":"blocks","created_at":"2026-02-06T18:26:06.992383Z","created_by":"garybasin","metadata":"{}"}]}
{"id":"scriptum-24x","title":"Init packages/web with Vite + React","description":"Create packages/web with Vite + React 19 + TypeScript scaffold. vite.config.ts, index.html, src/main.tsx, src/App.tsx. Deps: react, react-dom, react-router, zustand, tailwindcss 4, yjs, y-websocket. Stub routes/, components/, store/, hooks/, lib/.","status":"open","priority":0,"issue_type":"task","created_at":"2026-02-06T18:24:26.66342Z","created_by":"garybasin","updated_at":"2026-02-06T18:26:04.990638Z","dependencies":[{"issue_id":"scriptum-24x","depends_on_id":"scriptum-3ot","type":"blocks","created_at":"2026-02-06T18:26:04.832965Z","created_by":"garybasin","metadata":"{}"},{"issue_id":"scriptum-24x","depends_on_id":"scriptum-3g2","type":"blocks","created_at":"2026-02-06T18:26:04.959711Z","created_by":"garybasin","metadata":"{}"},{"issue_id":"scriptum-24x","depends_on_id":"scriptum-txg","type":"blocks","created_at":"2026-02-06T18:26:04.990597Z","created_by":"garybasin","metadata":"{}"}]}
{"id":"scriptum-252","title":"Editor: Remote cursor rendering","description":"Render remote cursors with name labels (Google Docs-style). Name label auto-hides after 3s, reappears on movement. Deterministic color from name hash. Unit test.","status":"open","priority":1,"issue_type":"task","created_at":"2026-02-06T18:24:28.604695Z","created_by":"garybasin","updated_at":"2026-02-06T18:26:07.804881Z","dependencies":[{"issue_id":"scriptum-252","depends_on_id":"scriptum-38d","type":"blocks","created_at":"2026-02-06T18:26:07.804836Z","created_by":"garybasin","metadata":"{}"}]}
{"id":"scriptum-25w","title":"Spike: Local WS server with Yjs binary sync","description":"In crates/daemon, implement local WebSocket server using axum that speaks Yjs binary sync protocol on /yjs endpoint. Handle sync step 1 (state vector exchange), step 2 (update exchange), and incremental updates. Integration test: two WS clients syncing.","status":"open","priority":0,"issue_type":"task","created_at":"2026-02-06T18:24:26.89454Z","created_by":"garybasin","updated_at":"2026-02-06T18:26:05.308188Z","dependencies":[{"issue_id":"scriptum-25w","depends_on_id":"scriptum-1s1","type":"blocks","created_at":"2026-02-06T18:26:05.308156Z","created_by":"garybasin","metadata":"{}"}]}
{"id":"scriptum-27u","title":"Daemon: Section overlap detection","description":"In daemon/section/overlap.rs. Track which editors are in which sections (awareness cursor positions). Detect 2+ editors in same section. Classify: info (same section) vs warning (same paragraph). Emit SectionOverlap. Unit test.","status":"open","priority":1,"issue_type":"task","created_at":"2026-02-06T18:24:27.263029Z","created_by":"garybasin","updated_at":"2026-02-06T18:26:05.910751Z","dependencies":[{"issue_id":"scriptum-27u","depends_on_id":"scriptum-33v","type":"blocks","created_at":"2026-02-06T18:26:05.910719Z","created_by":"garybasin","metadata":"{}"}]}
{"id":"scriptum-28sm","title":"Test: Golden file test cases","description":"tests/golden/cases/. Curated edge cases: multi-hunk patches, overlapping edits, Unicode (CJK, emoji, RTL), empty sections, large replacements, whitespace-only changes, line ending variations.","status":"open","priority":1,"issue_type":"task","created_at":"2026-02-06T18:24:30.721372Z","created_by":"garybasin","updated_at":"2026-02-06T18:26:10.560258Z","dependencies":[{"issue_id":"scriptum-28sm","depends_on_id":"scriptum-1mwt","type":"blocks","created_at":"2026-02-06T18:26:10.560217Z","created_by":"garybasin","metadata":"{}"}]}
{"id":"scriptum-29c","title":"Desktop: Auto-update","description":"Tauri updater with user consent. Check for updates on startup (configurable). Ring deployment: internal -\u003e beta -\u003e GA. Kill-switch on crash regression.","status":"open","priority":3,"issue_type":"task","created_at":"2026-02-06T18:24:29.800953Z","created_by":"garybasin","updated_at":"2026-02-06T18:26:09.44311Z","dependencies":[{"issue_id":"scriptum-29c","depends_on_id":"scriptum-fon","type":"blocks","created_at":"2026-02-06T18:26:09.443072Z","created_by":"garybasin","metadata":"{}"}]}
{"id":"scriptum-29t","title":"Editor: Live preview - heading rendering","description":"Render H1-H6 headings with appropriate typography on unfocused lines. Raw markdown on active line. Handle heading level changes. Unit test: each heading level renders correctly.","status":"open","priority":1,"issue_type":"task","created_at":"2026-02-06T18:24:28.385858Z","created_by":"garybasin","updated_at":"2026-02-06T18:26:07.529376Z","dependencies":[{"issue_id":"scriptum-29t","depends_on_id":"scriptum-1v2","type":"blocks","created_at":"2026-02-06T18:26:07.529343Z","created_by":"garybasin","metadata":"{}"}]}
{"id":"scriptum-2a50","title":"Comments: REST endpoints","description":"GET /comments (list by doc, status filter), POST (create thread with anchor), POST /messages (reply), POST /resolve, POST /reopen. Wire to relay DB. Unit test.","status":"open","priority":2,"issue_type":"task","created_at":"2026-02-06T18:24:30.395869Z","created_by":"garybasin","updated_at":"2026-02-06T18:26:10.15491Z","dependencies":[{"issue_id":"scriptum-2a50","depends_on_id":"scriptum-351","type":"blocks","created_at":"2026-02-06T18:26:10.154861Z","created_by":"garybasin","metadata":"{}"}]}
{"id":"scriptum-2at","title":"CI: TypeScript test workflow","description":"Create .github/workflows/test-ts.yml. Run pnpm test (vitest) across all TS packages via Turborepo. Cache pnpm store + turbo cache. Trigger on push/PR.","status":"open","priority":1,"issue_type":"task","created_at":"2026-02-06T18:24:26.852528Z","created_by":"garybasin","updated_at":"2026-02-06T18:26:05.240176Z","dependencies":[{"issue_id":"scriptum-2at","depends_on_id":"scriptum-rhu","type":"blocks","created_at":"2026-02-06T18:26:05.240145Z","created_by":"garybasin","metadata":"{}"}]}
{"id":"scriptum-2bq","title":"Init packages/mcp-server scaffold","description":"Create packages/mcp-server/package.json + tsconfig.json. Add deps: @modelcontextprotocol/sdk. Create src/index.ts, src/server.ts. Stub tools/ and resources/ directories. Create daemon-client.ts stub.","status":"open","priority":0,"issue_type":"task","created_at":"2026-02-06T18:24:26.703666Z","created_by":"garybasin","updated_at":"2026-02-06T18:26:05.020367Z","dependencies":[{"issue_id":"scriptum-2bq","depends_on_id":"scriptum-3ot","type":"blocks","created_at":"2026-02-06T18:26:04.925193Z","created_by":"garybasin","metadata":"{}"},{"issue_id":"scriptum-2bq","depends_on_id":"scriptum-txg","type":"blocks","created_at":"2026-02-06T18:26:05.020333Z","created_by":"garybasin","metadata":"{}"}]}
{"id":"scriptum-2cx","title":"App: Zustand presence + sync stores","description":"Zustand stores for presence (who's online, cursor positions) and sync status (online/offline/reconnecting). Unit test.","status":"open","priority":1,"issue_type":"task","created_at":"2026-02-06T18:24:28.963299Z","created_by":"garybasin","updated_at":"2026-02-06T18:26:08.274785Z","dependencies":[{"issue_id":"scriptum-2cx","depends_on_id":"scriptum-1wf","type":"blocks","created_at":"2026-02-06T18:26:08.274732Z","created_by":"garybasin","metadata":"{}"}]}
{"id":"scriptum-2ds","title":"Daemon: Socket-activated startup","description":"Implement startup.rs: PID file at ~/.scriptum/daemon.pid, socket creation, signal ready by accepting connections. CLI/MCP detect connection refused -\u003e fork+exec daemon. 5s timeout, exit code 10. Integration test: cold start.","status":"open","priority":0,"issue_type":"task","created_at":"2026-02-06T18:24:27.037357Z","created_by":"garybasin","updated_at":"2026-02-06T18:26:05.564747Z","dependencies":[{"issue_id":"scriptum-2ds","depends_on_id":"scriptum-in6","type":"blocks","created_at":"2026-02-06T18:26:05.564717Z","created_by":"garybasin","metadata":"{}"}]}
{"id":"scriptum-2ea","title":"Relay: OAuth 2.1 + PKCE - start endpoint","description":"POST /v1/auth/oauth/github/start. Accept redirect_uri, state, code_challenge (S256). Store flow with expiry. Return flow_id + authorization_url. Validate redirect_uri. Rate limit. Unit test.","status":"open","priority":0,"issue_type":"task","created_at":"2026-02-06T18:24:27.803593Z","created_by":"garybasin","updated_at":"2026-02-06T18:26:06.712884Z","dependencies":[{"issue_id":"scriptum-2ea","depends_on_id":"scriptum-351","type":"blocks","created_at":"2026-02-06T18:26:06.712849Z","created_by":"garybasin","metadata":"{}"}]}
{"id":"scriptum-2ek5","title":"Backlinks: Auto-update references on rename","description":"When document renamed/moved, update all [[old-name]] references across workspace to [[new-name]]. Toast: 'Updated N links across M documents.' Unit test.","status":"open","priority":3,"issue_type":"task","created_at":"2026-02-06T18:24:30.371194Z","created_by":"garybasin","updated_at":"2026-02-06T18:26:10.115769Z","dependencies":[{"issue_id":"scriptum-2ek5","depends_on_id":"scriptum-2qox","type":"blocks","created_at":"2026-02-06T18:26:10.115727Z","created_by":"garybasin","metadata":"{}"}]}
{"id":"scriptum-2f1","title":"Spike: WAL persistence survives daemon restart","description":"Implement minimal WAL: append Yjs updates to disk with fsync. On restart, load WAL and reconstruct Y.Doc. Integration test: create doc, edit, kill daemon, restart, verify content preserved.","status":"open","priority":0,"issue_type":"task","created_at":"2026-02-06T18:24:26.955083Z","created_by":"garybasin","updated_at":"2026-02-06T18:26:05.45171Z","dependencies":[{"issue_id":"scriptum-2f1","depends_on_id":"scriptum-1s1","type":"blocks","created_at":"2026-02-06T18:26:05.451681Z","created_by":"garybasin","metadata":"{}"}]}
{"id":"scriptum-2gm","title":"Relay: Search endpoint","description":"GET /v1/workspaces/{id}/search?q=. Full-text search across docs. Return doc_id, path, title, snippet, score. Pagination. Unit test.","status":"open","priority":2,"issue_type":"task","created_at":"2026-02-06T18:24:28.026386Z","created_by":"garybasin","updated_at":"2026-02-06T18:24:28.026386Z"}
{"id":"scriptum-2hv","title":"Daemon: Snapshot persistence","description":"Implement store/snapshot.rs. Compressed snapshots (full Y.Doc state) every 1000 updates or 10 min. Store in crdt_store/snapshots/. Track snapshot seq. Unit test: creation, loading, compression.","status":"open","priority":1,"issue_type":"task","created_at":"2026-02-06T18:24:27.367005Z","created_by":"garybasin","updated_at":"2026-02-06T18:26:06.055822Z","dependencies":[{"issue_id":"scriptum-2hv","depends_on_id":"scriptum-vgc","type":"blocks","created_at":"2026-02-06T18:26:06.055791Z","created_by":"garybasin","metadata":"{}"}]}
{"id":"scriptum-2jd","title":"CLI: blame command","description":"scriptum blame doc.md. CRDT-based per-line attribution showing editor, edit summary, timestamp. Richer than git blame. Unit test.","status":"open","priority":2,"issue_type":"task","created_at":"2026-02-06T18:24:29.569229Z","created_by":"garybasin","updated_at":"2026-02-06T18:26:09.072816Z","dependencies":[{"issue_id":"scriptum-2jd","depends_on_id":"scriptum-9k0","type":"blocks","created_at":"2026-02-06T18:26:09.072774Z","created_by":"garybasin","metadata":"{}"}]}
{"id":"scriptum-2l8","title":"App: React scaffold + routing","description":"React 19 scaffold shared between desktop and web. React Router with routes: index, workspace, document, settings, auth-callback. Layout component with sidebar + editor area. Unit test: routing works.","status":"open","priority":1,"issue_type":"task","created_at":"2026-02-06T18:24:28.74706Z","created_by":"garybasin","updated_at":"2026-02-06T18:26:07.987863Z","dependencies":[{"issue_id":"scriptum-2l8","depends_on_id":"scriptum-24x","type":"blocks","created_at":"2026-02-06T18:26:07.987822Z","created_by":"garybasin","metadata":"{}"}]}
{"id":"scriptum-2la","title":"Daemon: Unix socket JSON-RPC server","description":"Implement JSON-RPC 2.0 over Unix socket at ~/.scriptum/daemon.sock (macOS/Linux) and named pipe (Windows). Share method handlers with WS /rpc. Handle concurrent connections. Unit test.","status":"open","priority":1,"issue_type":"task","created_at":"2026-02-06T18:24:27.014198Z","created_by":"garybasin","updated_at":"2026-02-06T18:26:05.53714Z","dependencies":[{"issue_id":"scriptum-2la","depends_on_id":"scriptum-in6","type":"blocks","created_at":"2026-02-06T18:26:05.53711Z","created_by":"garybasin","metadata":"{}"}]}
{"id":"scriptum-2ma","title":"MCP: Tools - read, edit, list, tree","description":"scriptum_read -\u003e doc.read, scriptum_edit -\u003e doc.edit, scriptum_list -\u003e doc.tree, scriptum_tree -\u003e doc.sections. Map params, forward to daemon. Unit test.","status":"open","priority":2,"issue_type":"task","created_at":"2026-02-06T18:24:29.877977Z","created_by":"garybasin","updated_at":"2026-02-06T18:26:09.536212Z","dependencies":[{"issue_id":"scriptum-2ma","depends_on_id":"scriptum-302","type":"blocks","created_at":"2026-02-06T18:26:09.536168Z","created_by":"garybasin","metadata":"{}"}]}
{"id":"scriptum-2ne","title":"Daemon: JSON-RPC workspace methods","description":"workspace.list (paginated), workspace.open (load by ID), workspace.create (init directory structure). Unit test each method.","status":"open","priority":1,"issue_type":"task","created_at":"2026-02-06T18:24:27.474896Z","created_by":"garybasin","updated_at":"2026-02-06T18:26:06.291316Z","dependencies":[{"issue_id":"scriptum-2ne","depends_on_id":"scriptum-3rw","type":"blocks","created_at":"2026-02-06T18:26:06.255368Z","created_by":"garybasin","metadata":"{}"},{"issue_id":"scriptum-2ne","depends_on_id":"scriptum-2la","type":"blocks","created_at":"2026-02-06T18:26:06.291267Z","created_by":"garybasin","metadata":"{}"}]}
{"id":"scriptum-2ot","title":"Desktop: File dialogs + menu bar","description":"Native file dialogs for import/export. Menu bar with standard items (File, Edit, View, Help). Keyboard shortcuts (Cmd+N, Cmd+S, Cmd+W). Unit test.","status":"open","priority":2,"issue_type":"task","created_at":"2026-02-06T18:24:29.751543Z","created_by":"garybasin","updated_at":"2026-02-06T18:26:09.381123Z","dependencies":[{"issue_id":"scriptum-2ot","depends_on_id":"scriptum-fon","type":"blocks","created_at":"2026-02-06T18:26:09.381084Z","created_by":"garybasin","metadata":"{}"}]}
{"id":"scriptum-2pi","title":"App: Offline - banner + reconnect progress","description":"Yellow offline banner (web only). Desktop: status bar shows pending count. Reconnect progress: 'Syncing... 847/1203 updates'. Unit test.","status":"open","priority":2,"issue_type":"task","created_at":"2026-02-06T18:24:29.035654Z","created_by":"garybasin","updated_at":"2026-02-06T18:26:08.367135Z","dependencies":[{"issue_id":"scriptum-2pi","depends_on_id":"scriptum-214","type":"blocks","created_at":"2026-02-06T18:26:08.367101Z","created_by":"garybasin","metadata":"{}"}]}
{"id":"scriptum-2qb","title":"Relay: WebSocket upgrade + session management","description":"POST /v1/workspaces/{id}/sync-sessions (validate auth, issue session_token, assign ws_url). WS upgrade handler. Track active sessions. Unit test.","status":"open","priority":0,"issue_type":"task","created_at":"2026-02-06T18:24:28.048109Z","created_by":"garybasin","updated_at":"2026-02-06T18:26:07.058723Z","dependencies":[{"issue_id":"scriptum-2qb","depends_on_id":"scriptum-37k","type":"blocks","created_at":"2026-02-06T18:26:07.058684Z","created_by":"garybasin","metadata":"{}"}]}
{"id":"scriptum-2qh","title":"App: Right panel - document outline","description":"Toggleable right panel with document heading outline. Click heading to scroll. Highlight current section. Unit test.","status":"open","priority":2,"issue_type":"task","created_at":"2026-02-06T18:24:29.114362Z","created_by":"garybasin","updated_at":"2026-02-06T18:24:29.114362Z"}
{"id":"scriptum-2qo","title":"Backlinks: Wiki-style link parser","description":"Parse [[target]], [[target|alias]], [[target#heading]] from markdown. Obsidian-compatible syntax. Extract on file save/commit. Unit test.","status":"open","priority":2,"issue_type":"task","created_at":"2026-02-06T18:24:30.318324Z","created_by":"garybasin","updated_at":"2026-02-06T18:26:10.051784Z","dependencies":[{"issue_id":"scriptum-2qo","depends_on_id":"scriptum-1k2","type":"blocks","created_at":"2026-02-06T18:26:10.05174Z","created_by":"garybasin","metadata":"{}"}]}
{"id":"scriptum-2qox","title":"Backlinks: Resolution (path -\u003e filename -\u003e title)","description":"Resolve link targets: exact path -\u003e filename (case-insensitive) -\u003e document title. First match wins. Store in backlinks table. Unit test.","status":"open","priority":2,"issue_type":"task","created_at":"2026-02-06T18:24:30.344903Z","created_by":"garybasin","updated_at":"2026-02-06T18:26:10.083825Z","dependencies":[{"issue_id":"scriptum-2qox","depends_on_id":"scriptum-2qo","type":"blocks","created_at":"2026-02-06T18:26:10.083782Z","created_by":"garybasin","metadata":"{}"}]}
{"id":"scriptum-2ra","title":"Desktop: Tauri 2.0 scaffold","description":"packages/desktop with Tauri 2.0 scaffold. tauri.conf.json, src-tauri/Cargo.toml, src-tauri/src/main.rs. Configure permissions, window settings, build targets.","status":"open","priority":2,"issue_type":"task","created_at":"2026-02-06T18:24:29.678445Z","created_by":"garybasin","updated_at":"2026-02-06T18:26:09.191599Z","dependencies":[{"issue_id":"scriptum-2ra","depends_on_id":"scriptum-3ot","type":"blocks","created_at":"2026-02-06T18:26:09.191476Z","created_by":"garybasin","metadata":"{}"}]}
{"id":"scriptum-2re","title":"Relay: WS protocol - subscribe + state sync","description":"Client sends doc_id + last_server_seq. Server loads Y.Doc, sends snapshot if needed, streams incremental updates. Track subscriptions per connection. Unit test.","status":"open","priority":0,"issue_type":"task","created_at":"2026-02-06T18:24:28.092187Z","created_by":"garybasin","updated_at":"2026-02-06T18:26:07.121374Z","dependencies":[{"issue_id":"scriptum-2re","depends_on_id":"scriptum-k7k","type":"blocks","created_at":"2026-02-06T18:26:07.121339Z","created_by":"garybasin","metadata":"{}"}]}
{"id":"scriptum-2sps","title":"Ops: OpenTelemetry tracing","description":"OpenTelemetry spans: API handler, sequencer, DB queries, object storage. Trace ID propagated across REST, WS, daemon JSON-RPC. Unit test.","status":"open","priority":3,"issue_type":"task","created_at":"2026-02-06T18:24:31.158286Z","created_by":"garybasin","updated_at":"2026-02-06T18:24:31.158286Z"}
{"id":"scriptum-2tw","title":"App: Sidebar - workspace dropdown","description":"Linear-style workspace switcher dropdown at top of sidebar. Show all workspaces with last-accessed timestamp. Create new workspace option. Unit test.","status":"open","priority":1,"issue_type":"task","created_at":"2026-02-06T18:24:28.769179Z","created_by":"garybasin","updated_at":"2026-02-06T18:26:08.017586Z","dependencies":[{"issue_id":"scriptum-2tw","depends_on_id":"scriptum-2l8","type":"blocks","created_at":"2026-02-06T18:26:08.017549Z","created_by":"garybasin","metadata":"{}"}]}
{"id":"scriptum-2vj9","title":"CI: Golden file test workflow","description":".github/workflows/golden-tests.yml. Run golden file diff-to-Yjs tests. Fail on any mismatch. Trigger on every push/PR.","status":"open","priority":1,"issue_type":"task","created_at":"2026-02-06T18:24:30.965025Z","created_by":"garybasin","updated_at":"2026-02-06T18:26:10.816558Z","dependencies":[{"issue_id":"scriptum-2vj9","depends_on_id":"scriptum-1mwt","type":"blocks","created_at":"2026-02-06T18:26:10.816511Z","created_by":"garybasin","metadata":"{}"}]}
{"id":"scriptum-2wn","title":"Daemon: Section slug generation","description":"Implement common/section/slug.rs. Slug: lowercase, strip non-alphanumeric, hyphenate spaces. Fallback: h{level}_{index}. Stable section_id = slug(ancestor_chain)+ordinal. Unit test.","status":"open","priority":1,"issue_type":"task","created_at":"2026-02-06T18:24:27.220879Z","created_by":"garybasin","updated_at":"2026-02-06T18:26:05.855497Z","dependencies":[{"issue_id":"scriptum-2wn","depends_on_id":"scriptum-1k2","type":"blocks","created_at":"2026-02-06T18:26:05.855468Z","created_by":"garybasin","metadata":"{}"}]}
{"id":"scriptum-2y1","title":"CLI: read command","description":"scriptum read doc.md [--section '## Auth'] [--agent name]. Read doc content, optionally scoped to section. Register read intent for agent. Unit test.","status":"open","priority":1,"issue_type":"task","created_at":"2026-02-06T18:24:29.462698Z","created_by":"garybasin","updated_at":"2026-02-06T18:26:08.952347Z","dependencies":[{"issue_id":"scriptum-2y1","depends_on_id":"scriptum-9k0","type":"blocks","created_at":"2026-02-06T18:26:08.952307Z","created_by":"garybasin","metadata":"{}"}]}
{"id":"scriptum-2y5","title":"Git: Idle fallback timer (30s)","description":"30s idle timer as fallback commit trigger. Max 1 auto-commit per 30s per workspace. Reset timer on any edit. Unit test.","status":"open","priority":2,"issue_type":"task","created_at":"2026-02-06T18:24:29.236031Z","created_by":"garybasin","updated_at":"2026-02-06T18:26:08.623997Z","dependencies":[{"issue_id":"scriptum-2y5","depends_on_id":"scriptum-ybw","type":"blocks","created_at":"2026-02-06T18:26:08.623952Z","created_by":"garybasin","metadata":"{}"}]}
{"id":"scriptum-2y6","title":"Search: FTS5 index setup","description":"SQLite FTS5 index in daemon. Behind abstraction layer (swap to Tantivy later). Index document content + titles. Rebuild on workspace open. Unit test.","status":"open","priority":2,"issue_type":"task","created_at":"2026-02-06T18:24:30.240109Z","created_by":"garybasin","updated_at":"2026-02-06T18:26:09.959235Z","dependencies":[{"issue_id":"scriptum-2y6","depends_on_id":"scriptum-1sx","type":"blocks","created_at":"2026-02-06T18:26:09.95919Z","created_by":"garybasin","metadata":"{}"}]}
{"id":"scriptum-302","title":"MCP: JSON-RPC client to daemon","description":"daemon-client.ts. Connect to daemon Unix socket from Node.js. JSON-RPC request/response. Handle daemon not running. Unit test.","status":"open","priority":2,"issue_type":"task","created_at":"2026-02-06T18:24:29.851354Z","created_by":"garybasin","updated_at":"2026-02-06T18:26:09.505173Z","dependencies":[{"issue_id":"scriptum-302","depends_on_id":"scriptum-12s","type":"blocks","created_at":"2026-02-06T18:26:09.505127Z","created_by":"garybasin","metadata":"{}"}]}
{"id":"scriptum-32u","title":"Relay: Workspace invites + accept","description":"POST /v1/workspaces/{id}/invites (email, role, expiry). POST /v1/invites/{token}/accept. Owner-only invite. Validate token, expiry. Unit test.","status":"open","priority":2,"issue_type":"task","created_at":"2026-02-06T18:24:27.937078Z","created_by":"garybasin","updated_at":"2026-02-06T18:26:06.915285Z","dependencies":[{"issue_id":"scriptum-32u","depends_on_id":"scriptum-388","type":"blocks","created_at":"2026-02-06T18:26:06.915253Z","created_by":"garybasin","metadata":"{}"}]}
{"id":"scriptum-33u","title":"Agent: Context bundling with tiktoken-rs","description":"Token counting via tiktoken-rs (cl100k_base). Accurate budget in doc.bundle. Truncation priority: comments -\u003e backlinks -\u003e children -\u003e parents. Section content never truncated. Unit test.","status":"open","priority":2,"issue_type":"task","created_at":"2026-02-06T18:24:29.983376Z","created_by":"garybasin","updated_at":"2026-02-06T18:26:09.656796Z","dependencies":[{"issue_id":"scriptum-33u","depends_on_id":"scriptum-j96","type":"blocks","created_at":"2026-02-06T18:26:09.656749Z","created_by":"garybasin","metadata":"{}"}]}
{"id":"scriptum-33v","title":"Daemon: Section tree construction and diffing","description":"In daemon/section/mod.rs, rebuild section tree on CRDT update. Diff new vs previous: new sections, removed, content changes. Update lastEditedBy from Yjs origin. Emit events. Unit test.","status":"open","priority":1,"issue_type":"task","created_at":"2026-02-06T18:24:27.243244Z","created_by":"garybasin","updated_at":"2026-02-06T18:26:05.88257Z","dependencies":[{"issue_id":"scriptum-33v","depends_on_id":"scriptum-2wn","type":"blocks","created_at":"2026-02-06T18:26:05.882537Z","created_by":"garybasin","metadata":"{}"}]}
{"id":"scriptum-34m","title":"Desktop: Embedded daemon (in-process)","description":"Link daemon crate as Rust library. Start daemon in-process on app launch. If standalone daemon running, take over (standalone exits). daemon.rs bridge in Tauri.","status":"open","priority":2,"issue_type":"task","created_at":"2026-02-06T18:24:29.703705Z","created_by":"garybasin","updated_at":"2026-02-06T18:26:09.257914Z","dependencies":[{"issue_id":"scriptum-34m","depends_on_id":"scriptum-2ra","type":"blocks","created_at":"2026-02-06T18:26:09.225732Z","created_by":"garybasin","metadata":"{}"},{"issue_id":"scriptum-34m","depends_on_id":"scriptum-in6","type":"blocks","created_at":"2026-02-06T18:26:09.257873Z","created_by":"garybasin","metadata":"{}"}]}
{"id":"scriptum-34r","title":"Daemon: JSON-RPC doc.edit method","description":"doc.edit: params workspace_id, doc_id, ops or content_md, if_etag, agent_id. Apply edit to Y.Doc, return new etag + head_seq. Support Yjs binary ops and full content replacement. Unit test.","status":"open","priority":1,"issue_type":"task","created_at":"2026-02-06T18:24:27.51843Z","created_by":"garybasin","updated_at":"2026-02-06T18:26:06.352879Z","dependencies":[{"issue_id":"scriptum-34r","depends_on_id":"scriptum-3cz","type":"blocks","created_at":"2026-02-06T18:26:06.352846Z","created_by":"garybasin","metadata":"{}"}]}
{"id":"scriptum-351","title":"Relay: Database migrations (all tables)","description":"SQL migrations for all tables: users, refresh_sessions, workspaces, workspace_members, documents, tags, document_tags, backlinks, comment_threads, comment_messages, share_links, acl_overrides, yjs_update_log, yjs_snapshots, idempotency_keys, audit_events. All indexes. Integration test.","status":"open","priority":0,"issue_type":"task","created_at":"2026-02-06T18:24:27.695664Z","created_by":"garybasin","updated_at":"2026-02-06T18:26:06.560153Z","dependencies":[{"issue_id":"scriptum-351","depends_on_id":"scriptum-1ew","type":"blocks","created_at":"2026-02-06T18:26:06.56012Z","created_by":"garybasin","metadata":"{}"}]}
{"id":"scriptum-35g","title":"Relay: Snapshot compaction","description":"sync/snapshot.rs. Snapshot every 1000 updates or 10 min. Store in yjs_snapshots (+ object storage for large). Retain latest-2, delete older updates. Unit test.","status":"open","priority":1,"issue_type":"task","created_at":"2026-02-06T18:24:28.256334Z","created_by":"garybasin","updated_at":"2026-02-06T18:26:07.373259Z","dependencies":[{"issue_id":"scriptum-35g","depends_on_id":"scriptum-3sp","type":"blocks","created_at":"2026-02-06T18:26:07.373194Z","created_by":"garybasin","metadata":"{}"}]}
{"id":"scriptum-35u","title":"Add .gitignore for monorepo","description":"Create comprehensive .gitignore: target/, node_modules/, dist/, .turbo/, *.db, *.wal, *.snap, .env, .DS_Store, coverage/, playwright-report/.","status":"open","priority":0,"issue_type":"task","created_at":"2026-02-06T18:24:26.791861Z","created_by":"garybasin","updated_at":"2026-02-06T18:24:26.791861Z"}
{"id":"scriptum-37k","title":"Relay: Auth middleware (Bearer extraction)","description":"auth/middleware.rs. Extract Bearer token, validate JWT, inject user into request extensions. 401 for missing/invalid. Unit test.","status":"open","priority":0,"issue_type":"task","created_at":"2026-02-06T18:24:27.892072Z","created_by":"garybasin","updated_at":"2026-02-06T18:26:06.826897Z","dependencies":[{"issue_id":"scriptum-37k","depends_on_id":"scriptum-7ak","type":"blocks","created_at":"2026-02-06T18:26:06.826866Z","created_by":"garybasin","metadata":"{}"}]}
{"id":"scriptum-37m","title":"Relay: Document tags endpoint","description":"POST /v1/workspaces/{id}/documents/{doc_id}/tags. op: add/remove with tag names. Return updated document. Unit test.","status":"open","priority":2,"issue_type":"task","created_at":"2026-02-06T18:24:28.002866Z","created_by":"garybasin","updated_at":"2026-02-06T18:26:07.025479Z","dependencies":[{"issue_id":"scriptum-37m","depends_on_id":"scriptum-247","type":"blocks","created_at":"2026-02-06T18:26:07.025441Z","created_by":"garybasin","metadata":"{}"}]}
{"id":"scriptum-388","title":"Relay: Workspace CRUD endpoints","description":"POST (create), GET (list paginated), GET /{id}, PATCH /{id} (If-Match). Enforce auth. Return workspace with caller role. Unit test.","status":"open","priority":1,"issue_type":"task","created_at":"2026-02-06T18:24:27.914782Z","created_by":"garybasin","updated_at":"2026-02-06T18:26:06.883674Z","dependencies":[{"issue_id":"scriptum-388","depends_on_id":"scriptum-37k","type":"blocks","created_at":"2026-02-06T18:26:06.85473Z","created_by":"garybasin","metadata":"{}"},{"issue_id":"scriptum-388","depends_on_id":"scriptum-351","type":"blocks","created_at":"2026-02-06T18:26:06.883639Z","created_by":"garybasin","metadata":"{}"}]}
{"id":"scriptum-38b","title":"Search: Index updates on file save","description":"Update FTS index incrementally on file save / CRDT update. Handle deletes and renames. Unit test.","status":"open","priority":2,"issue_type":"task","created_at":"2026-02-06T18:24:30.264841Z","created_by":"garybasin","updated_at":"2026-02-06T18:26:09.990887Z","dependencies":[{"issue_id":"scriptum-38b","depends_on_id":"scriptum-2y6","type":"blocks","created_at":"2026-02-06T18:26:09.990838Z","created_by":"garybasin","metadata":"{}"}]}
{"id":"scriptum-38d","title":"Editor: y-codemirror.next integration","description":"Set up y-codemirror.next binding in collaboration/provider.ts. Connect to y-websocket provider. Handle provider lifecycle (connect/disconnect/reconnect). Unit test.","status":"open","priority":1,"issue_type":"task","created_at":"2026-02-06T18:24:28.579736Z","created_by":"garybasin","updated_at":"2026-02-06T18:26:07.776485Z","dependencies":[{"issue_id":"scriptum-38d","depends_on_id":"scriptum-1v2","type":"blocks","created_at":"2026-02-06T18:26:07.77645Z","created_by":"garybasin","metadata":"{}"}]}
{"id":"scriptum-38l","title":"App: Fixture mode + test harness API","description":"Fixture mode via env var: disable animations, freeze Date.now(), pin fonts, fixed viewport. __SCRIPTUM_TEST__ API: loadFixture, setDocContent, setCursor, spawnRemotePeer, setSyncState, etc. Unit test.","status":"open","priority":1,"issue_type":"task","created_at":"2026-02-06T18:24:29.063524Z","created_by":"garybasin","updated_at":"2026-02-06T18:26:08.397074Z","dependencies":[{"issue_id":"scriptum-38l","depends_on_id":"scriptum-2l8","type":"blocks","created_at":"2026-02-06T18:26:08.397029Z","created_by":"garybasin","metadata":"{}"}]}
{"id":"scriptum-38u","title":"History: Diff toggle","description":"Switch between 'colored authorship' and 'diff from current' views during history browsing. Unit test.","status":"open","priority":3,"issue_type":"task","created_at":"2026-02-06T18:24:30.189525Z","created_by":"garybasin","updated_at":"2026-02-06T18:26:09.901367Z","dependencies":[{"issue_id":"scriptum-38u","depends_on_id":"scriptum-10k","type":"blocks","created_at":"2026-02-06T18:26:09.901325Z","created_by":"garybasin","metadata":"{}"}]}
{"id":"scriptum-397","title":"Relay: OAuth callback + token exchange","description":"POST /v1/auth/oauth/github/callback. Validate flow_id, state, code_verifier (PKCE). Exchange code with GitHub. Create/find user. Generate JWT access (15min) + refresh (30d, rotating). Unit test.","status":"open","priority":0,"issue_type":"task","created_at":"2026-02-06T18:24:27.825993Z","created_by":"garybasin","updated_at":"2026-02-06T18:26:06.741502Z","dependencies":[{"issue_id":"scriptum-397","depends_on_id":"scriptum-2ea","type":"blocks","created_at":"2026-02-06T18:26:06.741469Z","created_by":"garybasin","metadata":"{}"}]}
{"id":"scriptum-39c","title":"Git: Semantic commit triggers","description":"Primary triggers: section lease release, comment thread resolved, explicit scriptum checkpoint. Track trigger events, collect changed files since last commit. Unit test.","status":"open","priority":2,"issue_type":"task","created_at":"2026-02-06T18:24:29.211461Z","created_by":"garybasin","updated_at":"2026-02-06T18:26:08.585649Z","dependencies":[{"issue_id":"scriptum-39c","depends_on_id":"scriptum-ybw","type":"blocks","created_at":"2026-02-06T18:26:08.552795Z","created_by":"garybasin","metadata":"{}"},{"issue_id":"scriptum-39c","depends_on_id":"scriptum-4u6","type":"blocks","created_at":"2026-02-06T18:26:08.585604Z","created_by":"garybasin","metadata":"{}"}]}
{"id":"scriptum-3bk","title":"Relay: Update sequencer","description":"sync/sequencer.rs. In-memory atomic counter per (workspace_id, doc_id). Assign monotonic server_seq. Batch-flush to PG. Recover from MAX(server_seq) on startup. Unit test.","status":"open","priority":0,"issue_type":"task","created_at":"2026-02-06T18:24:28.205243Z","created_by":"garybasin","updated_at":"2026-02-06T18:26:07.311364Z","dependencies":[{"issue_id":"scriptum-3bk","depends_on_id":"scriptum-351","type":"blocks","created_at":"2026-02-06T18:26:07.311328Z","created_by":"garybasin","metadata":"{}"}]}
{"id":"scriptum-3bn","title":"App: Cmd+K command palette","description":"Command palette triggered by Cmd+K. Search files, commands, recent docs. Keyboard navigation. Unit test.","status":"open","priority":2,"issue_type":"task","created_at":"2026-02-06T18:24:28.913742Z","created_by":"garybasin","updated_at":"2026-02-06T18:26:08.208168Z","dependencies":[{"issue_id":"scriptum-3bn","depends_on_id":"scriptum-2l8","type":"blocks","created_at":"2026-02-06T18:26:08.20813Z","created_by":"garybasin","metadata":"{}"}]}
{"id":"scriptum-3c8","title":"Editor: Live preview - task lists + blockquotes + HR","description":"Render task lists (checkboxes), blockquotes (styled indent), horizontal rules on unfocused lines. Unit test.","status":"open","priority":1,"issue_type":"task","created_at":"2026-02-06T18:24:28.505883Z","created_by":"garybasin","updated_at":"2026-02-06T18:26:07.689121Z","dependencies":[{"issue_id":"scriptum-3c8","depends_on_id":"scriptum-1v2","type":"blocks","created_at":"2026-02-06T18:26:07.689087Z","created_by":"garybasin","metadata":"{}"}]}
{"id":"scriptum-3cq","title":"CLI: tree + sections + ls commands","description":"scriptum tree doc.md (section structure with IDs), scriptum sections doc.md (list with metadata), scriptum ls (workspace documents). Unit test each.","status":"open","priority":1,"issue_type":"task","created_at":"2026-02-06T18:24:29.511049Z","created_by":"garybasin","updated_at":"2026-02-06T18:26:09.013066Z","dependencies":[{"issue_id":"scriptum-3cq","depends_on_id":"scriptum-9k0","type":"blocks","created_at":"2026-02-06T18:26:09.013023Z","created_by":"garybasin","metadata":"{}"}]}
{"id":"scriptum-3cz","title":"Daemon: JSON-RPC doc.read method","description":"doc.read: params workspace_id, doc_id, include_content. Returns metadata, optionally content_md (Y.Text toString()), parsed sections. Load doc if not loaded. Unit test.","status":"open","priority":1,"issue_type":"task","created_at":"2026-02-06T18:24:27.496301Z","created_by":"garybasin","updated_at":"2026-02-06T18:26:06.324309Z","dependencies":[{"issue_id":"scriptum-3cz","depends_on_id":"scriptum-3rw","type":"blocks","created_at":"2026-02-06T18:26:06.324272Z","created_by":"garybasin","metadata":"{}"}]}
{"id":"scriptum-3e9","title":"MCP: Tools - status, conflicts, history, agents","description":"scriptum_status -\u003e agent.status, scriptum_conflicts -\u003e agent.conflicts, scriptum_history -\u003e doc.diff, scriptum_agents -\u003e agent.list. Unit test.","status":"open","priority":2,"issue_type":"task","created_at":"2026-02-06T18:24:29.90364Z","created_by":"garybasin","updated_at":"2026-02-06T18:26:09.566579Z","dependencies":[{"issue_id":"scriptum-3e9","depends_on_id":"scriptum-302","type":"blocks","created_at":"2026-02-06T18:26:09.566533Z","created_by":"garybasin","metadata":"{}"}]}
{"id":"scriptum-3er","title":"Relay: Audit event logging","description":"audit/mod.rs. Immutable audit events: auth, permission changes, share links, deletes, admin actions. PII minimized: IP + user-agent as hashes. Unit test.","status":"open","priority":2,"issue_type":"task","created_at":"2026-02-06T18:24:28.337625Z","created_by":"garybasin","updated_at":"2026-02-06T18:26:07.465115Z","dependencies":[{"issue_id":"scriptum-3er","depends_on_id":"scriptum-351","type":"blocks","created_at":"2026-02-06T18:26:07.465083Z","created_by":"garybasin","metadata":"{}"}]}
{"id":"scriptum-3g2","title":"Init packages/editor scaffold","description":"Create packages/editor/package.json + tsconfig.json. Add deps: @codemirror/state, @codemirror/view, @codemirror/lang-markdown, y-codemirror.next, yjs. Create src/index.ts. Stub: live-preview/, collaboration/, section/, reconciliation/, slash-commands/, comments/.","status":"open","priority":0,"issue_type":"task","created_at":"2026-02-06T18:24:26.64415Z","created_by":"garybasin","updated_at":"2026-02-06T18:26:04.767829Z","dependencies":[{"issue_id":"scriptum-3g2","depends_on_id":"scriptum-3ot","type":"blocks","created_at":"2026-02-06T18:26:04.767779Z","created_by":"garybasin","metadata":"{}"}]}
{"id":"scriptum-3g88","title":"Share: Share link management","description":"PATCH /share-links/{id} (update permission, expiry, max_uses, disabled with If-Match). List and revoke. Unit test.","status":"open","priority":2,"issue_type":"task","created_at":"2026-02-06T18:24:30.611834Z","created_by":"garybasin","updated_at":"2026-02-06T18:26:10.498851Z","dependencies":[{"issue_id":"scriptum-3g88","depends_on_id":"scriptum-1sie","type":"blocks","created_at":"2026-02-06T18:26:10.498807Z","created_by":"garybasin","metadata":"{}"}]}
{"id":"scriptum-3ih","title":"App: Playwright smoke suite","description":"5-10 golden screen fixtures + ARIA snapshots with Playwright. Test: editor, sidebar, presence, sync states. Chromium canonical. \u003c 2 min. Unit test.","status":"open","priority":1,"issue_type":"task","created_at":"2026-02-06T18:24:29.090628Z","created_by":"garybasin","updated_at":"2026-02-06T18:26:08.442901Z","dependencies":[{"issue_id":"scriptum-3ih","depends_on_id":"scriptum-38l","type":"blocks","created_at":"2026-02-06T18:26:08.442831Z","created_by":"garybasin","metadata":"{}"}]}
{"id":"scriptum-3jj","title":"App: Right panel - backlinks","description":"Backlinks panel showing incoming [[wiki-style]] links to current doc. Click to navigate. Unit test.","status":"open","priority":3,"issue_type":"task","created_at":"2026-02-06T18:24:29.138305Z","created_by":"garybasin","updated_at":"2026-02-06T18:24:29.138305Z"}
{"id":"scriptum-3jk","title":"Relay: Idempotency key middleware","description":"Extract Idempotency-Key header on mutating POST. Check idempotency_keys table: matching -\u003e return cached; different hash -\u003e REPLAY_MISMATCH; missing -\u003e process and store. TTL expiry. Unit test.","status":"open","priority":1,"issue_type":"task","created_at":"2026-02-06T18:24:27.73828Z","created_by":"garybasin","updated_at":"2026-02-06T18:26:06.621091Z","dependencies":[{"issue_id":"scriptum-3jk","depends_on_id":"scriptum-1a5","type":"blocks","created_at":"2026-02-06T18:26:06.621058Z","created_by":"garybasin","metadata":"{}"}]}
{"id":"scriptum-3l9","title":"Init crates/common with shared Rust types","description":"Create crates/common/Cargo.toml and src/lib.rs. Define common types module (Workspace, Document, Section, SectionOverlap, AgentSession). Define protocol module stubs (jsonrpc.rs, ws.rs). Add serde derives.","status":"open","priority":0,"issue_type":"task","created_at":"2026-02-06T18:24:26.559143Z","created_by":"garybasin","updated_at":"2026-02-06T18:26:04.514032Z","dependencies":[{"issue_id":"scriptum-3l9","depends_on_id":"scriptum-3sk","type":"blocks","created_at":"2026-02-06T18:26:04.513951Z","created_by":"garybasin","metadata":"{}"}]}
{"id":"scriptum-3ln","title":"App: Offline - IndexedDB CRDT store","description":"IndexedDB store for web offline: persist Y.Doc state, queue updates, sync on reconnect. lib/idb-store.ts. Unit test.","status":"open","priority":2,"issue_type":"task","created_at":"2026-02-06T18:24:29.011615Z","created_by":"garybasin","updated_at":"2026-02-06T18:26:08.336329Z","dependencies":[{"issue_id":"scriptum-3ln","depends_on_id":"scriptum-2l8","type":"blocks","created_at":"2026-02-06T18:26:08.336293Z","created_by":"garybasin","metadata":"{}"}]}
{"id":"scriptum-3mm","title":"Editor: Reconciliation detection trigger","description":"Detect when \u003e50% of section characters changed by 2+ editors within 30s. Track per-section edit history with author + timestamp. Unit test trigger conditions.","status":"open","priority":2,"issue_type":"task","created_at":"2026-02-06T18:24:28.700955Z","created_by":"garybasin","updated_at":"2026-02-06T18:26:07.92398Z","dependencies":[{"issue_id":"scriptum-3mm","depends_on_id":"scriptum-33v","type":"blocks","created_at":"2026-02-06T18:26:07.923943Z","created_by":"garybasin","metadata":"{}"}]}
{"id":"scriptum-3mu","title":"Daemon: Diff-to-Yjs conversion (patch-based)","description":"Implement common/diff/patch.rs. Use similar or diff-match-patch to compute minimal text diffs. Convert to Yjs text operations (insert/delete). Origin-tag transactions as file-watcher. Unit test: various diff scenarios.","status":"open","priority":0,"issue_type":"task","created_at":"2026-02-06T18:24:27.117649Z","created_by":"garybasin","updated_at":"2026-02-06T18:26:05.683392Z","dependencies":[{"issue_id":"scriptum-3mu","depends_on_id":"scriptum-3l9","type":"blocks","created_at":"2026-02-06T18:26:05.683357Z","created_by":"garybasin","metadata":"{}"}]}
{"id":"scriptum-3ot","title":"Scaffold pnpm + Turborepo monorepo","description":"Init root package.json with pnpm-workspace.yaml listing packages/*. Add turbo.json with build/test/lint pipeline config. Configure pnpm strict mode. Add .npmrc.","status":"open","priority":0,"issue_type":"task","created_at":"2026-02-06T18:24:26.53135Z","created_by":"garybasin","updated_at":"2026-02-06T18:24:26.53135Z"}
{"id":"scriptum-3ox9","title":"Settings: Settings page","description":"Settings page with tabs: General, Git Sync, Agents, Permissions, Appearance. Each tab renders appropriate config form. Persist to workspace config. Unit test.","status":"open","priority":3,"issue_type":"task","created_at":"2026-02-06T18:24:30.641533Z","created_by":"garybasin","updated_at":"2026-02-06T18:24:30.641533Z"}
{"id":"scriptum-3q5","title":"Daemon: Crash recovery","description":"Recovery in daemon startup: load latest snapshot, replay WAL entries after snapshot seq. Validate checksums. Checksum fail -\u003e mark doc degraded. Integration test: edit, corrupt WAL, recover.","status":"open","priority":1,"issue_type":"task","created_at":"2026-02-06T18:24:27.388078Z","created_by":"garybasin","updated_at":"2026-02-06T18:26:06.085138Z","dependencies":[{"issue_id":"scriptum-3q5","depends_on_id":"scriptum-2hv","type":"blocks","created_at":"2026-02-06T18:26:06.085105Z","created_by":"garybasin","metadata":"{}"}]}
{"id":"scriptum-3r3","title":"Relay: Axum scaffold + middleware stack","description":"Axum router with middleware: request ID, structured logging, panic handler, body size limit (1 MiB). Health check endpoint. Graceful shutdown. Unit test.","status":"open","priority":0,"issue_type":"task","created_at":"2026-02-06T18:24:27.649739Z","created_by":"garybasin","updated_at":"2026-02-06T18:24:27.649739Z"}
{"id":"scriptum-3rw","title":"Daemon: Document memory manager with subscribe/LRU","description":"Implement doc_manager.rs. Active WS subscriptions keep Y.Docs in memory. Last subscriber disconnects -\u003e doc enters LRU cache. Evict under memory pressure (512MB threshold). Unit test: subscribe/unsubscribe lifecycle, LRU eviction.","status":"open","priority":1,"issue_type":"task","created_at":"2026-02-06T18:24:26.974985Z","created_by":"garybasin","updated_at":"2026-02-06T18:26:05.480312Z","dependencies":[{"issue_id":"scriptum-3rw","depends_on_id":"scriptum-1s1","type":"blocks","created_at":"2026-02-06T18:26:05.480279Z","created_by":"garybasin","metadata":"{}"}]}
{"id":"scriptum-3s7k","title":"Permissions: Document ACL overrides","description":"POST /acl-overrides (subject_type, subject_id, role, expires_at). DELETE. Per-document role grants for specific users/agents. Unit test.","status":"open","priority":2,"issue_type":"task","created_at":"2026-02-06T18:24:30.52737Z","created_by":"garybasin","updated_at":"2026-02-06T18:26:10.407569Z","dependencies":[{"issue_id":"scriptum-3s7k","depends_on_id":"scriptum-14xd","type":"blocks","created_at":"2026-02-06T18:26:10.407524Z","created_by":"garybasin","metadata":"{}"}]}
{"id":"scriptum-3sk","title":"Scaffold Cargo workspace root","description":"Create root Cargo.toml with workspace members: crates/common, crates/daemon, crates/cli, crates/relay. Set edition=2021, resolver=2. Add shared workspace dependencies.","status":"open","priority":0,"issue_type":"task","created_at":"2026-02-06T18:19:26.198625Z","created_by":"garybasin","updated_at":"2026-02-06T18:19:26.198625Z"}
{"id":"scriptum-3sp","title":"Relay: Y.Doc management (load/validate/unload)","description":"sync/doc_manager.rs. Load Y.Doc from snapshot + update log on subscribe. Keep in memory while subscribers exist. Validate updates. Unload inactive. Unit test.","status":"open","priority":0,"issue_type":"task","created_at":"2026-02-06T18:24:28.229535Z","created_by":"garybasin","updated_at":"2026-02-06T18:26:07.343435Z","dependencies":[{"issue_id":"scriptum-3sp","depends_on_id":"scriptum-3bk","type":"blocks","created_at":"2026-02-06T18:26:07.3434Z","created_by":"garybasin","metadata":"{}"}]}
{"id":"scriptum-3t7","title":"Init crates/relay scaffold","description":"Create crates/relay/Cargo.toml with deps (axum, sqlx, y-crdt, tokio, tower, jsonwebtoken). Create src/main.rs with Axum bootstrap. Stub api/, ws/, sync/, auth/, db/, leader/, awareness/, audit/.","status":"open","priority":0,"issue_type":"task","created_at":"2026-02-06T18:24:26.624967Z","created_by":"garybasin","updated_at":"2026-02-06T18:26:04.737593Z","dependencies":[{"issue_id":"scriptum-3t7","depends_on_id":"scriptum-3sk","type":"blocks","created_at":"2026-02-06T18:26:04.637981Z","created_by":"garybasin","metadata":"{}"},{"issue_id":"scriptum-3t7","depends_on_id":"scriptum-3l9","type":"blocks","created_at":"2026-02-06T18:26:04.73756Z","created_by":"garybasin","metadata":"{}"}]}
{"id":"scriptum-3ti","title":"Daemon: JSON-RPC doc.diff","description":"doc.diff: params workspace_id, doc_id, from_seq, to_seq. Compute markdown diff between two sequence points. Return patch_md. Unit test.","status":"open","priority":2,"issue_type":"task","created_at":"2026-02-06T18:24:27.583081Z","created_by":"garybasin","updated_at":"2026-02-06T18:24:27.583081Z"}
{"id":"scriptum-3tix","title":"Ops: Health check + readiness probes","description":"GET /health (liveness), GET /ready (readiness: DB connected, sequencer recovered). K8s-compatible. Unit test.","status":"open","priority":2,"issue_type":"task","created_at":"2026-02-06T18:24:31.103103Z","created_by":"garybasin","updated_at":"2026-02-06T18:24:31.103103Z"}
{"id":"scriptum-3tz","title":"CLI: whoami + status + conflicts + agents","description":"Agent state commands. whoami (suggest name, workspace state), status (active sections/overlaps), conflicts (section overlap warnings), agents (list active). Unit test.","status":"open","priority":1,"issue_type":"task","created_at":"2026-02-06T18:24:29.628247Z","created_by":"garybasin","updated_at":"2026-02-06T18:26:09.132414Z","dependencies":[{"issue_id":"scriptum-3tz","depends_on_id":"scriptum-9k0","type":"blocks","created_at":"2026-02-06T18:26:09.132376Z","created_by":"garybasin","metadata":"{}"}]}
{"id":"scriptum-3ur","title":"Editor: Selection highlights per collaborator","description":"Show each collaborator's text selection in their assigned color (translucent highlight). Deterministic color assignment from name hash. Unit test.","status":"open","priority":1,"issue_type":"task","created_at":"2026-02-06T18:24:28.628641Z","created_by":"garybasin","updated_at":"2026-02-06T18:26:07.834757Z","dependencies":[{"issue_id":"scriptum-3ur","depends_on_id":"scriptum-38d","type":"blocks","created_at":"2026-02-06T18:26:07.834721Z","created_by":"garybasin","metadata":"{}"}]}
{"id":"scriptum-3uu","title":"History: Restore to version","description":"'Restore to this version' creates a new edit reverting to the scrubbed state. Not destructive - creates new CRDT ops. Unit test.","status":"open","priority":3,"issue_type":"task","created_at":"2026-02-06T18:24:30.214874Z","created_by":"garybasin","updated_at":"2026-02-06T18:26:09.930258Z","dependencies":[{"issue_id":"scriptum-3uu","depends_on_id":"scriptum-ibr","type":"blocks","created_at":"2026-02-06T18:26:09.930215Z","created_by":"garybasin","metadata":"{}"}]}
{"id":"scriptum-3vqt","title":"Ops: Metrics collection","description":"RED metrics for all endpoints. Custom: sync_ack_latency_ms, outbox_depth, daemon_recovery_time_ms, git_sync_jobs_total, sequence_gap_count. Prometheus endpoint. Unit test.","status":"open","priority":3,"issue_type":"task","created_at":"2026-02-06T18:24:31.189661Z","created_by":"garybasin","updated_at":"2026-02-06T18:24:31.189661Z"}
{"id":"scriptum-4u6","title":"Daemon: Intent/lease storage","description":"Implement agent/lease.rs. Leases in-memory + SQLite. Fields: workspace_id, doc_id, section_id, agent_id, ttl_sec, mode (exclusive/shared), note, expires_at. TTL-only lifecycle. Activity auto-extends. Unit test.","status":"open","priority":2,"issue_type":"task","created_at":"2026-02-06T18:24:27.410073Z","created_by":"garybasin","updated_at":"2026-02-06T18:26:06.14205Z","dependencies":[{"issue_id":"scriptum-4u6","depends_on_id":"scriptum-1sx","type":"blocks","created_at":"2026-02-06T18:26:06.113707Z","created_by":"garybasin","metadata":"{}"},{"issue_id":"scriptum-4u6","depends_on_id":"scriptum-33v","type":"blocks","created_at":"2026-02-06T18:26:06.142016Z","created_by":"garybasin","metadata":"{}"}]}
{"id":"scriptum-6co","title":"Daemon: JSON-RPC doc.sections + doc.tree","description":"doc.sections (section list for doc) and doc.tree (document tree for workspace with path_prefix filter). Unit test.","status":"open","priority":1,"issue_type":"task","created_at":"2026-02-06T18:24:27.539574Z","created_by":"garybasin","updated_at":"2026-02-06T18:26:06.388649Z","dependencies":[{"issue_id":"scriptum-6co","depends_on_id":"scriptum-33v","type":"blocks","created_at":"2026-02-06T18:26:06.388612Z","created_by":"garybasin","metadata":"{}"}]}
{"id":"scriptum-7ak","title":"Relay: JWT access token generation + validation","description":"auth/jwt.rs. Generate workspace-scoped JWT access tokens (15min). Validate: signature, expiry, claims. Extract user_id + workspace access. Unit test.","status":"open","priority":0,"issue_type":"task","created_at":"2026-02-06T18:24:27.847359Z","created_by":"garybasin","updated_at":"2026-02-06T18:26:06.770069Z","dependencies":[{"issue_id":"scriptum-7ak","depends_on_id":"scriptum-3t7","type":"blocks","created_at":"2026-02-06T18:26:06.770029Z","created_by":"garybasin","metadata":"{}"}]}
{"id":"scriptum-89k","title":"Relay: Dual attribution logging","description":"Annotate each yjs_update with authenticated user_id or agent_id from session. Store in yjs_update_log. Enables per-section attribution queries. Unit test.","status":"open","priority":1,"issue_type":"task","created_at":"2026-02-06T18:24:28.280047Z","created_by":"garybasin","updated_at":"2026-02-06T18:26:07.402976Z","dependencies":[{"issue_id":"scriptum-89k","depends_on_id":"scriptum-p0f","type":"blocks","created_at":"2026-02-06T18:26:07.402937Z","created_by":"garybasin","metadata":"{}"}]}
{"id":"scriptum-9k0","title":"CLI: JSON-RPC client to daemon","description":"client.rs. Connect to Unix socket, send JSON-RPC requests, receive responses. Handle timeout, reconnection, daemon not running (exit code 10). Unit test.","status":"open","priority":1,"issue_type":"task","created_at":"2026-02-06T18:24:29.385569Z","created_by":"garybasin","updated_at":"2026-02-06T18:26:08.864378Z","dependencies":[{"issue_id":"scriptum-9k0","depends_on_id":"scriptum-fmx","type":"blocks","created_at":"2026-02-06T18:26:08.864342Z","created_by":"garybasin","metadata":"{}"}]}
{"id":"scriptum-ako","title":"Daemon: File watcher pipeline (full)","description":"Implement watcher/pipeline.rs. Full pipeline: FS event -\u003e debounce -\u003e read file -\u003e hash check -\u003e diff against CRDT -\u003e apply as Yjs ops -\u003e propagate. Wire all components. Integration test: external edit -\u003e CRDT updated.","status":"open","priority":1,"issue_type":"task","created_at":"2026-02-06T18:24:27.137473Z","created_by":"garybasin","updated_at":"2026-02-06T18:26:05.771512Z","dependencies":[{"issue_id":"scriptum-ako","depends_on_id":"scriptum-qie","type":"blocks","created_at":"2026-02-06T18:26:05.712365Z","created_by":"garybasin","metadata":"{}"},{"issue_id":"scriptum-ako","depends_on_id":"scriptum-136","type":"blocks","created_at":"2026-02-06T18:26:05.740254Z","created_by":"garybasin","metadata":"{}"},{"issue_id":"scriptum-ako","depends_on_id":"scriptum-3mu","type":"blocks","created_at":"2026-02-06T18:26:05.771479Z","created_by":"garybasin","metadata":"{}"}]}
{"id":"scriptum-bnr","title":"CI: Lint and format workflow","description":"Create .github/workflows/lint.yml. Jobs: biome check (TS), cargo clippy (Rust), cargo fmt --check (Rust), tsc --noEmit (TS). Trigger on push/PR. Cache cargo + pnpm.","status":"open","priority":1,"issue_type":"task","created_at":"2026-02-06T18:24:26.813494Z","created_by":"garybasin","updated_at":"2026-02-06T18:26:05.174023Z","dependencies":[{"issue_id":"scriptum-bnr","depends_on_id":"scriptum-kzs","type":"blocks","created_at":"2026-02-06T18:26:05.140328Z","created_by":"garybasin","metadata":"{}"},{"issue_id":"scriptum-bnr","depends_on_id":"scriptum-rr3","type":"blocks","created_at":"2026-02-06T18:26:05.173959Z","created_by":"garybasin","metadata":"{}"}]}
{"id":"scriptum-fmx","title":"CLI: clap scaffold + daemon auto-start","description":"clap CLI with all subcommands defined. Socket-activated daemon auto-start: try connect to daemon.sock, connection refused -\u003e fork+exec scriptumd, retry. daemon_launcher.rs. Unit test.","status":"open","priority":1,"issue_type":"task","created_at":"2026-02-06T18:24:29.357752Z","created_by":"garybasin","updated_at":"2026-02-06T18:26:08.833533Z","dependencies":[{"issue_id":"scriptum-fmx","depends_on_id":"scriptum-1g5","type":"blocks","created_at":"2026-02-06T18:26:08.802386Z","created_by":"garybasin","metadata":"{}"},{"issue_id":"scriptum-fmx","depends_on_id":"scriptum-2ds","type":"blocks","created_at":"2026-02-06T18:26:08.833477Z","created_by":"garybasin","metadata":"{}"}]}
{"id":"scriptum-fon","title":"Desktop: Wire editor + app shell","description":"Mount web app (packages/web) inside Tauri webview. Connect editor to embedded daemon's local WS. Verify full editing flow works.","status":"open","priority":2,"issue_type":"task","created_at":"2026-02-06T18:24:29.72793Z","created_by":"garybasin","updated_at":"2026-02-06T18:26:09.350955Z","dependencies":[{"issue_id":"scriptum-fon","depends_on_id":"scriptum-34m","type":"blocks","created_at":"2026-02-06T18:26:09.288834Z","created_by":"garybasin","metadata":"{}"},{"issue_id":"scriptum-fon","depends_on_id":"scriptum-2l8","type":"blocks","created_at":"2026-02-06T18:26:09.321398Z","created_by":"garybasin","metadata":"{}"},{"issue_id":"scriptum-fon","depends_on_id":"scriptum-1v2","type":"blocks","created_at":"2026-02-06T18:26:09.350917Z","created_by":"garybasin","metadata":"{}"}]}
{"id":"scriptum-gq6","title":"CLI: Output format auto-detect","description":"output.rs. TTY -\u003e human-readable text. Piped/redirected -\u003e structured JSON. Auto-detect via isatty(). --json flag to force JSON. Unit test.","status":"open","priority":1,"issue_type":"task","created_at":"2026-02-06T18:24:29.41226Z","created_by":"garybasin","updated_at":"2026-02-06T18:26:08.894049Z","dependencies":[{"issue_id":"scriptum-gq6","depends_on_id":"scriptum-fmx","type":"blocks","created_at":"2026-02-06T18:26:08.894009Z","created_by":"garybasin","metadata":"{}"}]}
{"id":"scriptum-ibr","title":"History: Replay engine","description":"Snapshot + sequential WAL replay. Scrub to time T = load nearest snapshot before T, replay entries until T. Max 1000 ops per scrub (~50ms). Unit test.","status":"open","priority":3,"issue_type":"task","created_at":"2026-02-06T18:24:30.113142Z","created_by":"garybasin","updated_at":"2026-02-06T18:26:09.806804Z","dependencies":[{"issue_id":"scriptum-ibr","depends_on_id":"scriptum-2hv","type":"blocks","created_at":"2026-02-06T18:26:09.806762Z","created_by":"garybasin","metadata":"{}"}]}
{"id":"scriptum-iflc","title":"Comments: Resolve/collapse UI","description":"Resolve button on threads. Resolved comments collapse to subtle dot in margin. Reopen from collapsed state. Unit test.","status":"open","priority":2,"issue_type":"task","created_at":"2026-02-06T18:24:30.477463Z","created_by":"garybasin","updated_at":"2026-02-06T18:26:10.34612Z","dependencies":[{"issue_id":"scriptum-iflc","depends_on_id":"scriptum-qjb7","type":"blocks","created_at":"2026-02-06T18:26:10.346076Z","created_by":"garybasin","metadata":"{}"}]}
{"id":"scriptum-iik","title":"Relay: Refresh token rotation","description":"Single-use, family-based rotation, 30d expiry. POST /v1/auth/token/refresh. Reuse detection: revoke entire family. POST /v1/auth/logout. Unit test: rotation, reuse, expiry.","status":"open","priority":0,"issue_type":"task","created_at":"2026-02-06T18:24:27.869636Z","created_by":"garybasin","updated_at":"2026-02-06T18:26:06.79849Z","dependencies":[{"issue_id":"scriptum-iik","depends_on_id":"scriptum-397","type":"blocks","created_at":"2026-02-06T18:26:06.798458Z","created_by":"garybasin","metadata":"{}"}]}
{"id":"scriptum-in6","title":"Init crates/daemon scaffold","description":"Create crates/daemon/Cargo.toml with deps (y-crdt, tokio, notify, rusqlite, axum). Create src/main.rs (standalone), src/lib.rs (Tauri embed). Stub module declarations for engine/, watcher/, section/, agent/, git/, rpc/, store/, outbox/.","status":"open","priority":0,"issue_type":"task","created_at":"2026-02-06T18:24:26.583644Z","created_by":"garybasin","updated_at":"2026-02-06T18:26:04.67139Z","dependencies":[{"issue_id":"scriptum-in6","depends_on_id":"scriptum-3sk","type":"blocks","created_at":"2026-02-06T18:26:04.564746Z","created_by":"garybasin","metadata":"{}"},{"issue_id":"scriptum-in6","depends_on_id":"scriptum-3l9","type":"blocks","created_at":"2026-02-06T18:26:04.671356Z","created_by":"garybasin","metadata":"{}"}]}
{"id":"scriptum-j96","title":"Daemon: JSON-RPC doc.bundle","description":"doc.bundle: workspace_id, doc_id, section_id, include (parents/children/backlinks/comments), token_budget. Assemble context bundle. Truncation: comments -\u003e backlinks -\u003e children -\u003e parents. tiktoken-rs cl100k_base. Unit test.","status":"open","priority":2,"issue_type":"task","created_at":"2026-02-06T18:24:27.627857Z","created_by":"garybasin","updated_at":"2026-02-06T18:26:06.494712Z","dependencies":[{"issue_id":"scriptum-j96","depends_on_id":"scriptum-3cz","type":"blocks","created_at":"2026-02-06T18:26:06.494677Z","created_by":"garybasin","metadata":"{}"}]}
{"id":"scriptum-k3k","title":"CLI: setup claude command","description":"scriptum setup claude [--remove]. Install hooks into .claude/settings.json: SessionStart, PreCompact, PreToolUse, PostToolUse, Stop. Generate hook scripts. Unit test.","status":"open","priority":2,"issue_type":"task","created_at":"2026-02-06T18:24:29.653677Z","created_by":"garybasin","updated_at":"2026-02-06T18:26:09.161862Z","dependencies":[{"issue_id":"scriptum-k3k","depends_on_id":"scriptum-fmx","type":"blocks","created_at":"2026-02-06T18:26:09.161824Z","created_by":"garybasin","metadata":"{}"}]}
{"id":"scriptum-k7k","title":"Relay: WS protocol - hello/hello_ack","description":"Client sends session_token + optional resume_token. Server validates, sends hello_ack with server_time + resume_accepted. Handle invalid/expired tokens. Unit test.","status":"open","priority":0,"issue_type":"task","created_at":"2026-02-06T18:24:28.069632Z","created_by":"garybasin","updated_at":"2026-02-06T18:26:07.089599Z","dependencies":[{"issue_id":"scriptum-k7k","depends_on_id":"scriptum-2qb","type":"blocks","created_at":"2026-02-06T18:26:07.089565Z","created_by":"garybasin","metadata":"{}"}]}
{"id":"scriptum-kzs","title":"Configure Biome for TS lint + format","description":"Add biome.json to root. Configure formatting (indent, quotes, semicolons), linting rules (recommended). Add scripts to root package.json: lint, format, check.","status":"open","priority":0,"issue_type":"task","created_at":"2026-02-06T18:24:26.724686Z","created_by":"garybasin","updated_at":"2026-02-06T18:26:05.051214Z","dependencies":[{"issue_id":"scriptum-kzs","depends_on_id":"scriptum-3ot","type":"blocks","created_at":"2026-02-06T18:26:05.051177Z","created_by":"garybasin","metadata":"{}"}]}
{"id":"scriptum-l4t","title":"Git: AI commit message generation","description":"git/commit.rs. Call Claude Haiku with diff summary. System prompt: concise, imperative mood, max 72 chars first line. Respect redaction policy (disabled/redacted/full). Unit test.","status":"open","priority":2,"issue_type":"task","created_at":"2026-02-06T18:24:29.260225Z","created_by":"garybasin","updated_at":"2026-02-06T18:26:08.653574Z","dependencies":[{"issue_id":"scriptum-l4t","depends_on_id":"scriptum-ybw","type":"blocks","created_at":"2026-02-06T18:26:08.653533Z","created_by":"garybasin","metadata":"{}"}]}
{"id":"scriptum-lp3","title":"Daemon: Agent session + recent edits persistence","description":"Agent state persistence in meta.db. CRUD for agent_sessions (session_id, agent_id, status). CRUD for agent_recent_edits (doc_id, agent_id, offsets, ts). Prune old entries. Unit test.","status":"open","priority":1,"issue_type":"task","created_at":"2026-02-06T18:24:27.325673Z","created_by":"garybasin","updated_at":"2026-02-06T18:26:06.000263Z","dependencies":[{"issue_id":"scriptum-lp3","depends_on_id":"scriptum-1sx","type":"blocks","created_at":"2026-02-06T18:26:06.000231Z","created_by":"garybasin","metadata":"{}"}]}
{"id":"scriptum-mr0","title":"CI: Rust test workflow","description":"Create .github/workflows/test-rust.yml. Run cargo nextest across all crates. Cache cargo build artifacts. Trigger on push/PR.","status":"open","priority":1,"issue_type":"task","created_at":"2026-02-06T18:24:26.833144Z","created_by":"garybasin","updated_at":"2026-02-06T18:26:05.207114Z","dependencies":[{"issue_id":"scriptum-mr0","depends_on_id":"scriptum-rr3","type":"blocks","created_at":"2026-02-06T18:26:05.207083Z","created_by":"garybasin","metadata":"{}"}]}
{"id":"scriptum-mv6","title":"Daemon: /rpc JSON-RPC endpoint over WebSocket","description":"Add /rpc endpoint to daemon local WS server. Implement JSON-RPC 2.0: parse requests, dispatch to handlers, return results. Support batch requests. Unit test: valid request/response, error handling.","status":"open","priority":1,"issue_type":"task","created_at":"2026-02-06T18:24:26.995151Z","created_by":"garybasin","updated_at":"2026-02-06T18:26:05.509112Z","dependencies":[{"issue_id":"scriptum-mv6","depends_on_id":"scriptum-25w","type":"blocks","created_at":"2026-02-06T18:26:05.50908Z","created_by":"garybasin","metadata":"{}"}]}
{"id":"scriptum-nwj","title":"Daemon: Relay connection manager","description":"WebSocket client to relay. Connect, authenticate, subscribe to docs. Reconnection with exponential backoff. Send outbox updates. Receive remote updates, apply to local Y.Docs. Integration test.","status":"open","priority":1,"issue_type":"task","created_at":"2026-02-06T18:24:27.453192Z","created_by":"garybasin","updated_at":"2026-02-06T18:26:06.226689Z","dependencies":[{"issue_id":"scriptum-nwj","depends_on_id":"scriptum-1bg","type":"blocks","created_at":"2026-02-06T18:26:06.198584Z","created_by":"garybasin","metadata":"{}"},{"issue_id":"scriptum-nwj","depends_on_id":"scriptum-25w","type":"blocks","created_at":"2026-02-06T18:26:06.226659Z","created_by":"garybasin","metadata":"{}"}]}
{"id":"scriptum-orm","title":"App: Auth flow - GitHub OAuth","description":"Web auth flow: redirect to GitHub, handle callback, store tokens, auto-refresh. Session persistence in localStorage. Protected routes. Unit test.","status":"open","priority":1,"issue_type":"task","created_at":"2026-02-06T18:24:28.988193Z","created_by":"garybasin","updated_at":"2026-02-06T18:26:08.305415Z","dependencies":[{"issue_id":"scriptum-orm","depends_on_id":"scriptum-2l8","type":"blocks","created_at":"2026-02-06T18:26:08.305372Z","created_by":"garybasin","metadata":"{}"}]}
{"id":"scriptum-p0f","title":"Relay: WS protocol - yjs_update + ack","description":"Bidirectional yjs_update. Client-\u003eserver: validate, apply to Y.Doc, assign server_seq, store in log, broadcast, send ack. Dedupe by (client_id, client_update_id). Unit test.","status":"open","priority":0,"issue_type":"task","created_at":"2026-02-06T18:24:28.11465Z","created_by":"garybasin","updated_at":"2026-02-06T18:26:07.185623Z","dependencies":[{"issue_id":"scriptum-p0f","depends_on_id":"scriptum-2re","type":"blocks","created_at":"2026-02-06T18:26:07.152187Z","created_by":"garybasin","metadata":"{}"},{"issue_id":"scriptum-p0f","depends_on_id":"scriptum-3bk","type":"blocks","created_at":"2026-02-06T18:26:07.185587Z","created_by":"garybasin","metadata":"{}"}]}
{"id":"scriptum-pu5","title":"Search: Search panel UI","description":"Cmd+Shift+F opens search panel (replaces file tree temporarily). Full-text results: file name, matching line highlighted, context snippet. Click to open at match. Filters by tag, author, date. Unit test.","status":"open","priority":2,"issue_type":"task","created_at":"2026-02-06T18:24:30.291658Z","created_by":"garybasin","updated_at":"2026-02-06T18:26:10.021445Z","dependencies":[{"issue_id":"scriptum-pu5","depends_on_id":"scriptum-38b","type":"blocks","created_at":"2026-02-06T18:26:10.021401Z","created_by":"garybasin","metadata":"{}"}]}
{"id":"scriptum-qie","title":"Daemon: File watcher debounce logic","description":"Implement watcher/debounce.rs. 100ms debounce (configurable 50-500ms via workspace.toml). Coalesce multiple events on same path within window. Unit test: rapid events coalesce, timeout triggers.","status":"open","priority":1,"issue_type":"task","created_at":"2026-02-06T18:24:27.0778Z","created_by":"garybasin","updated_at":"2026-02-06T18:26:05.62806Z","dependencies":[{"issue_id":"scriptum-qie","depends_on_id":"scriptum-1rz","type":"blocks","created_at":"2026-02-06T18:26:05.628029Z","created_by":"garybasin","metadata":"{}"}]}
{"id":"scriptum-qjb7","title":"Comments: Threaded replies","description":"Threaded replies within comment popover. Show author, timestamp, body. Edit own comments. Unit test.","status":"open","priority":2,"issue_type":"task","created_at":"2026-02-06T18:24:30.451472Z","created_by":"garybasin","updated_at":"2026-02-06T18:26:10.312953Z","dependencies":[{"issue_id":"scriptum-qjb7","depends_on_id":"scriptum-1yz8","type":"blocks","created_at":"2026-02-06T18:26:10.312907Z","created_by":"garybasin","metadata":"{}"}]}
{"id":"scriptum-rhu","title":"Configure Vitest for TS testing","description":"Add vitest as devDep. Create vitest workspace config or per-package configs for packages/editor, packages/web, packages/shared, packages/mcp-server. Add test scripts to turbo.json pipeline.","status":"open","priority":0,"issue_type":"task","created_at":"2026-02-06T18:24:26.747476Z","created_by":"garybasin","updated_at":"2026-02-06T18:26:05.081167Z","dependencies":[{"issue_id":"scriptum-rhu","depends_on_id":"scriptum-3ot","type":"blocks","created_at":"2026-02-06T18:26:05.081084Z","created_by":"garybasin","metadata":"{}"}]}
{"id":"scriptum-rr3","title":"Configure Rust tooling (clippy, rustfmt, nextest)","description":"Add rustfmt.toml, clippy.toml. Configure cargo-nextest. Add cargo-deny.toml for license/vuln auditing. Verify clippy and fmt pass on scaffold code.","status":"open","priority":0,"issue_type":"task","created_at":"2026-02-06T18:24:26.770679Z","created_by":"garybasin","updated_at":"2026-02-06T18:26:05.10999Z","dependencies":[{"issue_id":"scriptum-rr3","depends_on_id":"scriptum-3sk","type":"blocks","created_at":"2026-02-06T18:26:05.109953Z","created_by":"garybasin","metadata":"{}"}]}
{"id":"scriptum-srq","title":"Relay: WS protocol - resume token","description":"Issue resume_token on hello_ack (TTL 10min, single-use, bound to session+workspace+client+device). Reconnect: validate, skip auth, replay from last_server_seq. Unit test.","status":"open","priority":2,"issue_type":"task","created_at":"2026-02-06T18:24:28.182956Z","created_by":"garybasin","updated_at":"2026-02-06T18:26:07.28111Z","dependencies":[{"issue_id":"scriptum-srq","depends_on_id":"scriptum-k7k","type":"blocks","created_at":"2026-02-06T18:26:07.281078Z","created_by":"garybasin","metadata":"{}"}]}
{"id":"scriptum-tmro","title":"Test: Integration - relay + WebSocket","description":"Integration test: start relay with test DB, create session, connect WS, subscribe to doc, send update, verify ack + broadcast to other subscriber.","status":"open","priority":1,"issue_type":"task","created_at":"2026-02-06T18:24:30.830322Z","created_by":"garybasin","updated_at":"2026-02-06T18:26:10.690333Z","dependencies":[{"issue_id":"scriptum-tmro","depends_on_id":"scriptum-p0f","type":"blocks","created_at":"2026-02-06T18:26:10.690284Z","created_by":"garybasin","metadata":"{}"}]}
{"id":"scriptum-toe","title":"Editor: Slash command system","description":"CM6 autocomplete-based slash commands: /table, /code, /image, /callout. Type / to trigger. Insert appropriate markdown template. Unit test.","status":"open","priority":2,"issue_type":"task","created_at":"2026-02-06T18:24:28.677231Z","created_by":"garybasin","updated_at":"2026-02-06T18:26:07.892961Z","dependencies":[{"issue_id":"scriptum-toe","depends_on_id":"scriptum-1v2","type":"blocks","created_at":"2026-02-06T18:26:07.892925Z","created_by":"garybasin","metadata":"{}"}]}
{"id":"scriptum-txg","title":"Init packages/shared with TS types","description":"Create packages/shared/package.json + tsconfig.json. Define shared TypeScript types: Workspace, Document, Section, CommentThread, CommentMessage, ShareLink, SyncSession, Agent. Stub api/ and protocol/.","status":"open","priority":0,"issue_type":"task","created_at":"2026-02-06T18:24:26.683945Z","created_by":"garybasin","updated_at":"2026-02-06T18:26:04.893141Z","dependencies":[{"issue_id":"scriptum-txg","depends_on_id":"scriptum-3ot","type":"blocks","created_at":"2026-02-06T18:26:04.893105Z","created_by":"garybasin","metadata":"{}"}]}
{"id":"scriptum-ub0","title":"Relay: WS protocol - heartbeat + disconnect","description":"Ping/pong every 15s. Disconnect if no pong in 10s. Clean up subscriptions + awareness on disconnect. Unit test.","status":"open","priority":1,"issue_type":"task","created_at":"2026-02-06T18:24:28.160069Z","created_by":"garybasin","updated_at":"2026-02-06T18:26:07.248822Z","dependencies":[{"issue_id":"scriptum-ub0","depends_on_id":"scriptum-k7k","type":"blocks","created_at":"2026-02-06T18:26:07.248788Z","created_by":"garybasin","metadata":"{}"}]}
{"id":"scriptum-vgc","title":"Daemon: WAL persistence (production)","description":"Production WAL in store/wal.rs. Format: [length:u32][checksum:u32][yjs_update:bytes]*. Append atomically, fsync before ack. Handle corrupted entries. Per-doc WAL files. Unit test: write, read, corruption recovery.","status":"open","priority":0,"issue_type":"task","created_at":"2026-02-06T18:24:27.345946Z","created_by":"garybasin","updated_at":"2026-02-06T18:26:06.027947Z","dependencies":[{"issue_id":"scriptum-vgc","depends_on_id":"scriptum-2f1","type":"blocks","created_at":"2026-02-06T18:26:06.027917Z","created_by":"garybasin","metadata":"{}"}]}
{"id":"scriptum-vqd","title":"Editor: Reconciliation inline UI","description":"When trigger fires, show both versions inline separated by divider with author attribution. Keep A / Keep B / Keep Both buttons. Resolution replaces inline UI with chosen version. Unit test.","status":"open","priority":2,"issue_type":"task","created_at":"2026-02-06T18:24:28.723518Z","created_by":"garybasin","updated_at":"2026-02-06T18:26:07.95641Z","dependencies":[{"issue_id":"scriptum-vqd","depends_on_id":"scriptum-3mm","type":"blocks","created_at":"2026-02-06T18:26:07.956276Z","created_by":"garybasin","metadata":"{}"}]}
{"id":"scriptum-x5lk","title":"Ops: Structured JSON logging","description":"Structured JSON logs for relay. Fields: request_id, workspace_id, actor hash, endpoint, error code, latency. No raw PII. Configure tracing-subscriber. Unit test.","status":"open","priority":2,"issue_type":"task","created_at":"2026-02-06T18:24:31.130458Z","created_by":"garybasin","updated_at":"2026-02-06T18:24:31.130458Z"}
{"id":"scriptum-ybw","title":"Git: Shell out to git CLI wrapper","description":"git/worker.rs. Wrapper around git CLI: status, add, commit, push, pull --rebase. Use existing user auth (SSH keys, credential helpers, gh auth). Error handling. Unit test.","status":"open","priority":1,"issue_type":"task","created_at":"2026-02-06T18:24:29.163161Z","created_by":"garybasin","updated_at":"2026-02-06T18:26:08.482632Z","dependencies":[{"issue_id":"scriptum-ybw","depends_on_id":"scriptum-in6","type":"blocks","created_at":"2026-02-06T18:26:08.482597Z","created_by":"garybasin","metadata":"{}"}]}
{"id":"scriptum-zkf","title":"Git: Redaction policy enforcement","description":"Before sending diff to Claude API, apply redaction policy. Strip API keys, secrets, credentials patterns. Modes: disabled (no AI), redacted (sanitized), full. Unit test.","status":"open","priority":2,"issue_type":"task","created_at":"2026-02-06T18:24:29.333244Z","created_by":"garybasin","updated_at":"2026-02-06T18:26:08.772547Z","dependencies":[{"issue_id":"scriptum-zkf","depends_on_id":"scriptum-l4t","type":"blocks","created_at":"2026-02-06T18:26:08.77251Z","created_by":"garybasin","metadata":"{}"}]}
